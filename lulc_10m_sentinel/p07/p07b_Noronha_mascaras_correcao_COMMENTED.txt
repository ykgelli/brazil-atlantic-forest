var geometry = 
    /* color: #d63000 */
    /* shown: false */
    ee.FeatureCollection(
        [ee.Feature(
            ee.Geometry.Polygon(
                [[[-32.40746516992339, -3.8984848858316368],
                  [-32.37648029138335, -3.8712534435170087],
                  [-32.35493632144882, -3.8172147930731093],
                  [-32.35785491993815, -3.7945200906884313],
                  [-32.371673772828665, -3.784072715241967],
                  [-32.39673633386382, -3.7845865764791977],
                  [-32.43866235405346, -3.8078390062584506],
                  [-32.47544071848571, -3.831517810738321],
                  [-32.504024694459524, -3.8618335580220573],
                  [-32.506943044621195, -3.8898362871479573],
                  [-32.48042120663824, -3.910945060336211],
                  [-32.44194733975278, -3.9031957912867887]]]),
            {
              "remap": 0,
              "system:index": "0"
            })]),
    praia_agua = 
    /* color: #d63000 */
    /* shown: false */
    ee.FeatureCollection(
        [ee.Feature(
            ee.Geometry.Polygon(
                [[[-32.40042106910259, -3.8346322910705846],
                  [-32.402105496363944, -3.8363664696053466],
                  [-32.40254805788747, -3.836215266701251],
                  [-32.401799718402515, -3.835421775411879],
                  [-32.401449687609684, -3.834666419763646],
                  [-32.4016518582616, -3.8339637493426006],
                  [-32.402175893580264, -3.833689271714441],
                  [-32.40519807284874, -3.8357522881474524],
                  [-32.40999118311899, -3.8365431047598992],
                  [-32.411530770293815, -3.837266346680212],
                  [-32.412147680177235, -3.8386104645834087],
                  [-32.41069392370573, -3.838680715389429],
                  [-32.41072074646304, -3.837552030735448],
                  [-32.40942256008315, -3.837430260379703],
                  [-32.409073873545445, -3.8388894530054225],
                  [-32.41044180198223, -3.8394494449754006],
                  [-32.411210948112156, -3.8395095366128764],
                  [-32.4119371785531, -3.839055799256541],
                  [-32.41203780737122, -3.8402464564903402],
                  [-32.41396566955383, -3.8406812120090437],
                  [-32.41431352496503, -3.839556178639457],
                  [-32.41371920863252, -3.8394890142558493],
                  [-32.41468805357755, -3.837346592812396],
                  [-32.41557106483663, -3.836724248826345],
                  [-32.416210564286736, -3.8386481725435524],
                  [-32.41491887202207, -3.8399298100372428],
                  [-32.41548583705587, -3.841426403462565],
                  [-32.421122566389165, -3.8438373714287857],
                  [-32.423434630292114, -3.843390452831992],
                  [-32.42328174373872, -3.8420858152833657],
                  [-32.42037355851422, -3.8421236165037334],
                  [-32.41636600370332, -3.8408579516714063],
                  [-32.415413650291825, -3.8400110308124966],
                  [-32.424460573802044, -3.841219401458951],
                  [-32.428182808919274, -3.842413312186978],
                  [-32.432232609846345, -3.8459861726856164],
                  [-32.430759903254284, -3.845631668249097],
                  [-32.428843379907164, -3.8448977701634437],
                  [-32.427219932691465, -3.8441882688338254],
                  [-32.42559648948146, -3.8427936636938425],
                  [-32.42541946532319, -3.8441130172577855],
                  [-32.42607928864869, -3.8453039142343544],
                  [-32.43100382440003, -3.846984547777643],
                  [-32.436243650806276, -3.8499698430519906],
                  [-32.43987208589688, -3.851334024275619],
                  [-32.44097820223423, -3.849885894648321],
                  [-32.44029533457525, -3.8500098975694637],
                  [-32.43926914434319, -3.8497057146361153],
                  [-32.437302596920254, -3.848711978791487],
                  [-32.43611608534103, -3.8485657011545413],
                  [-32.43408639081114, -3.8475024051658964],
                  [-32.43376064054096, -3.8467031886939695],
                  [-32.442146696601846, -3.847895047287978],
                  [-32.44480355554552, -3.848872802670893],
                  [-32.444371985668305, -3.851984417707231],
                  [-32.44181609859869, -3.8532334289167545],
                  [-32.4426767366817, -3.856056402884059],
                  [-32.44576780928707, -3.856226164707698],
                  [-32.44515119233951, -3.8532071034018416],
                  [-32.447181766754404, -3.8534959403209843],
                  [-32.4491694304266, -3.8551549581806204],
                  [-32.45016780104358, -3.859607289422499],
                  [-32.45182004179675, -3.862968496664803],
                  [-32.45536055769641, -3.863182585847156],
                  [-32.45649781431872, -3.8632039947624146],
                  [-32.459800516407576, -3.867148105853334],
                  [-32.46486452702769, -3.871558310353008],
                  [-32.46825483922252, -3.8746839753611186],
                  [-32.47597960118541, -3.8730997356353676],
                  [-32.477567468922224, -3.875840040315644],
                  [-32.47198847417125, -3.8805927351870597],
                  [-32.457354341785994, -3.8823054114705524],
                  [-32.439514994927706, -3.8711602598556003],
                  [-32.43987977535373, -3.8687624804895164],
                  [-32.43809878856784, -3.868013173045781],
                  [-32.43535220653659, -3.868634027831934],
                  [-32.43258416683322, -3.870453771997767],
                  [-32.43344247371799, -3.871909564515205],
                  [-32.42687686095816, -3.878453505810662],
                  [-32.42355092177969, -3.8791385784755974],
                  [-32.42195701719532, -3.8743707631421915],
                  [-32.423287392866705, -3.871309323110564],
                  [-32.42392039419422, -3.870560017919768],
                  [-32.42460703970203, -3.8703405784169433],
                  [-32.42532587171802, -3.87051720046027],
                  [-32.42558336378345, -3.867070387871079],
                  [-32.42665624738941, -3.8667706643746453],
                  [-32.42521858335743, -3.865357680749958],
                  [-32.42219305158863, -3.8648438679390265],
                  [-32.42120599867115, -3.866195113018103],
                  [-32.424810887587164, -3.868057680007682],
                  [-32.41940355421314, -3.874715788287393],
                  [-32.415283681166265, -3.872938870621683],
                  [-32.41056926996716, -3.8683045222100314],
                  [-32.40758264139628, -3.8613219735528608],
                  [-32.40803325251078, -3.8577894873976386],
                  [-32.40957820490336, -3.85723285187582],
                  [-32.40942800119853, -3.856633397829195],
                  [-32.40863406733012, -3.855969716070098],
                  [-32.40803325251078, -3.857489760623504],
                  [-32.40131700113749, -3.8631203244951857],
                  [-32.397476077828166, -3.8585816219345563],
                  [-32.39489997112697, -3.8546273162958484],
                  [-32.388977653622085, -3.8503026608082234],
                  [-32.39287609126983, -3.8479056084861147],
                  [-32.409364513970814, -3.8554420087450687],
                  [-32.432033192187795, -3.867259776667983],
                  [-32.438403089178216, -3.852358893206405],
                  [-32.414578818854324, -3.8422537301719157],
                  [-32.40006096487438, -3.840541169604075],
                  [-32.3981477563907, -3.8384862666713646],
                  [-32.398398543549455, -3.8364148917045435],
                  [-32.399636382179814, -3.8368270265651137],
                  [-32.39970880158946, -3.838464857621568],
                  [-32.40013259106172, -3.839257009644209],
                  [-32.400508100323805, -3.8386147238818213],
                  [-32.40192967167096, -3.838015255921199],
                  [-32.40129130535615, -3.8361312143892032],
                  [-32.39735149857923, -3.835799255022772],
                  [-32.39563909020753, -3.836746569197293],
                  [-32.39255339433611, -3.8345466654671148],
                  [-32.38332520460374, -3.8186155013256045],
                  [-32.37564335798509, -3.8088096499873556],
                  [-32.37761746382005, -3.8021724382793978],
                  [-32.39611397718675, -3.8084670854737803],
                  [-32.401511068325036, -3.819409172899337],
                  [-32.40665005918639, -3.8284116724177366],
                  [-32.40185628177322, -3.831024500132854],
                  [-32.403036455729804, -3.8332832227269114],
                  [-32.401427129881995, -3.833855933132905],
                  [-32.40015039683975, -3.8342680671052607]]]),
            {
              "remap": 100,
              "system:index": "0"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-32.507520179024084, -3.889634874715261],
                  [-32.50734851764713, -3.8904055712118177],
                  [-32.50588939594303, -3.889377975726422]]]),
            {
              "remap": 100,
              "system:index": "1"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-32.47974838230729, -3.9117732021506857],
                  [-32.480692519880535, -3.91014621675511],
                  [-32.481207504011394, -3.911259417630152]]]),
            {
              "remap": 100,
              "system:index": "2"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-32.3720476070093, -3.783545883447385],
                  [-32.3720476070093, -3.7844879627223897],
                  [-32.37136096150149, -3.7842310321126296]]]),
            {
              "remap": 100,
              "system:index": "3"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-32.35479563862551, -3.8163167317003746],
                  [-32.3555681148218, -3.8170874946267985],
                  [-32.35479563862551, -3.8174300557053873]]]),
            {
              "remap": 100,
              "system:index": "4"
            })]),
    aflora_e_agua_para_nao_veg = 
    /* color: #d63000 */
    /* shown: false */
    ee.FeatureCollection(
        [ee.Feature(
            ee.Geometry.Polygon(
                [[[-32.431326101319875, -3.854233346920805],
                  [-32.428815553681936, -3.856588349178464],
                  [-32.42844004014981, -3.857091490329729],
                  [-32.42491292811281, -3.8550121515335314],
                  [-32.41868215974164, -3.8552877865913153],
                  [-32.41497535516509, -3.855539303523955],
                  [-32.4143101673294, -3.854190528637569],
                  [-32.418945027446306, -3.8543404256517504],
                  [-32.42319364812357, -3.85393366188439],
                  [-32.43147630502471, -3.853291344191562]]]),
            {
              "remap": 100,
              "system:index": "0"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-32.3723368446735, -3.7844710689336134],
                  [-32.37156436847721, -3.784642355967785],
                  [-32.371650199165686, -3.7833577023859077]]]),
            {
              "remap": 100,
              "system:index": "1"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-32.35479563862551, -3.816402372059685],
                  [-32.35548228413332, -3.817001854335806],
                  [-32.35488146931399, -3.8175156959536833]]]),
            {
              "remap": 100,
              "system:index": "2"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-32.50632572771562, -3.890687042712744],
                  [-32.50632572771562, -3.8893169155781004],
                  [-32.507184034600385, -3.8905157769427556]]]),
            {
              "remap": 100,
              "system:index": "3"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-32.48031902910722, -3.911153051115626],
                  [-32.4804048597957, -3.9103823736464194],
                  [-32.48143482805742, -3.9110674203207143]]]),
            {
              "remap": 100,
              "system:index": "4"
            })]),
    praia_para_urbano = 
    /* color: #98ff00 */
    /* shown: false */
    ee.FeatureCollection(
        [ee.Feature(
            ee.Geometry.Polygon(
                [[[-32.439101133606016, -3.8536057467828475],
                  [-32.441890630981504, -3.858358566325989],
                  [-32.42957392718512, -3.867607220003386],
                  [-32.4219349959107, -3.8639677155404426],
                  [-32.41558352496344, -3.860371013436768],
                  [-32.40009108569342, -3.850896665744338],
                  [-32.40077773120123, -3.8389930534738426],
                  [-32.39987650897223, -3.835824438047152],
                  [-32.40073481585699, -3.8351393304638224],
                  [-32.40579882647711, -3.839164329648493],
                  [-32.41133490588385, -3.839635338951621],
                  [-32.41335192706305, -3.8415621924853207],
                  [-32.41901543056805, -3.843359925710302],
                  [-32.42854263698895, -3.845929051570365],
                  [-32.43626739895184, -3.851324190662888]]]),
            {
              "remap": 100,
              "system:index": "0"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-32.409236260182745, -3.8386494397024022],
                  [-32.40942937923182, -3.8373541619981415],
                  [-32.4099121768545, -3.8373541619981415],
                  [-32.41088850093592, -3.8380285630314503],
                  [-32.41011602473963, -3.8389063540548842]]]),
            {
              "remap": 100,
              "system:index": "1"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-32.37221926838625, -3.783687135176505],
                  [-32.37196177632082, -3.7843722837300353],
                  [-32.371446792189964, -3.783687135176505]]]),
            {
              "remap": 100,
              "system:index": "2"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-32.354452315871605, -3.816659293086396],
                  [-32.3555681148218, -3.817001854335806],
                  [-32.354709807937034, -3.8175156959536833]]]),
            {
              "remap": 100,
              "system:index": "3"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-32.50632572771562, -3.8905157769427556],
                  [-32.50649738909257, -3.8894881815917577],
                  [-32.50709820391191, -3.890601409832101]]]),
            {
              "remap": 100,
              "system:index": "4"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-32.480233198418745, -3.9110674203207143],
                  [-32.48031902910722, -3.9101254809991994],
                  [-32.48126316668046, -3.91098178951705]]]),
            {
              "remap": 100,
              "system:index": "5"
            })]),
    urbano_para_praia = 
    /* color: #0b4a8b */
    /* shown: false */
    ee.FeatureCollection(
        [ee.Feature(
            ee.Geometry.Polygon(
                [[[-32.44695464160162, -3.8571596593980946],
                  [-32.443650160095274, -3.8566030234637325],
                  [-32.43789959255318, -3.850651395851575],
                  [-32.43416594971326, -3.8489600688590335],
                  [-32.43174123470413, -3.84742930281359],
                  [-32.431290629540484, -3.8465836322059173],
                  [-32.42837238613228, -3.845684439726109],
                  [-32.42665577236275, -3.8458128958527356],
                  [-32.42566871944527, -3.8450421588025927],
                  [-32.425539973412555, -3.8436719578818925],
                  [-32.42397356334786, -3.8426014868807306],
                  [-32.42339420620064, -3.8426014868807306],
                  [-32.423050883446734, -3.8431795413882326],
                  [-32.422750476037066, -3.843350816722619],
                  [-32.42210674587349, -3.842879809470275],
                  [-32.419274333153766, -3.8428584000435326],
                  [-32.41757917705635, -3.842408801957851],
                  [-32.41618442836861, -3.841702290201623],
                  [-32.41464324462892, -3.840212800232101],
                  [-32.41266913879396, -3.8405339425725433],
                  [-32.411231474761976, -3.8395276961686915],
                  [-32.41104908375724, -3.8371405330046477],
                  [-32.40917690337102, -3.8367123433110484],
                  [-32.4071116017151, -3.8381039625285998],
                  [-32.401828491618325, -3.8362604832542395],
                  [-32.400841438700844, -3.835596785629848],
                  [-32.400798523356606, -3.8348260393546845],
                  [-32.40127059214323, -3.8336056896643873],
                  [-32.403566563059975, -3.8319999637341815],
                  [-32.41594763987272, -3.8360249777045894],
                  [-32.444307598676346, -3.84784342225877],
                  [-32.4494373218262, -3.8571854919441564]]]),
            {
              "remap": 100,
              "system:index": "0"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-32.40021580681095, -3.836846124533486],
                  [-32.40037673935184, -3.838965670105628],
                  [-32.39915365204105, -3.839725707892986],
                  [-32.39868158325443, -3.8364286376644348]]]),
            {
              "remap": 100,
              "system:index": "1"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-32.4082202708045, -3.8577203035583794],
                  [-32.4081129824439, -3.856350123044983],
                  [-32.4087781702796, -3.8555365773200467],
                  [-32.40965793483648, -3.8574848039398653]]]),
            {
              "remap": 100,
              "system:index": "2"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-32.425647052336465, -3.867392940760119],
                  [-32.42126968722416, -3.867981682809756],
                  [-32.42124822955204, -3.8667613806522376],
                  [-32.421398433256876, -3.8658836183649363],
                  [-32.42225674014164, -3.865177126107812],
                  [-32.42399481158329, -3.8652092394049955],
                  [-32.42577579836918, -3.866001367017235],
                  [-32.426376613188516, -3.8669005380045594]]]),
            {
              "remap": 100,
              "system:index": "3"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-32.43456764513099, -3.8696394459017807],
                  [-32.43527574831092, -3.869018591852397],
                  [-32.44025392824256, -3.869468175864646],
                  [-32.44006080919349, -3.8711594659637583],
                  [-32.435211375294564, -3.870517204298576]]]),
            {
              "remap": 100,
              "system:index": "4"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-32.42345220467714, -3.8615790514332824],
                  [-32.424331969234025, -3.862306955624699],
                  [-32.42377406975893, -3.8630348591917985],
                  [-32.42267972848085, -3.8632275394432827],
                  [-32.42248660943178, -3.8622855466868082]]]),
            {
              "remap": 100,
              "system:index": "5"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-32.37230509907473, -3.783687135176505],
                  [-32.37213343769778, -3.7843722837300353],
                  [-32.37161845356692, -3.783687135176505]]]),
            {
              "remap": 100,
              "system:index": "6"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-32.354709807937034, -3.8167449334115595],
                  [-32.35565394551028, -3.817001854335806],
                  [-32.35479563862551, -3.8176869764246404]]]),
            {
              "remap": 100,
              "system:index": "7"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-32.506411558404096, -3.8902588782224963],
                  [-32.506411558404096, -3.889402548589274],
                  [-32.507184034600385, -3.8903445111379598]]]),
            {
              "remap": 100,
              "system:index": "8"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-32.48006153704179, -3.911409943447869],
                  [-32.48057652117265, -3.9102111118903546],
                  [-32.48109150530351, -3.9110674203207143]]]),
            {
              "remap": 100,
              "system:index": "9"
            })]),
    urbano_para_aflora = 
    /* color: #ffc82d */
    /* shown: false */
    ee.FeatureCollection(
        [ee.Feature(
            ee.Geometry.Polygon(
                [[[-32.418811208476, -3.866191473653206],
                  [-32.421965486277514, -3.8689746182299243],
                  [-32.418210393656665, -3.8692850453276093],
                  [-32.41766322301763, -3.8668444430090574]]]),
            {
              "remap": 100,
              "system:index": "0"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-32.43418880111893, -3.8729006242432105],
                  [-32.43659206039627, -3.8742065521067657],
                  [-32.436763721773225, -3.875619520967458],
                  [-32.43264384872635, -3.874506272971405]]]),
            {
              "remap": 100,
              "system:index": "1"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-32.45831185941356, -3.8785626310342383],
                  [-32.46457749967235, -3.8725254049540467],
                  [-32.46728116635936, -3.8756082491879487],
                  [-32.46116572980541, -3.8795260141862373]]]),
            {
              "remap": 100,
              "system:index": "2"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-32.41508627368754, -3.85988898316677],
                  [-32.4177255673582, -3.8625758082400674],
                  [-32.41082692577189, -3.864780925251406],
                  [-32.40906739665812, -3.862672148423391],
                  [-32.409680949007466, -3.8583872192985558],
                  [-32.41217003897329, -3.8579376294139975]]]),
            {
              "remap": 100,
              "system:index": "3"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-32.39774334619007, -3.854341162181996],
                  [-32.399803282713506, -3.8562893915414813],
                  [-32.39763605782947, -3.8571029365458704],
                  [-32.39555466363392, -3.85532598197663]]]),
            {
              "remap": 100,
              "system:index": "4"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-32.39486896765662, -3.849069002676982],
                  [-32.397722838048466, -3.840719346083848],
                  [-32.40070545447303, -3.8405480702211965],
                  [-32.39664995444251, -3.8498183268323056]]]),
            {
              "remap": 100,
              "system:index": "5"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-32.40054743848605, -3.838113897043372],
                  [-32.40139501653476, -3.839259306987315],
                  [-32.40036504827304, -3.8396018591954513],
                  [-32.400440150125455, -3.839141554634034]]]),
            {
              "remap": 100,
              "system:index": "6"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-32.42551916454435, -3.8441217340721856],
                  [-32.42191427562833, -3.8437791836786577],
                  [-32.42167824123502, -3.842794350530847],
                  [-32.422214683038, -3.8429013976672177],
                  [-32.42279404018522, -3.8433724049076408],
                  [-32.423330481988195, -3.842815759959193],
                  [-32.42416733120084, -3.843094082478829],
                  [-32.42543333385587, -3.8435864990218382]]]),
            {
              "remap": 100,
              "system:index": "7"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-32.37901225905906, -3.804098042022303],
                  [-32.381651552729714, -3.808872546869569],
                  [-32.37931266646873, -3.809771778003206],
                  [-32.376372965388406, -3.805768051212097]]]),
            {
              "remap": 100,
              "system:index": "8"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-32.393530552316804, -3.82613106028147],
                  [-32.38669628374686, -3.8164537553041047],
                  [-32.385988180566926, -3.8141414627442742],
                  [-32.389764730859895, -3.814120052598917],
                  [-32.391245310236116, -3.8158328625427522],
                  [-32.39480728380789, -3.8220845898449216]]]),
            {
              "remap": 100,
              "system:index": "9"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-32.39781451692278, -3.829181218674085],
                  [-32.39629102220232, -3.8294381358718024],
                  [-32.392686133286304, -3.82676191128106],
                  [-32.39601207246477, -3.8262480752026526]]]),
            {
              "remap": 100,
              "system:index": "10"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-32.37247676045168, -3.783687135176505],
                  [-32.37230509907473, -3.784629214297902],
                  [-32.37187594563235, -3.783687135176505]]]),
            {
              "remap": 100,
              "system:index": "11"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-32.35479563862551, -3.8168305737281742],
                  [-32.3555681148218, -3.8169162140362523],
                  [-32.35479563862551, -3.8176869764246404]]]),
            {
              "remap": 100,
              "system:index": "12"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-32.506754881158, -3.890430144044709],
                  [-32.506411558404096, -3.889402548589274],
                  [-32.507441526665815, -3.8899163464736337]]]),
            {
              "remap": 100,
              "system:index": "13"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-32.480233198418745, -3.911409943447869],
                  [-32.480490690484174, -3.9103823736464194],
                  [-32.48117733599199, -3.911153051115626]]]),
            {
              "remap": 100,
              "system:index": "14"
            })]),
    agric_para_campo = 
    /* color: #00ffff */
    /* shown: false */
    ee.FeatureCollection(
        [ee.Feature(
            ee.Geometry.Polygon(
                [[[-32.468997780128895, -3.877770515175433],
                  [-32.45470697049755, -3.8793119291362648],
                  [-32.45335513715404, -3.8708341175832017],
                  [-32.46938401822704, -3.8733389343844675]]]),
            {
              "remap": 100,
              "system:index": "0"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-32.45077326546933, -3.868983601276585],
                  [-32.44478657494809, -3.8634815297722076],
                  [-32.45000078927304, -3.861490498993181],
                  [-32.4565668369415, -3.867142445137734]]]),
            {
              "remap": 100,
              "system:index": "1"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-32.43046137606138, -3.8630504560760337],
                  [-32.43222090517515, -3.8651485275307444],
                  [-32.429109542717875, -3.868017310710127],
                  [-32.42822977816099, -3.8651057097978203]]]),
            {
              "remap": 100,
              "system:index": "2"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-32.50593231128727, -3.88899262709635],
                  [-32.50730560230289, -3.8906624698873467],
                  [-32.50636146472965, -3.8904483876631826]]]),
            {
              "remap": 100,
              "system:index": "3"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-32.37213343769778, -3.783687135176505],
                  [-32.37187594563235, -3.7843722837300353],
                  [-32.37136096150149, -3.783772778775325]]]),
            {
              "remap": 100,
              "system:index": "4"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-32.35462397724856, -3.8168305737281742],
                  [-32.35548228413332, -3.817001854335806],
                  [-32.35479563862551, -3.8176013361934302]]]),
            {
              "remap": 100,
              "system:index": "5"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-32.47988987566484, -3.9114955742077946],
                  [-32.480233198418745, -3.9104680045113285],
                  [-32.48109150530351, -3.911324312679216]]]),
            {
              "remap": 100,
              "system:index": "6"
            })]);

// Define the biome name
var bioma = "MATAATLANTICA";

// Define the input and output versions
var vesion_in = '21';
var versao_out = '22';

// Define the input and output prefixes
var prefixo_in = 'FNoronha_p06_v';
var prefixo_out = 'FNoronha_p07_v';

// Define the output directory
var dirout = 'projects/mapbiomas-workspace/COLECAO9/classificacao-ma-S2/';

// Load the classification image for the input version
var class4GAP = ee.Image('projects/mapbiomas-workspace/COLECAO9/classificacao-ma-S2/FNoronha_p06_v'+vesion_in)//.mask(bioma250mil_MA);

// Import the palettes module
var palettes = require('users/mapbiomas/modules:Palettes.js');

// Define the palette for visualization
var pal = palettes.get('classification2');

// Define the visualization parameters
var vis = {
      bands: 'classification_2023',
    'min': 0,
    'max': 62,
    'palette': palettes.get('classification7')
    };

// Add the classification image to the map
Map.addLayer(class4GAP, vis, 'class4GAP');

// Define the masks for different land cover classes
var mascara4 = urbano_para_praia.reduceToImage({properties: ['remap'],reducer: ee.Reducer.first()});
var mascara5 = urbano_para_aflora.reduceToImage({properties: ['remap'],reducer: ee.Reducer.first()});
var mascara6 = agric_para_campo.reduceToImage({properties: ['remap'],reducer: ee.Reducer.first()});

// Apply the masks to the classification image
var class_remap1 = class4GAP.add(praia_agua.reduceToImage({properties: ['remap'],reducer: ee.Reducer.first()}))
                                        .remap([3,12,19,23,24,25,29,33,103,112,119,123,124,125,129,133],
                                               [3,12,19,23,24,25,29,33,  3, 12, 19, 33, 24, 25, 29, 33])
                                        .rename('classification_2023');
class_remap1 = class4GAP.blend(class_remap1).rename('classification_2023');

var class_remap2 = class_remap1.add(aflora_e_agua_para_nao_veg.reduceToImage({properties: ['remap'],reducer: ee.Reducer.first()}))
                                        .remap([3,12,19,23,24,25,29,33,103,112,119,123,124,125,129,133],
                                               [3,12,19,23,24,25,29,33,  3, 21, 19, 25, 24, 25, 25, 25])
                                        .rename('classification_2023');
class_remap2 = class_remap1.blend(class_remap2).rename('classification_2023');

var class_remap3 = class_remap2.add(praia_para_urbano.reduceToImage({properties: ['remap'],reducer: ee.Reducer.first()}))
                                        .remap([3,12,19,23,24,25,29,33,103,112,119,123,124,125,129,133],
                                               [3,12,19,23,24,25,29,33,  3, 12, 19, 24, 24, 25, 29, 33])
                                        .rename('classification_2023');
class_remap3 = class_remap2.blend(class_remap3).rename('classification_2023');

var class_remap4 = class_remap3.add(urbano_para_praia.reduceToImage({properties: ['remap'],reducer: ee.Reducer.first()}))
                                        .remap([3,12,19,23,24,25,29,33,103,112,119,123,124,125,129,133],
                                               [3,12,19,23,24,25,29,33,  3, 12, 19, 23, 23, 25, 29, 33])
                                        .rename('classification_2023');
class_remap4 = class_remap3.blend(class_remap4).rename('classification_2023');

var class_remap5 = class_remap4.add(urbano_para_aflora.reduceToImage({properties: ['remap'],reducer: ee.Reducer.first()}))
                                        .remap([3,12,19,23,24,25,29,33,103,112,119,123,124,125,129,133],
                                               [3,12,19,23,24,25,29,33,  3, 12, 19, 23, 29, 25, 29, 33])
                                        .rename('classification_2023');
class_remap5 = class_remap4.blend(class_remap5).rename('classification_2023');

var class_remap6 = class_remap5.add(agric_para_campo.reduceToImage({properties: ['remap'],reducer: ee.Reducer.first()}))
                                        .remap([3,12,19,23,24,25,29,33,103,112,119,123,124,125,129,133],
                                               [3,12,21,23,24,25,29,33,  3, 12, 12, 23, 24, 25, 29, 33])
                                        .rename('classification_2023');
class_remap6 = class_remap5.blend(class_remap6).rename('classification_2023');

// Apply final remapping to the classification image
class_remap6 = class_remap6.remap([3,12,19,23,24,25,29,33],
                                  [3,12,21,23,24,25,29,33])
                                  .rename('classification_2023');

// Add the remapped classification images to the map
Map.addLayer(class_remap1, vis, 'class_remap1', false);
Map.addLayer(class_remap2, vis, 'class_remap2', false);
Map.addLayer(class_remap3, vis, 'class_remap3', false);
Map.addLayer(class_remap4, vis, 'class_remap4', false);
Map.addLayer(class_remap5, vis, 'class_remap5', false);
Map.addLayer(class_remap6, vis, 'class_remap6', true);
// Map.addLayer(class_out2, vis, 'class_out2');

// Set the properties of the final classification image
var class_outTotal = class_remap6
.set('territory', 'BRAZIL')
.set('biome', 'MATA ATÂNTICA')
.set('source', 'arcplan')
.set('version', versao_out)
//.set('year', versao_out)
.set('collection_id', 2);

// Export the final classification image to an asset
Export.image.toAsset({
    'image': class_outTotal,
    'description': prefixo_out+versao_out,
    'assetId': dirout+prefixo_out+versao_out,
    'pyramidingPolicy': {
        '.default': 'mode'
    },
    'region': geometry,
    'scale': 10,
    'maxPixels': 1e13
});
