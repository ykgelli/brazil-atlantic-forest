var varzea = /* color: #ff9999 */ee.FeatureCollection(
        [ee.Feature(
            ee.Geometry.Polygon(
                [[[-54.20475066538168, -24.05255832431273],
                  [-54.11891997690512, -24.034373299250245],
                  [-54.10793364878012, -24.01022713374598],
                  [-54.12441314096762, -24.030610558824808],
                  [-54.15016234751059, -24.03217838072618],
                  [-54.15805877085043, -24.016812901372575],
                  [-54.16664183969809, -24.035627521571854],
                  [-54.221916803076994, -24.04691497141799]]]),
            {
              "reference": 11,
              "system:index": "0"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-54.098320611670744, -23.997681881636296],
                  [-54.074288018897306, -23.983880691808654],
                  [-54.04201568003012, -23.94246825001731],
                  [-54.050598748877775, -23.94246825001731],
                  [-54.07669127817465, -23.982312281178086],
                  [-54.10038054819418, -23.99203611916548],
                  [-54.11891997690512, -23.98701745576721],
                  [-54.15256560678793, -24.00019102991094],
                  [-54.11891997690512, -23.992349779132347]]]),
            {
              "reference": 11,
              "system:index": "1"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-54.09797728891684, -23.908889316486437],
                  [-54.13265288706137, -23.94246825001731],
                  [-54.112053521826994, -23.92991639962733]]]),
            {
              "reference": 11,
              "system:index": "2"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-54.197884210303556, -23.94937124737926],
                  [-54.18277800913168, -23.951881336659365],
                  [-54.182434686377775, -23.965999678570608],
                  [-54.168701776221525, -23.92991639962733],
                  [-54.1783148133309, -23.945292248125128],
                  [-54.20303405161215, -23.940271764314847],
                  [-54.208183892920744, -23.960666264435233]]]),
            {
              "reference": 11,
              "system:index": "3"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-54.142952569678556, -23.836994810152454],
                  [-54.1728216492684, -23.894450830505054],
                  [-54.14089263315512, -23.907633859981907],
                  [-54.105530389502775, -23.862115332019894],
                  [-54.142265924170744, -23.899786980555298],
                  [-54.16561187143637, -23.89068400378464],
                  [-54.13780038008723, -23.838719633831374]]]),
            {
              "reference": 11,
              "system:index": "4"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-54.03617919321371, -23.728921154572408],
                  [-54.060555108741056, -23.75626222083338],
                  [-54.069824823096525, -23.81689488817683],
                  [-54.061585077002775, -23.828201477453046],
                  [-54.05643523569418, -23.759090279400752],
                  [-54.03652251596762, -23.739606852084524]]]),
            {
              "reference": 11,
              "system:index": "5"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-54.00905669565512, -23.782969212048936],
                  [-54.013176568701994, -23.716348624120766],
                  [-54.019356378272306, -23.717920256723488],
                  [-54.01454985971762, -23.789252413023323]]]),
            {
              "reference": 11,
              "system:index": "6"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-53.98948729868246, -23.777628252458342],
                  [-53.95687163706137, -23.756890683602677],
                  [-53.95755828256918, -23.747149169752092],
                  [-53.98948729868246, -23.770716096775544]]]),
            {
              "reference": 11,
              "system:index": "7"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-53.97403777475668, -23.809042510551212],
                  [-53.99429381723715, -23.793964614434525],
                  [-53.980904229834806, -23.810927124494704]]]),
            {
              "reference": 11,
              "system:index": "8"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-54.002876886084806, -23.587958469229676],
                  [-53.96202147836996, -23.668166368814237],
                  [-53.961678155616056, -23.65433008197594],
                  [-54.00081694956137, -23.579462993757865]]]),
            {
              "reference": 11,
              "system:index": "9"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-53.99635375376059, -23.536662612437766],
                  [-53.91120971079184, -23.513368316232487],
                  [-53.90811980600668, -23.498571150025963],
                  [-53.998413690284025, -23.531626357220272]]]),
            {
              "reference": 11,
              "system:index": "10"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-53.92454473521744, -23.37618959439402],
                  [-53.95853368785416, -23.41715180901968],
                  [-53.94514410045181, -23.40927544422996],
                  [-53.919394893908844, -23.377135019066053],
                  [-53.915618343615876, -23.371777523434787]]]),
            {
              "reference": 11,
              "system:index": "11"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-53.88471929576431, -23.413371212432597],
                  [-53.86652318980728, -23.36925627410441],
                  [-53.874419613147126, -23.371147215596842],
                  [-53.89261571910416, -23.414316371706988]]]),
            {
              "reference": 11,
              "system:index": "12"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-51.86133040271293, -21.572993642890527],
                  [-51.855493915896524, -21.57235509556369],
                  [-51.835237873416055, -21.580655991323894],
                  [-51.833521259646524, -21.577144131927728],
                  [-51.852747333865274, -21.569481597775063],
                  [-51.86407698474418, -21.570439436701594]]]),
            {
              "reference": 11,
              "system:index": "13"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-51.890169514041055, -21.579059702152126],
                  [-51.87986983142387, -21.581294502067284],
                  [-51.87506331286918, -21.57522853637601],
                  [-51.88673628650199, -21.577463395390694],
                  [-51.8925727733184, -21.575547804060058]]]),
            {
              "reference": 11,
              "system:index": "14"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-51.67490614734184, -21.641940178647815],
                  [-51.65876997790824, -21.653428071280487],
                  [-51.65190352283012, -21.653428071280487],
                  [-51.660486591677774, -21.64736513075422],
                  [-51.674219501834024, -21.637791548338182]]]),
            {
              "reference": 11,
              "system:index": "15"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-52.00639628887173, -21.540992479260815],
                  [-52.00261973857876, -21.555042909327156],
                  [-51.99266337871548, -21.544824549660547]]]),
            {
              "reference": 11,
              "system:index": "16"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-52.02630900859829, -21.602931870404902],
                  [-52.02905559062954, -21.610592634516376],
                  [-52.02527904033657, -21.61442286442631]]]),
            {
              "reference": 11,
              "system:index": "17"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-51.967257494926415, -21.611869389090998],
                  [-51.96004771709438, -21.60803909155589],
                  [-51.957987780570946, -21.600058979281467],
                  [-51.970004076957665, -21.60708150132379]]]),
            {
              "reference": 11,
              "system:index": "18"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-52.241452543952285, -21.675581377973817],
                  [-52.24934896729213, -21.683876346340607],
                  [-52.241452543952285, -21.69089479279297],
                  [-52.23733267090541, -21.68036699491049]]]),
            {
              "reference": 11,
              "system:index": "19"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-52.24351248047572, -21.698869885045426],
                  [-52.242482512214, -21.708120438688965],
                  [-52.23630270264369, -21.698231893918024]]]),
            {
              "reference": 11,
              "system:index": "20"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-52.30325063965541, -21.652608205634724],
                  [-52.31698354981166, -21.655160961006708],
                  [-52.32728323242885, -21.659628174246198],
                  [-52.343076079108535, -21.662180805426296],
                  [-52.341359465339, -21.666966867141888],
                  [-52.318356840827285, -21.658351841719238],
                  [-52.30531057617885, -21.655799142794113]]]),
            {
              "reference": 11,
              "system:index": "21"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-52.498601286628066, -22.047884214593967],
                  [-52.49001821778041, -22.03897389393198],
                  [-52.505124418952285, -22.042474443962295]]]),
            {
              "reference": 11,
              "system:index": "22"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-52.594345538293666, -22.135517165765783],
                  [-52.58953901973898, -22.124386087951077],
                  [-52.60567518917257, -22.135517165765783]]]),
            {
              "reference": 11,
              "system:index": "23"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-52.723434893762416, -22.23819955291706],
                  [-52.72515150753195, -22.226440982056268],
                  [-52.735451190149135, -22.238517338438758]]]),
            {
              "reference": 11,
              "system:index": "24"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-52.80068251339132, -22.232479290300738],
                  [-52.79621931759054, -22.230254680679927],
                  [-52.80171248165304, -22.228665652193964]]]),
            {
              "reference": 11,
              "system:index": "25"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-52.959736831861505, -22.288877223829374],
                  [-52.95081044025994, -22.29777172411012],
                  [-52.94772053547479, -22.293959864737978],
                  [-52.95218373127557, -22.289512564051073]]]),
            {
              "reference": 11,
              "system:index": "26"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-52.985486038404474, -22.42382202194063],
                  [-52.98033619709588, -22.43048649059083],
                  [-52.97690296955682, -22.425408829209616],
                  [-52.98617268391229, -22.419061491327184],
                  [-52.9978456575451, -22.42413938484527]]]),
            {
              "reference": 11,
              "system:index": "27"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-52.9758730012951, -22.435563966225327],
                  [-52.98651600666619, -22.444449101533166],
                  [-52.97243977375604, -22.44317983132962]]]),
            {
              "reference": 11,
              "system:index": "28"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-53.00505543537713, -22.436833306107143],
                  [-53.020161636549005, -22.433659934631674],
                  [-53.01535511799432, -22.444131785071146],
                  [-53.000935562330255, -22.440006605009156]]]),
            {
              "reference": 11,
              "system:index": "29"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-53.193196304517755, -22.528829476688635],
                  [-53.177746780591974, -22.53073219988428],
                  [-53.17877674885369, -22.523438285302056]]]),
            {
              "reference": 11,
              "system:index": "30"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-53.09843922443963, -22.529463720666225],
                  [-53.09500599690057, -22.508214962408783],
                  [-53.11423207111932, -22.53358623552911]]]),
            {
              "reference": 11,
              "system:index": "31"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-53.092602737623224, -22.497747955497097],
                  [-53.10599232502557, -22.492355551913917],
                  [-53.10187245197869, -22.502188600629278]]]),
            {
              "reference": 11,
              "system:index": "32"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-53.07440663166619, -22.484425164904184],
                  [-53.07921315022088, -22.49869953431205],
                  [-53.07166004963494, -22.506629103191916]]]),
            {
              "reference": 11,
              "system:index": "33"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-53.43695545979119, -22.37081224718074],
                  [-53.443135269361505, -22.365732405755832],
                  [-53.43901539631463, -22.374939481856078]]]),
            {
              "reference": 11,
              "system:index": "34"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-53.3713808137951, -22.333026491459123],
                  [-53.35730458088494, -22.34096552552045],
                  [-53.36005116291619, -22.3358845957902]]]),
            {
              "reference": 11,
              "system:index": "35"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-53.55798450801318, -22.356212957916807],
                  [-53.54322162959521, -22.352720220736945],
                  [-53.541848338579584, -22.340653727792784],
                  [-53.55661121699755, -22.348274792244624]]]),
            {
              "reference": 11,
              "system:index": "36"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-53.545281566118646, -22.310482927063905],
                  [-53.53875843379443, -22.321599244234626],
                  [-53.54013172481005, -22.31111816903416]]]),
            {
              "reference": 11,
              "system:index": "37"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-53.49997624989868, -22.448652921047536],
                  [-53.508559318746336, -22.453412436579967],
                  [-53.49654302235962, -22.468324527113037]]]),
            {
              "reference": 11,
              "system:index": "38"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-53.49139318105102, -22.554909802034462],
                  [-53.476630302633055, -22.553958610334043],
                  [-53.48521337148071, -22.548885477173396]]]),
            {
              "reference": 11,
              "system:index": "39"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-53.72313603993774, -22.72411723618058],
                  [-53.712836357320555, -22.72095047432266],
                  [-53.71970281239868, -22.718733697412425]]]),
            {
              "reference": 11,
              "system:index": "40"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-53.56005773183227, -22.75926336848597],
                  [-53.593703361715086, -22.7766747691864],
                  [-53.651381584371336, -22.827946346207167],
                  [-53.591986747945555, -22.78807011962122]]]),
            {
              "reference": 11,
              "system:index": "41"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-53.62048253651977, -22.72253386441372],
                  [-53.623915764058836, -22.705115565800458],
                  [-53.62975225087524, -22.723167215319418]]]),
            {
              "reference": 11,
              "system:index": "42"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-53.713597850697354, -22.801232278716682],
                  [-53.693341808216886, -22.80914439238626],
                  [-53.70226819981845, -22.79806730462603]]]),
            {
              "reference": 11,
              "system:index": "43"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-53.7105079459122, -22.867047065178284],
                  [-53.73763044347079, -22.903737627724023],
                  [-53.70776136388095, -22.877169590188323]]]),
            {
              "reference": 11,
              "system:index": "44"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-53.68163071594237, -22.905307111866946],
                  [-53.67579422912596, -22.949575095014847],
                  [-53.67579422912596, -22.914478096191942]]]),
            {
              "reference": 11,
              "system:index": "45"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-53.74720536193846, -22.945781263445976],
                  [-53.73656235656737, -22.991932318778115],
                  [-53.73003922424315, -22.989403901931368],
                  [-53.743428811645494, -22.93661239810159]]]),
            {
              "reference": 11,
              "system:index": "46"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-53.627042398071275, -22.92649430883325],
                  [-53.64832840881346, -22.963801015949628],
                  [-53.62910233459471, -22.945465106014353]]]),
            {
              "reference": 11,
              "system:index": "47"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-53.58515702209471, -22.873361946332647],
                  [-53.577603921508775, -22.842674860687413],
                  [-53.59374009094237, -22.876525169367284]]]),
            {
              "reference": 11,
              "system:index": "48"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-53.6535478278674, -23.012728011695298],
                  [-53.66281754222287, -23.03516217763469],
                  [-53.65045792308224, -23.020627791682557]]]),
            {
              "reference": 11,
              "system:index": "49"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-53.68582016673459, -23.150433742294588],
                  [-53.7084794684924, -23.176001135859693],
                  [-53.69371659007443, -23.17063554443898]]]),
            {
              "reference": 11,
              "system:index": "50"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-53.85161304835273, -23.229468731185882],
                  [-53.84611988429023, -23.24334959007619],
                  [-53.84817982081367, -23.2477659241653],
                  [-53.8389101064582, -23.25596729949829],
                  [-53.83822346095039, -23.243665047360157]]]),
            {
              "reference": 11,
              "system:index": "51"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-53.82689381007148, -23.296020610613656],
                  [-53.821057323255076, -23.308948634296815],
                  [-53.81865406397773, -23.296020610613656]]]),
            {
              "reference": 11,
              "system:index": "52"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-53.780888561048044, -23.223789781908238],
                  [-53.786381725110544, -23.25281298406497],
                  [-53.777112010755076, -23.23830217208663]]]),
            {
              "reference": 11,
              "system:index": "53"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-53.745182994641794, -23.22158123640139],
                  [-53.74483967188789, -23.246188678776193],
                  [-53.7345399892707, -23.24492686903623]]]),
            {
              "reference": 11,
              "system:index": "54"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-53.84081038173645, -23.34350280920002],
                  [-53.846990191306766, -23.33120864676155],
                  [-53.84664686855286, -23.34602454798343]]]),
            {
              "reference": 11,
              "system:index": "55"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-54.07908528575526, -23.143995231256813],
                  [-54.06157582530604, -23.143363845516113],
                  [-54.07221883067714, -23.138944062063903],
                  [-54.07839864024745, -23.13957546862099]]]),
            {
              "reference": 11,
              "system:index": "56"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-54.28550282272783, -23.11684295969569],
                  [-54.27623310837236, -23.12852542461669],
                  [-54.271083267063766, -23.12757823562507]]]),
            {
              "reference": 11,
              "system:index": "57"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-54.40705809662814, -23.092141568699734],
                  [-54.391265249948454, -23.097194499629722],
                  [-54.392981863717985, -23.09182575420743]]]),
            {
              "reference": 11,
              "system:index": "58"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-54.27744912522481, -23.373461385330796],
                  [-54.27109765427755, -23.372988660737338],
                  [-54.2741875590627, -23.37062501248631]]]),
            {
              "reference": 11,
              "system:index": "59"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-54.26096963303731, -23.3696795413873],
                  [-54.261141294414266, -23.37267351007192],
                  [-54.25461816209005, -23.371412899918717]]]),
            {
              "reference": 11,
              "system:index": "60"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-54.30920647996114, -23.36069722973226],
                  [-54.29701852219747, -23.367158252164266],
                  [-54.298735135967, -23.363848987311098],
                  [-54.30577325242208, -23.359909278636277]]]),
            {
              "reference": 11,
              "system:index": "61"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-54.661975598887835, -23.704491000828714],
                  [-54.65579578931752, -23.719579263621764],
                  [-54.654250836924945, -23.71455003660377],
                  [-54.65819904859487, -23.710777989076306],
                  [-54.65768406446401, -23.706377129111072]]]),
            {
              "reference": 11,
              "system:index": "62"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-54.65682575757924, -23.731522900397906],
                  [-54.63811466749135, -23.737337169585523],
                  [-54.63485310132924, -23.73482292285388],
                  [-54.65081760938588, -23.728694243213035]]]),
            {
              "reference": 11,
              "system:index": "63"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-54.46267674024526, -23.765812212443063],
                  [-54.45684025342885, -23.761727430212076],
                  [-54.465251660899554, -23.761256100934702]]]),
            {
              "reference": 11,
              "system:index": "64"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-55.167203987714934, -23.785701525670433],
                  [-55.15081032621591, -23.78295258752347],
                  [-55.137249077436614, -23.77714035551711],
                  [-55.14342888700693, -23.776511990550006],
                  [-55.15690430509775, -23.78130319673537],
                  [-55.16085251676767, -23.780203591252327],
                  [-55.16385659086435, -23.78216716594824],
                  [-55.169178093549895, -23.78413071098971]]]),
            {
              "reference": 11,
              "system:index": "65"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-55.11656388151376, -23.78130319673537],
                  [-55.115705574629, -23.786329846228107],
                  [-55.11210068571298, -23.7861727663734],
                  [-55.11192902433603, -23.78255987732895]]]),
            {
              "reference": 11,
              "system:index": "66"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-55.05154513402909, -23.845068471964833],
                  [-55.04450701757401, -23.84860111953311],
                  [-55.04201792760819, -23.84436193089805],
                  [-55.047682753047646, -23.844126416353383]]]),
            {
              "reference": 11,
              "system:index": "67"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-55.020216932735146, -23.86406513201945],
                  [-55.017470350703896, -23.86673386109429],
                  [-55.01678370519608, -23.862966227592786],
                  [-55.01858614965409, -23.862338278019994]]]),
            {
              "reference": 11,
              "system:index": "68"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-53.17146770427166, -22.647599666682023],
                  [-53.17284099528729, -22.686249844903326],
                  [-53.15224163005291, -22.677380275053146],
                  [-53.161168021654476, -22.63302382299632]]]),
            {
              "reference": 11,
              "system:index": "69"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-53.287510795091976, -22.745154552640443],
                  [-53.29643718669354, -22.72932244568132],
                  [-53.30879680583416, -22.751486882003547]]]),
            {
              "reference": 11,
              "system:index": "70"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-53.2559251017326, -22.597528348524154],
                  [-53.265538138841976, -22.683715740645585],
                  [-53.25798503825604, -22.6818151317085],
                  [-53.24562541911541, -22.593090770289926]]]),
            {
              "reference": 11,
              "system:index": "71"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-53.18245403239666, -22.57787513068603],
                  [-53.191380423998226, -22.53221813338197],
                  [-53.194127006029476, -22.58294719730237]]]),
            {
              "reference": 11,
              "system:index": "72"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-53.47084514567791, -22.721722383252136],
                  [-53.416600150560726, -22.74832075400286],
                  [-53.463292045091976, -22.71348850587469]]]),
            {
              "reference": 11,
              "system:index": "73"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-53.709781618127636, -23.120633136573254],
                  [-53.71596142769795, -23.155992152780946],
                  [-53.698795290002636, -23.135156718045987]]]),
            {
              "reference": 11,
              "system:index": "74"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-53.6857490253542, -23.113054991699215],
                  [-53.67270276070576, -23.11052884833214],
                  [-53.68368908883076, -23.103581709002203]]]),
            {
              "reference": 11,
              "system:index": "75"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-53.65004345894795, -23.084001474051824],
                  [-53.6692695331667, -23.07263099633619],
                  [-53.67201611519795, -23.08463313906506],
                  [-53.654849977502636, -23.10105538741398]]]),
            {
              "reference": 11,
              "system:index": "76"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-55.15451515081542, -24.025283505488133],
                  [-55.153141859799796, -24.024577950147968],
                  [-55.15580261114257, -24.023637203670063]]]),
            {
              "reference": 11,
              "system:index": "77"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-54.3236269161954, -24.069998024795105],
                  [-54.3221677944913, -24.070037208552655],
                  [-54.324528138424405, -24.068900874723763]]]),
            {
              "reference": 11,
              "system:index": "78"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-54.35096399047519, -24.072740858915154],
                  [-54.351650635983, -24.071251899099554],
                  [-54.352981011654386, -24.071839648460163]]]),
            {
              "reference": 11,
              "system:index": "79"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-54.250155846859464, -24.030220341393093],
                  [-54.24843923308993, -24.007955138899938],
                  [-54.266635339046964, -24.01736344132449]]]),
            {
              "reference": 11,
              "system:index": "80"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-54.02184621551181, -24.030533908255865],
                  [-54.03283254363681, -24.026771055405316],
                  [-54.03832570769931, -24.030533908255865]]]),
            {
              "reference": 11,
              "system:index": "81"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-54.362508218075284, -23.822707085656102],
                  [-54.36293737151767, -23.823963365736795],
                  [-54.360019128109464, -23.827182527926553],
                  [-54.359504143978604, -23.824905567815595]]]),
            {
              "reference": 11,
              "system:index": "82"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-54.40001622893954, -23.81367721474827],
                  [-54.39864293792392, -23.81666106767243],
                  [-54.39752713897372, -23.814619491502235],
                  [-54.397698800350675, -23.81312755015004]]]),
            {
              "reference": 11,
              "system:index": "83"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-54.36568395354892, -23.820744123682136],
                  [-54.36654226043368, -23.822942639097665],
                  [-54.363967339779386, -23.822942639097665],
                  [-54.36379567840243, -23.822078941054926],
                  [-54.36379567840243, -23.82145079341326]]]),
            {
              "reference": 11,
              "system:index": "84"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-55.39050237395907, -23.804725244506926],
                  [-55.3918756649747, -23.811635591652504],
                  [-55.38500920989657, -23.809436884722633]]]),
            {
              "reference": 11,
              "system:index": "85"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-55.27754918792392, -23.82608331079294],
                  [-55.27926580169345, -23.821058199593246],
                  [-55.28475896575595, -23.82576924704426]]]),
            {
              "reference": 11,
              "system:index": "86"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-55.04134313323642, -23.688136344393158],
                  [-55.03653661468173, -23.690965881071293],
                  [-55.03619329192782, -23.688765135619935],
                  [-55.03996984222079, -23.685935551258407]]]),
            {
              "reference": 11,
              "system:index": "87"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-54.42239180144956, -23.508535241041947],
                  [-54.42513838348081, -23.506646264338986],
                  [-54.42822828826596, -23.51042419065527]]]),
            {
              "reference": 11,
              "system:index": "88"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-54.81789961394956, -23.53560759612183],
                  [-54.81309309539487, -23.538125671623956],
                  [-54.810689836117525, -23.536551880083984],
                  [-54.81652632293393, -23.53245993396094]]]),
            {
              "reference": 11,
              "system:index": "89"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-54.9850977951019, -23.52175731935971],
                  [-54.987501054379244, -23.51703530094702],
                  [-54.99230757293393, -23.51672049369764]]]),
            {
              "reference": 11,
              "system:index": "90"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-55.41974440154721, -23.498460385631002],
                  [-55.42077436980893, -23.48995912720611],
                  [-55.42558088836362, -23.48995912720611]]]),
            {
              "reference": 11,
              "system:index": "91"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-55.38644209441831, -23.604522498340614],
                  [-55.39056196746518, -23.59665732933146],
                  [-55.391248612972994, -23.60232029856752]]]),
            {
              "reference": 11,
              "system:index": "92"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-55.2296258099756, -23.476968376338764],
                  [-55.227565873452164, -23.476102391359028],
                  [-55.227823365517594, -23.474134222536655],
                  [-55.229797471352555, -23.474291677122977]]]),
            {
              "reference": 11,
              "system:index": "93"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-55.222673524209, -23.470985091350332],
                  [-55.22284518558595, -23.474134222536655],
                  [-55.22190104801271, -23.474764039754415],
                  [-55.221042741127945, -23.471457465819725]]]),
            {
              "reference": 11,
              "system:index": "94"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-54.84235774356935, -23.482479056644554],
                  [-54.83995448429201, -23.485942794986666],
                  [-54.83789454776857, -23.483423721578703]]]),
            {
              "reference": 11,
              "system:index": "95"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-53.72484217960451, -23.346061552085654],
                  [-53.71934901554201, -23.34385503388484],
                  [-53.72072230655763, -23.33534383445443]]]),
            {
              "reference": 11,
              "system:index": "96"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-53.77222071964357, -23.316428105268344],
                  [-53.76501094181154, -23.306023306655227],
                  [-53.776340592690445, -23.312329342403263]]]),
            {
              "reference": 11,
              "system:index": "97"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-53.76672755558107, -23.306023306655227],
                  [-53.76054774601076, -23.30413143762192],
                  [-53.76569758731935, -23.30034761883056]]]),
            {
              "reference": 11,
              "system:index": "98"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-54.303684342690445, -23.168793159943526],
                  [-54.29956446964357, -23.17005568876728],
                  [-54.30231105167482, -23.16626806657873]]]),
            {
              "reference": 11,
              "system:index": "99"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-54.31707393009279, -23.097440956773127],
                  [-54.318447221108414, -23.09270384828265],
                  [-54.32359706241701, -23.09459871172057]]]),
            {
              "reference": 11,
              "system:index": "100"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-53.80311976749513, -23.168477525877265],
                  [-53.80723964054201, -23.187414252492164],
                  [-53.795566666909195, -23.17889305712562]]]),
            {
              "reference": 11,
              "system:index": "101"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-53.8178826459131, -23.20666384332866],
                  [-53.82062922794435, -23.21360563856664],
                  [-53.812046159096695, -23.212659051362305]]]),
            {
              "reference": 11,
              "system:index": "102"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-53.660796961816075, -22.91159961405542],
                  [-53.66491683486295, -22.925197116796813],
                  [-53.65496047499967, -22.919189086150336]]]),
            {
              "reference": 11,
              "system:index": "103"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-55.12987502578092, -23.04530170573484],
                  [-55.13605483535123, -23.04909274154556],
                  [-55.13227828505826, -23.05225185652896]]]),
            {
              "reference": 11,
              "system:index": "104"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-55.33930190566373, -23.056358595193014],
                  [-55.337928614648106, -23.062360526333705],
                  [-55.335182032616856, -23.058885756715885]]]),
            {
              "reference": 11,
              "system:index": "105"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-55.14360793593717, -22.89093473011366],
                  [-55.13708480361295, -22.890618444701456],
                  [-55.139488062890294, -22.88619037152943]]]),
            {
              "reference": 11,
              "system:index": "106"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-55.2387083387692, -22.87353793792422],
                  [-55.237335047753575, -22.87701747470065],
                  [-55.2332151747067, -22.87511955660193]]]),
            {
              "reference": 11,
              "system:index": "107"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-53.59419234755826, -22.820701298866563],
                  [-53.59556563857389, -22.815005106623925],
                  [-53.6072386122067, -22.8238657471543]]]),
            {
              "reference": 11,
              "system:index": "108"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-53.453086695702794, -22.754230908479535],
                  [-53.454803309472325, -22.76087940489345],
                  [-53.44896682265592, -22.757080303713167]]]),
            {
              "reference": 11,
              "system:index": "109"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-53.48535903456998, -22.849178684931292],
                  [-53.47437270644498, -22.84158529810689],
                  [-53.49085219863248, -22.844432867849278]]]),
            {
              "reference": 11,
              "system:index": "110"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-53.074745020898106, -22.60694504543211],
                  [-53.058265528710606, -22.602824723716125],
                  [-53.068565211327794, -22.599338201295154]]]),
            {
              "reference": 11,
              "system:index": "111"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-53.076804957421544, -22.622157472068317],
                  [-53.06272872451139, -22.61613608771034],
                  [-53.081268153222325, -22.61486839425066]]]),
            {
              "reference": 11,
              "system:index": "112"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-53.1348265028317, -22.604726425991895],
                  [-53.137916407616856, -22.618671439575625],
                  [-53.12658675673795, -22.61011443972031]]]),
            {
              "reference": 11,
              "system:index": "113"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-53.214820704491856, -22.59521765184976],
                  [-53.222373805077794, -22.604726425991895],
                  [-53.21001418593717, -22.60567726727496]]]),
            {
              "reference": 11,
              "system:index": "114"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-53.1458128309567, -22.65574561781624],
                  [-53.14100631240201, -22.647190926265036],
                  [-53.14752944472623, -22.641170638650582]]]),
            {
              "reference": 11,
              "system:index": "115"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-53.639968068914094, -22.669122454688463],
                  [-53.62760844977347, -22.66532080594451],
                  [-53.64099803717581, -22.660568596882328]]]),
            {
              "reference": 11,
              "system:index": "116"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-54.89056349688983, -22.75930146981975],
                  [-54.89159346515155, -22.756293822018055],
                  [-54.89245177203632, -22.756927016532813]]]),
            {
              "reference": 11,
              "system:index": "117"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-54.82241393023944, -22.754552521967707],
                  [-54.82052565509296, -22.755977223659958],
                  [-54.8214697926662, -22.753444410378638]]]),
            {
              "reference": 11,
              "system:index": "118"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-54.84095335895038, -22.754315070241024],
                  [-54.83966589862323, -22.753286107989297],
                  [-54.84292746478534, -22.753127805416526]]]),
            {
              "reference": 11,
              "system:index": "119"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-55.19620657855487, -22.694384901312873],
                  [-55.19328833514667, -22.695493491378592],
                  [-55.191657552065614, -22.69430571596492],
                  [-55.19654990130878, -22.692959558047765]]]),
            {
              "reference": 11,
              "system:index": "120"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-53.95071745807147, -22.621752732151503],
                  [-53.95655394488788, -22.61921743709517],
                  [-53.95174742633319, -22.62460488321219]]]),
            {
              "reference": 11,
              "system:index": "121"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-54.096972951235536, -22.565014334128477],
                  [-54.092509755434754, -22.564697294185997],
                  [-54.09765959674335, -22.562477994177534]]]),
            {
              "reference": 11,
              "system:index": "122"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-53.16244841510272, -22.51998736822084],
                  [-53.15111876422382, -22.513961519598926],
                  [-53.15935851031757, -22.5088869170027]]]),
            {
              "reference": 11,
              "system:index": "123"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-53.04297209674335, -22.607491089498893],
                  [-53.06013823443866, -22.608124971681622],
                  [-53.05533171588397, -22.61319592400642]]]),
            {
              "reference": 11,
              "system:index": "124"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-52.96435118609882, -22.319725564173282],
                  [-52.96229124957538, -22.316549521249687],
                  [-52.9633212178371, -22.313691020830138],
                  [-52.96709776813007, -22.319725564173282]]]),
            {
              "reference": 11,
              "system:index": "125"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-54.63976622516132, -22.440361565523546],
                  [-54.63770628863788, -22.44290014589134],
                  [-54.63221312457538, -22.44194818369736],
                  [-54.63427306109882, -22.43782293870301]]]),
            {
              "reference": 11,
              "system:index": "126"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-54.94553342820051, -22.366991498869737],
                  [-54.941756877907544, -22.359053947408494],
                  [-54.951713237770825, -22.365086527779734]]]),
            {
              "reference": 11,
              "system:index": "127"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-54.97849241257551, -22.359688968173398],
                  [-54.971969280251294, -22.361911518051365],
                  [-54.9723126030052, -22.35714886774402]]]),
            {
              "reference": 11,
              "system:index": "128"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-54.97025266648176, -22.33904931176776],
                  [-54.97128263474348, -22.336191272298443],
                  [-54.97574583054426, -22.34127219085374]]]),
            {
              "reference": 11,
              "system:index": "129"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-55.17624631882551, -22.243114248389045],
                  [-55.17487302780989, -22.237711973737984],
                  [-55.18448606491926, -22.245020883827628]]]),
            {
              "reference": 11,
              "system:index": "130"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-55.14054075241926, -22.25455367173301],
                  [-55.136764202126294, -22.245974191815712],
                  [-55.14534727097395, -22.247880788328406]]]),
            {
              "reference": 11,
              "system:index": "131"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-55.149467144020825, -22.220550425904825],
                  [-55.13813749314192, -22.219596944990908],
                  [-55.143973979958325, -22.21482944320055]]]),
            {
              "reference": 11,
              "system:index": "132"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-55.093505535134106, -22.27171105440143],
                  [-55.07942930222395, -22.278065106717516],
                  [-55.08286252976301, -22.270757921659943]]]),
            {
              "reference": 11,
              "system:index": "133"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-55.12337461472395, -22.256142406628523],
                  [-55.11170164109114, -22.255824661091626],
                  [-55.118224773415356, -22.251058391509144]]]),
            {
              "reference": 11,
              "system:index": "134"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-53.58488891218602, -22.265674437376582],
                  [-53.588665462478986, -22.270757921659943],
                  [-53.580425716385236, -22.270122496224786]]]),
            {
              "reference": 11,
              "system:index": "135"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-53.201381013767225, -22.069495433783377],
                  [-53.203097627536756, -22.081267125527344],
                  [-53.19829110898207, -22.079676413694106],
                  [-53.19897775448988, -22.069813600510074]]]),
            {
              "reference": 11,
              "system:index": "136"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-54.213237369628196, -22.03328469233191],
                  [-54.2080875283196, -22.02405518367956],
                  [-54.21289404687429, -22.025328255118094]]]),
            {
              "reference": 11,
              "system:index": "137"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-54.70694282011815, -21.879648348780268],
                  [-54.70350959257909, -21.872957743893423],
                  [-54.71243598418065, -21.879329755661175]]]),
            {
              "reference": 11,
              "system:index": "138"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-54.30216529326268, -21.933161886935448],
                  [-54.300105356739245, -21.924244359955548],
                  [-54.30800178007909, -21.924881344697532]]]),
            {
              "reference": 11,
              "system:index": "139"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-54.345767283008776, -21.943034211364836],
                  [-54.35366370634862, -21.938894287760263],
                  [-54.356753611133776, -21.945263351084837]]]),
            {
              "reference": 11,
              "system:index": "140"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-54.434687876270495, -21.900355375146592],
                  [-54.43880774931737, -21.894621422752717],
                  [-54.44395759062596, -21.900992466729864]]]),
            {
              "reference": 11,
              "system:index": "141"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-54.272639536426745, -21.940486580329807],
                  [-54.27366950468846, -21.946537129522078],
                  [-54.266116404102526, -21.944944904692704]]]),
            {
              "reference": 11,
              "system:index": "142"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-52.13641350067854, -21.872454622428467],
                  [-52.135383532416824, -21.867038169644598],
                  [-52.14156334198714, -21.867675410051074]]]),
            {
              "reference": 11,
              "system:index": "143"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-53.99996940888167, -21.796924374704716],
                  [-53.99344627655745, -21.796924374704716],
                  [-54.0016860226512, -21.78704194214444],
                  [-54.00923912323714, -21.78991110567188]]]),
            {
              "reference": 11,
              "system:index": "144"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-54.482681200873856, -21.712742514574895],
                  [-54.48336784638167, -21.70859592135471],
                  [-54.49023430145979, -21.7117856190527],
                  [-54.48989097870589, -21.71561316295823]]]),
            {
              "reference": 11,
              "system:index": "145"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-54.99251549042464, -21.79022989807404],
                  [-54.98839561737776, -21.799155797410027],
                  [-54.983589098823074, -21.798199477649288]]]),
            {
              "reference": 11,
              "system:index": "146"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-52.32249443329573, -21.459988950875193],
                  [-52.32695762909651, -21.46765726062896],
                  [-52.3207778195262, -21.468615770973692]]]),
            {
              "reference": 11,
              "system:index": "147"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-52.33794395722151, -21.615831783624028],
                  [-52.34069053925276, -21.60242566577564],
                  [-52.35202019013167, -21.608171296996456]]]),
            {
              "reference": 11,
              "system:index": "148"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-52.01669345412792, -21.560284068402915],
                  [-52.01669345412792, -21.57848308035066],
                  [-52.007767062526355, -21.57177844707986]]]),
            {
              "reference": 11,
              "system:index": "149"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-51.869407992702136, -21.576567502502048],
                  [-51.872154574733386, -21.583271914155702],
                  [-51.86460147414745, -21.582314160060342]]]),
            {
              "reference": 11,
              "system:index": "150"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-52.00193057570995, -21.536015165966575],
                  [-51.98922763381542, -21.537292577807296],
                  [-52.00364718947948, -21.52866982978559]]]),
            {
              "reference": 11,
              "system:index": "151"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-51.933609347682605, -21.351311272934378],
                  [-51.92330966506542, -21.350671753572183],
                  [-51.93395267043651, -21.34107862833739]]]),
            {
              "reference": 11,
              "system:index": "152"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-52.142349582057605, -21.33084526967524],
                  [-52.12621341262401, -21.340119281292363],
                  [-52.13204989944042, -21.32764719869791]]]),
            {
              "reference": 11,
              "system:index": "153"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-52.05857883010448, -21.392874042987852],
                  [-52.048965792995105, -21.397668987744993],
                  [-52.052742343288074, -21.39127569313264]]]),
            {
              "reference": 11,
              "system:index": "154"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-51.65449640821238, -21.16637432411147],
                  [-51.649689889657694, -21.157089370152185],
                  [-51.658616281259256, -21.15676918893794]]]),
            {
              "reference": 11,
              "system:index": "155"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-51.85946009229441, -21.116741086880996],
                  [-51.854653573739725, -21.10649215532864],
                  [-51.86357996534129, -21.11001530538754]]]),
            {
              "reference": 11,
              "system:index": "156"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-51.73780006443795, -21.043817535843115],
                  [-51.74191993748482, -21.02907724659595],
                  [-51.7515329745942, -21.037729332297246]]]),
            {
              "reference": 11,
              "system:index": "157"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-51.713424148910605, -21.010810082949806],
                  [-51.716170730941855, -20.988694207595067],
                  [-51.72235054051217, -20.999592294826304]]]),
            {
              "reference": 11,
              "system:index": "158"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-51.71170753514107, -21.048944251049868],
                  [-51.7075876620942, -21.054391192528414],
                  [-51.70655769383248, -21.043817535843115]]]),
            {
              "reference": 11,
              "system:index": "159"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-51.625533523910605, -20.887368102210786],
                  [-51.63754982029732, -20.90308455109087],
                  [-51.6251902011567, -20.90468817781355]]]),
            {
              "reference": 11,
              "system:index": "160"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-51.65128273045357, -20.93419184867195],
                  [-51.63137001072701, -20.938681028483593],
                  [-51.62656349217232, -20.922968310503844]]]),
            {
              "reference": 11,
              "system:index": "161"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-51.66604560887154, -20.95310962338943],
                  [-51.665702286117636, -20.942849432089663],
                  [-51.67977851902779, -20.95503333094573]]]),
            {
              "reference": 11,
              "system:index": "162"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-51.71479743992623, -21.014655987577967],
                  [-51.716170730941855, -21.0303590687707],
                  [-51.70175117527779, -21.025231713924796]]]),
            {
              "reference": 11,
              "system:index": "163"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-51.62107032810982, -20.810365831015858],
                  [-51.625533523910605, -20.837000240579762],
                  [-51.613517227523886, -20.82448586355005]]]),
            {
              "reference": 11,
              "system:index": "164"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-51.42537635838326, -20.455972044482678],
                  [-51.4219431308442, -20.450825187503984],
                  [-51.42812294041451, -20.450825187503984]]]),
            {
              "reference": 11,
              "system:index": "165"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-51.591544571273886, -20.36126442666382],
                  [-51.59635108982857, -20.36641427782728],
                  [-51.58811134373482, -20.370920256643593]]]),
            {
              "reference": 11,
              "system:index": "166"
            })]),
    flo = /* color: #d63000 */ee.FeatureCollection(
        [ee.Feature(
            ee.Geometry.Polygon(
                [[[-55.001678170068175, -22.152473745237657],
                  [-54.99978989492169, -22.157004886319275],
                  [-54.9880310906004, -22.15573300179815],
                  [-55.00004738698712, -22.145716509478554]]]),
            {
              "reference": 3,
              "system:index": "0"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-53.897361890512265, -22.442405707549714],
                  [-53.883628980356015, -22.44605484844492],
                  [-53.89701856775836, -22.435900479178745]]]),
            {
              "reference": 3,
              "system:index": "1"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-53.95074857874469, -22.492057514282795],
                  [-53.94319547815875, -22.50458662640778],
                  [-53.94542707605914, -22.493643540568907]]]),
            {
              "reference": 3,
              "system:index": "2"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-53.87384428186969, -22.466361356535412],
                  [-53.86680616541461, -22.471913399355532],
                  [-53.870411054330624, -22.466519989418035]]]),
            {
              "reference": 3,
              "system:index": "3"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-53.878650800424374, -22.4777824597978],
                  [-53.88071073694781, -22.478892794604857],
                  [-53.88071073694781, -22.481430669301723],
                  [-53.87796415491656, -22.480954821339427]]]),
            {
              "reference": 3,
              "system:index": "4"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-53.939075605111874, -22.47000986688365],
                  [-53.937530652719296, -22.46810630825494],
                  [-53.93821729822711, -22.466678622119034],
                  [-53.94062055750445, -22.470168495588695]]]),
            {
              "reference": 3,
              "system:index": "5"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-53.973236219125546, -22.4877751525117],
                  [-53.97855772181109, -22.48460294725417],
                  [-53.975296155648984, -22.492057514282795]]]),
            {
              "reference": 3,
              "system:index": "6"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-53.887913981981406, -22.516241603975907],
                  [-53.87812928349508, -22.51164282914011],
                  [-53.88310746342672, -22.508312586341646]]]),
            {
              "reference": 3,
              "system:index": "7"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-54.66244781377929, -24.04292113007805],
                  [-54.66485107305663, -24.037590903288308],
                  [-54.667254332333975, -24.041353439277895]]]),
            {
              "reference": 3,
              "system:index": "8"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-54.3097223446622, -23.69725352083521],
                  [-54.3042291805997, -23.695681639282835],
                  [-54.30869237640048, -23.688765135619935]]]),
            {
              "reference": 3,
              "system:index": "9"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-54.13983717498471, -23.551030051884055],
                  [-54.14292707976987, -23.558268539905434],
                  [-54.13709059295346, -23.559842071501706],
                  [-54.13709059295346, -23.55323311217947]]]),
            {
              "reference": 3,
              "system:index": "10"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-55.305074601742525, -23.51546125717327],
                  [-55.30576124725034, -23.521442523401607],
                  [-55.30198469695737, -23.522386909017474],
                  [-55.29992476043393, -23.516405685695563]]]),
            {
              "reference": 3,
              "system:index": "11"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-55.16508113224123, -23.492555133707707],
                  [-55.16765605289552, -23.494680457861325],
                  [-55.16576777774904, -23.495546320839814],
                  [-55.161647904702164, -23.49318486295542]]]),
            {
              "reference": 3,
              "system:index": "12"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-53.71728907901857, -23.44468691283563],
                  [-53.7135125287256, -23.447836671345907],
                  [-53.71282588321779, -23.44216705196044]]]),
            {
              "reference": 3,
              "system:index": "13"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-53.58854304630373, -23.242946514147402],
                  [-53.5871697552881, -23.23789908090871],
                  [-53.593349564858414, -23.23600624421761]]]),
            {
              "reference": 3,
              "system:index": "14"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-54.46538935978029, -23.27732706961387],
                  [-54.46161280948732, -23.284895908625984],
                  [-54.45886622745607, -23.279534692098782]]]),
            {
              "reference": 3,
              "system:index": "15"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-54.29304133731935, -23.089545683175064],
                  [-54.292698014565445, -23.08512412734452],
                  [-54.29681788761232, -23.084808296362475]]]),
            {
              "reference": 3,
              "system:index": "16"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-53.933925736733414, -23.2145522190639],
                  [-53.93632899601076, -23.220231561187124],
                  [-53.92705928165529, -23.221178094728973]]]),
            {
              "reference": 3,
              "system:index": "17"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-53.460296473534825, -22.92266745215381],
                  [-53.46166976455045, -22.92835913117518],
                  [-53.45445998671842, -22.924880911299546]]]),
            {
              "reference": 3,
              "system:index": "18"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-53.93476851943326, -22.896419395203832],
                  [-53.93408187392545, -22.903377206441412],
                  [-53.929962000878575, -22.900530872256443]]]),
            {
              "reference": 3,
              "system:index": "19"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-55.22325881484342, -22.937212378722062],
                  [-55.22291549208951, -22.942271117430327],
                  [-55.219138941796544, -22.940690281890706]]]),
            {
              "reference": 3,
              "system:index": "20"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-54.19157393935514, -22.870058311999617],
                  [-54.19569381240201, -22.878282738696257],
                  [-54.18676742080045, -22.877333791804844]]]),
            {
              "reference": 3,
              "system:index": "21"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-53.339446864159825, -22.876068518967],
                  [-53.334983668359044, -22.8852414799106],
                  [-53.33189376357389, -22.87923167895573]]]),
            {
              "reference": 3,
              "system:index": "22"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-53.11354049208951, -22.796649089044017],
                  [-53.111480555566075, -22.802979029593413],
                  [-53.10907729628873, -22.799181100539307]]]),
            {
              "reference": 3,
              "system:index": "23"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-52.873557887109044, -22.618988355272318],
                  [-52.87458785537076, -22.62437581036512],
                  [-52.863258204491856, -22.622157472068317]]]),
            {
              "reference": 3,
              "system:index": "24"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-54.28665877276874, -22.66753844718105],
                  [-54.28494215899921, -22.664053566287034],
                  [-54.28940535479999, -22.66437037729866]]]),
            {
              "reference": 3,
              "system:index": "25"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-55.13209105426288, -22.78866212914273],
                  [-55.1276278584621, -22.794042912565573],
                  [-55.12591124469257, -22.78992821493233]]]),
            {
              "reference": 3,
              "system:index": "26"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-55.275256642641786, -22.735475918303887],
                  [-55.26873351031757, -22.73452597633659],
                  [-55.27010680133319, -22.72787619779349]]]),
            {
              "reference": 3,
              "system:index": "27"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-54.646289357485536, -22.543771046589615],
                  [-54.63942290240741, -22.54123431606209],
                  [-54.64251280719257, -22.53933173757399],
                  [-54.64697600299335, -22.540917221468316]]]),
            {
              "reference": 3,
              "system:index": "28"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-54.12134886676288, -22.62460488321219],
                  [-54.11791563922382, -22.61890052192642],
                  [-54.12478209430194, -22.61953435153356]]]),
            {
              "reference": 3,
              "system:index": "29"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-52.95027495318866, -22.490172710445314],
                  [-52.94855833941913, -22.496516792926382],
                  [-52.94306517535663, -22.49524799970015]]]),
            {
              "reference": 3,
              "system:index": "30"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-52.973620900454286, -22.29463285588137],
                  [-52.97053099566913, -22.300350578402416],
                  [-52.965381154360536, -22.295585825883574]]]),
            {
              "reference": 3,
              "system:index": "31"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-53.757426747622254, -22.409577583523557],
                  [-53.75536681109882, -22.417512252335403],
                  [-53.75124693805194, -22.411799336473862]]]),
            {
              "reference": 3,
              "system:index": "32"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-54.59994078570819, -22.447025239903294],
                  [-54.59376097613788, -22.447342549745546],
                  [-54.59444762164569, -22.44067889060999]]]),
            {
              "reference": 3,
              "system:index": "33"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-54.92390409470442, -22.389531677356736],
                  [-54.91669431687239, -22.385722326129507],
                  [-54.91841093064192, -22.381277951185265]]]),
            {
              "reference": 3,
              "system:index": "34"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-55.2359844780052, -22.30760765686159],
                  [-55.23667112351301, -22.316183356196305],
                  [-55.228088054665356, -22.312371999299515]]]),
            {
              "reference": 3,
              "system:index": "35"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-53.61750457380711, -22.274570413662843],
                  [-53.60960815046727, -22.274570413662843],
                  [-53.61510131452977, -22.266309883011825]]]),
            {
              "reference": 3,
              "system:index": "36"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-52.6633515864653, -22.016358141498074],
                  [-52.64446883500046, -22.013493533300935],
                  [-52.65923171341843, -21.998851298315618]]]),
            {
              "reference": 3,
              "system:index": "37"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-53.31914071835707, -22.03162848102526],
                  [-53.31158761777113, -22.030673720996628],
                  [-53.318454072849256, -22.024626757987757]]]),
            {
              "reference": 3,
              "system:index": "38"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-55.27857520537206, -22.09389974817292],
                  [-55.27342536406346, -22.09389974817292],
                  [-55.27342536406346, -22.088809862622504]]]),
            {
              "reference": 3,
              "system:index": "39"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-54.62076880888768, -21.85989423042727],
                  [-54.61939551787206, -21.866266825346568],
                  [-54.61527564482518, -21.86244330252228]]]),
            {
              "reference": 3,
              "system:index": "40"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-51.887161181342606, -21.622128222999],
                  [-51.88063804901839, -21.616383146251447],
                  [-51.88750450409651, -21.614468069937942]]]),
            {
              "reference": 3,
              "system:index": "41"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-52.4800795773387, -21.733473687861604],
                  [-52.4800795773387, -21.737938472410278],
                  [-52.4745864132762, -21.73443043908427]]]),
            {
              "reference": 3,
              "system:index": "42"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-54.22244255341292, -21.745592066038668],
                  [-54.21832268036604, -21.738895193909897],
                  [-54.22930900849104, -21.739214099660945]]]),
            {
              "reference": 3,
              "system:index": "43"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-52.3482436398387, -21.562199861471466],
                  [-52.341377184760574, -21.564754212853128],
                  [-52.34172050751448, -21.559326162376745]]]),
            {
              "reference": 3,
              "system:index": "44"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-51.835762362819324, -21.525795466669834],
                  [-51.827522616725574, -21.530266673604324],
                  [-51.82443271194042, -21.524517953694392]]]),
            {
              "reference": 3,
              "system:index": "45"
            })]),
    agro = /* color: #98ff00 */ee.FeatureCollection(
        [ee.Feature(
            ee.Geometry.Polygon(
                [[[-55.1091770524519, -22.0020972869198],
                  [-55.11381190962963, -21.99175155486726],
                  [-55.11930507369213, -21.996685767360102],
                  [-55.11381190962963, -22.003052239523196]]]),
            {
              "reference": 21,
              "system:index": "0"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-55.12393993086987, -21.991592383864877],
                  [-55.1256565446394, -21.98347442596948],
                  [-55.141964375449945, -21.97885812516401],
                  [-55.14402431197338, -21.982519341568636],
                  [-55.12926143355541, -21.985066219021913],
                  [-55.12891811080151, -21.99111486978626]]]),
            {
              "reference": 21,
              "system:index": "1"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-55.06643336959057, -22.022786486386668],
                  [-55.062313496543695, -22.020399425219328],
                  [-55.06660503096752, -22.018967169212026]]]),
            {
              "reference": 21,
              "system:index": "2"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-55.194664418174554, -21.986180463535696],
                  [-55.18728297896557, -21.978539754057525],
                  [-55.194664418174554, -21.974400864703814]]]),
            {
              "reference": 21,
              "system:index": "3"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-55.17526668257885, -21.98442950394333],
                  [-55.17028850264721, -21.988249751564503],
                  [-55.17183345503979, -21.98220097867354],
                  [-55.176639973594476, -21.979813234199526],
                  [-55.182648121787835, -21.98809057663361]]]),
            {
              "reference": 21,
              "system:index": "4"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-55.14041942305737, -22.028992657156756],
                  [-55.14402431197338, -22.016898329417288],
                  [-55.15501064009838, -22.029470043643347],
                  [-55.1450542802351, -22.026287436667275]]]),
            {
              "reference": 21,
              "system:index": "5"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-55.069674758915795, -22.134901297671153],
                  [-55.08375099182595, -22.12170286518284],
                  [-55.07173469543923, -22.13744543166521]]]),
            {
              "reference": 21,
              "system:index": "6"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-55.05559852600564, -22.117409132728447],
                  [-55.05989006042947, -22.109934545767032],
                  [-55.06297996521462, -22.112479130491472]]]),
            {
              "reference": 21,
              "system:index": "7"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-53.91658143193258, -22.50323777641103],
                  [-53.9234478870107, -22.50387213783695],
                  [-53.917611400194296, -22.50720248758336]]]),
            {
              "reference": 21,
              "system:index": "8"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-53.942330638475546, -22.568561706960086],
                  [-53.9425022998525, -22.57775531155001],
                  [-53.946107188768515, -22.584887858093584],
                  [-53.943875590868124, -22.587265291544753],
                  [-53.940099040575156, -22.571097934994434],
                  [-53.928597728319296, -22.556513986652234]]]),
            {
              "reference": 21,
              "system:index": "9"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-53.99132591483097, -22.54046228855345],
                  [-53.99913650748234, -22.542681942728596],
                  [-53.99390083548527, -22.548072382835894],
                  [-53.98875099417668, -22.54379175643156]]]),
            {
              "reference": 21,
              "system:index": "10"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-53.54583927951403, -22.513851891877287],
                  [-53.552877395969105, -22.511473193217128],
                  [-53.54824253879137, -22.51607197369646]]]),
            {
              "reference": 21,
              "system:index": "11"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-54.227219830113484, -22.757595674102387],
                  [-54.21631933267696, -22.770971156654387],
                  [-54.210740337925984, -22.761236467771493]]]),
            {
              "reference": 21,
              "system:index": "12"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-54.97428229422958, -23.028472006964673],
                  [-54.97754386039169, -23.00224448107461],
                  [-54.989903479532316, -23.034791130039693]]]),
            {
              "reference": 21,
              "system:index": "13"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-54.60690986280922, -23.31293556116781],
                  [-54.605708233170546, -23.331694163383393],
                  [-54.59815513258461, -23.337683747415312],
                  [-54.600215069108046, -23.313723791015427]]]),
            {
              "reference": 21,
              "system:index": "14"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-54.74315233124851, -23.506921841870902],
                  [-54.72289628876804, -23.49920825535427],
                  [-54.73044938935398, -23.498106277559863]]]),
            {
              "reference": 21,
              "system:index": "15"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-55.005302298964196, -23.748039720528435],
                  [-55.00753389686459, -23.742068795882318],
                  [-55.00873552650326, -23.747254088188033]]]),
            {
              "reference": 21,
              "system:index": "16"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-55.02899156898373, -23.748039720528435],
                  [-55.0331114420306, -23.746939833924845],
                  [-55.030536521376305, -23.753224775101813]]]),
            {
              "reference": 21,
              "system:index": "17"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-54.909279118969906, -23.72155930876631],
                  [-54.91666055817889, -23.715272840139853],
                  [-54.912025701001156, -23.72690256880965]]]),
            {
              "reference": 21,
              "system:index": "18"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-53.83552045161365, -23.90540829323924],
                  [-53.83921117121814, -23.906114501183428],
                  [-53.83697957331775, -23.9076838383564],
                  [-53.83243054682849, -23.904780549605356],
                  [-53.83594960505603, -23.90281883110138]]]),
            {
              "reference": 21,
              "system:index": "19"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-53.86899786329106, -23.84421599413967],
                  [-53.865307143686564, -23.84664962211959],
                  [-53.86668043470219, -23.843509448426698],
                  [-53.86839704847172, -23.842253357651245]]]),
            {
              "reference": 21,
              "system:index": "20"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-53.88758210522673, -23.741161452235918],
                  [-53.889127057619305, -23.739118690423815],
                  [-53.89050034863493, -23.742182821130022]]]),
            {
              "reference": 21,
              "system:index": "21"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-53.892131131715985, -23.727254325239866],
                  [-53.89367608410856, -23.725682805141517],
                  [-53.894877713747235, -23.728354378036155]]]),
            {
              "reference": 21,
              "system:index": "22"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-53.836333927761096, -23.750221812745924],
                  [-53.83830803359606, -23.75155735446686],
                  [-53.83676308120348, -23.752578641833875],
                  [-53.835647282253284, -23.75163591531795]]]),
            {
              "reference": 21,
              "system:index": "23"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-53.80571763965053, -23.75494004512434],
                  [-53.80769174548549, -23.754075895085887],
                  [-53.80769174548549, -23.756039864149948]]]),
            {
              "reference": 21,
              "system:index": "24"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-53.62623202190216, -23.586861984457155],
                  [-53.626918667409974, -23.590008343584486],
                  [-53.62503039226349, -23.590008343584486],
                  [-53.62434374675568, -23.586075382887444]]]),
            {
              "reference": 21,
              "system:index": "25"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-53.670094158751176, -23.447192496586638],
                  [-53.666403439146684, -23.452783160244678],
                  [-53.66829171429317, -23.447664956189865]]]),
            {
              "reference": 21,
              "system:index": "26"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-53.66751923809688, -23.441680343037678],
                  [-53.66803422222774, -23.444042722717995],
                  [-53.66494431744258, -23.446483804013592],
                  [-53.66657510052364, -23.443334013248812]]]),
            {
              "reference": 21,
              "system:index": "27"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-54.18777896965749, -23.123886959266702],
                  [-54.19121219719655, -23.126412851214592],
                  [-54.18863727654225, -23.129412286134798]]]),
            {
              "reference": 21,
              "system:index": "28"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-54.15660039642001, -23.71297129519815],
                  [-54.15145055511142, -23.711713942924195],
                  [-54.15385381438876, -23.707313114530475],
                  [-54.15866033294345, -23.70982789179006]]]),
            {
              "reference": 21,
              "system:index": "29"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-53.843404214169034, -23.651346790706324],
                  [-53.84357587554599, -23.657714954352628],
                  [-53.84117261626864, -23.657321866809657],
                  [-53.8413442776456, -23.65142541190068]]]),
            {
              "reference": 21,
              "system:index": "30"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-53.82186071136142, -23.674066349096776],
                  [-53.8208307430997, -23.670293131837546],
                  [-53.8237489865079, -23.669664251703857],
                  [-53.826152245785245, -23.673044446845406]]]),
            {
              "reference": 21,
              "system:index": "31"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-53.82795469024325, -23.680354802432895],
                  [-53.826667229916104, -23.683813322757338],
                  [-53.821174065853604, -23.683105905594605],
                  [-53.82254735686923, -23.679647366541452]]]),
            {
              "reference": 21,
              "system:index": "32"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-53.86228696563388, -23.64678668059585],
                  [-53.86117116668368, -23.65032471088023],
                  [-53.85679380157138, -23.650560576164203],
                  [-53.85696546294833, -23.648673641986424],
                  [-53.86048452117587, -23.646865304530415]]]),
            {
              "reference": 21,
              "system:index": "33"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-54.26892653045346, -23.601376487342897],
                  [-54.26446333465268, -23.614274652701596],
                  [-54.262403398129244, -23.604522498340614]]]),
            {
              "reference": 21,
              "system:index": "34"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-55.16044627506349, -23.474921493589054],
                  [-55.162592042275406, -23.477047101964096],
                  [-55.16027461368654, -23.479251400398773],
                  [-55.15958796817873, -23.4757874863206]]]),
            {
              "reference": 21,
              "system:index": "35"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-54.85094081241701, -23.325571043934637],
                  [-54.844761002846695, -23.340702801409286],
                  [-54.83995448429201, -23.337550494096888]]]),
            {
              "reference": 21,
              "system:index": "36"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-53.56245051700685, -23.192148015384603],
                  [-53.5597039349756, -23.19782830967759],
                  [-53.55283747989748, -23.192148015384603],
                  [-53.554897416420914, -23.18709866234238]]]),
            {
              "reference": 21,
              "system:index": "37"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-53.58339320499513, -23.185836294297623],
                  [-53.59128962833498, -23.18993894688477],
                  [-53.59094630558107, -23.195934905058564],
                  [-53.57790004093263, -23.18962336269186]]]),
            {
              "reference": 21,
              "system:index": "38"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-53.582363236733414, -23.267234615145263],
                  [-53.57927333194826, -23.27858857265768],
                  [-53.57000361759279, -23.27858857265768],
                  [-53.57103358585451, -23.266288408340674]]]),
            {
              "reference": 21,
              "system:index": "39"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-54.90312587101076, -23.2369526659193],
                  [-54.90484248478029, -23.22370215137495],
                  [-54.91479884464357, -23.23348242019919]]]),
            {
              "reference": 21,
              "system:index": "40"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-54.42590724308107, -23.1290174102565],
                  [-54.42384730655763, -23.1359632330111],
                  [-54.41766749698732, -23.136910362787344],
                  [-54.417324174233414, -23.131543205605325]]]),
            {
              "reference": 21,
              "system:index": "41"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-54.50830470401857, -23.140383114728905],
                  [-54.50864802677248, -23.144802850737225],
                  [-54.501438248940445, -23.143855776717164]]]),
            {
              "reference": 21,
              "system:index": "42"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-53.56725703556154, -23.052905546301236],
                  [-53.564853776284195, -23.061118858460837],
                  [-53.56073390323732, -23.060487083010727],
                  [-53.56348048526857, -23.05322145218916]]]),
            {
              "reference": 21,
              "system:index": "43"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-53.522437891991856, -22.946697358719955],
                  [-53.53102096083951, -22.952071885664783],
                  [-53.52209456923795, -22.957762328553667]]]),
            {
              "reference": 21,
              "system:index": "44"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-54.44940932753873, -22.93152107174014],
                  [-54.451812586816075, -22.93942560016702],
                  [-54.4421995497067, -22.933734386212404]]]),
            {
              "reference": 21,
              "system:index": "45"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-53.87262710097623, -22.791901440734925],
                  [-53.871253809960606, -22.801396572015765],
                  [-53.86473067763639, -22.793800519897328]]]),
            {
              "reference": 21,
              "system:index": "46"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-53.28932174208951, -22.85107696538807],
                  [-53.291725001366856, -22.859935257061412],
                  [-53.2776487684567, -22.86246609150252]]]),
            {
              "reference": 21,
              "system:index": "47"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-53.116973719628575, -22.87227262972029],
                  [-53.11354049208951, -22.867843958181904],
                  [-53.12178023818326, -22.86278244249356]]]),
            {
              "reference": 21,
              "system:index": "48"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-52.910980067284825, -22.811840452433948],
                  [-52.90617354873014, -22.82196708700734],
                  [-52.90033706191373, -22.815321567998943]]]),
            {
              "reference": 21,
              "system:index": "49"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-52.866004786523106, -22.7985481020747],
                  [-52.85948165419889, -22.796965593052935],
                  [-52.870811305077794, -22.79475004955936]]]),
            {
              "reference": 21,
              "system:index": "50"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-52.92780288222623, -22.81152398297113],
                  [-52.92677291396451, -22.818802594592444],
                  [-52.923683009179356, -22.81437218166803]]]),
            {
              "reference": 21,
              "system:index": "51"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-52.8656614637692, -22.702311804229936],
                  [-52.87184127333951, -22.696927407882438],
                  [-52.8766477918942, -22.707695988896937]]]),
            {
              "reference": 21,
              "system:index": "52"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-52.947715601952794, -22.6307137225426],
                  [-52.95080550673795, -22.64592351922376],
                  [-52.94359572890592, -22.640220042800365]]]),
            {
              "reference": 21,
              "system:index": "53"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-54.434287556948426, -22.64029065622126],
                  [-54.44699049884296, -22.62919989101571],
                  [-54.45145369464374, -22.634903824926855]]]),
            {
              "reference": 21,
              "system:index": "54"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-55.13037444049335, -22.726926203036772],
                  [-55.12385130816913, -22.719959373238122],
                  [-55.13380766803241, -22.717109204257493]]]),
            {
              "reference": 21,
              "system:index": "55"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-54.71632719928241, -22.46130346394877],
                  [-54.71083403521991, -22.467966131849334],
                  [-54.70843077594257, -22.466062545139593],
                  [-54.71358061725116, -22.460986186058232]]]),
            {
              "reference": 21,
              "system:index": "56"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-54.725940236391786, -22.606857204395936],
                  [-54.73040343219257, -22.612245134683594],
                  [-54.72353697711444, -22.612245134683594]]]),
            {
              "reference": 21,
              "system:index": "57"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-54.66036559039569, -22.6040046852961],
                  [-54.665515431704286, -22.603370784132867],
                  [-54.66345549518085, -22.608441911677858]]]),
            {
              "reference": 21,
              "system:index": "58"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-54.663798817934754, -22.627140078925855],
                  [-54.654529103579286, -22.61921743709517],
                  [-54.66208220416522, -22.61446363288057]]]),
            {
              "reference": 21,
              "system:index": "59"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-54.6881747334621, -22.607174147312442],
                  [-54.68439818316913, -22.60241992691333],
                  [-54.69057799273944, -22.59988427554465]]]),
            {
              "reference": 21,
              "system:index": "60"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-54.57556487018085, -22.59354494276788],
                  [-54.57384825641132, -22.598616432343142],
                  [-54.57075835162616, -22.59481283267605],
                  [-54.57522154742694, -22.588790251632606]]]),
            {
              "reference": 21,
              "system:index": "61"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-52.410571584048036, -22.299715287455268],
                  [-52.40542174273944, -22.312738174349967],
                  [-52.40164519244647, -22.30956197245021],
                  [-52.40816832477069, -22.299397640898338]]]),
            {
              "reference": 21,
              "system:index": "62"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-52.85174132281757, -22.273348166229983],
                  [-52.84968138629413, -22.285102798452336],
                  [-52.84487486773944, -22.283514392378493],
                  [-52.848308095278504, -22.271759626642933]]]),
            {
              "reference": 21,
              "system:index": "63"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-53.03370238238788, -22.35846746582975],
                  [-53.02992583209491, -22.367992513402648],
                  [-53.02546263629413, -22.362595066430554]]]),
            {
              "reference": 21,
              "system:index": "64"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-54.46673155719257, -22.368310003767935],
                  [-54.46982146197772, -22.378469313146304],
                  [-54.45917845660663, -22.38037410109847]]]),
            {
              "reference": 21,
              "system:index": "65"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-53.84856078718602, -22.255824661091626],
                  [-53.84650085066258, -22.253600422142668],
                  [-53.85199401472508, -22.24978735888831],
                  [-53.85748717878758, -22.25042287664068]]]),
            {
              "reference": 21,
              "system:index": "66"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-53.10183379743992, -22.22372864880295],
                  [-53.08123443220555, -22.228495848092837],
                  [-53.08363769148289, -22.21641862846697]]]),
            {
              "reference": 21,
              "system:index": "67"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-52.98407409285008, -22.196393578816352],
                  [-52.97789428327977, -22.199254475103213],
                  [-52.97274444197117, -22.187810540258205],
                  [-52.98235747908055, -22.184631503996357]]]),
            {
              "reference": 21,
              "system:index": "68"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-52.64893203080124, -22.04563748031859],
                  [-52.63313918412155, -22.036090535136584],
                  [-52.66026168168015, -22.036090535136584]]]),
            {
              "reference": 21,
              "system:index": "69"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-53.4417069415016, -21.997253065672307],
                  [-53.442050264255506, -21.98993129867396],
                  [-53.455096528903944, -21.99311472206355]]]),
            {
              "reference": 21,
              "system:index": "70"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-52.980228581362574, -21.98601859887642],
                  [-52.97954193585476, -22.000025513741207],
                  [-52.97164551251492, -21.999070540754655],
                  [-52.97233215802273, -21.98665530682545]]]),
            {
              "reference": 21,
              "system:index": "71"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-51.91806022919417, -21.615744790298447],
                  [-51.91153709686995, -21.61319133830523],
                  [-51.922866747748856, -21.610957030825805]]]),
            {
              "reference": 21,
              "system:index": "72"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-52.5844496945262, -21.749418709945754],
                  [-52.56625358856917, -21.74686762533539],
                  [-52.56968681610823, -21.73219800965807],
                  [-52.58616630829573, -21.73506826969451]]]),
            {
              "reference": 21,
              "system:index": "73"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-53.967353747260574, -21.69137033234846],
                  [-53.96495048798323, -21.70317327302248],
                  [-53.95705406464339, -21.698707409247138],
                  [-53.95671074188948, -21.69073230799708]]]),
            {
              "reference": 21,
              "system:index": "74"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-54.05764763153792, -21.63744731126012],
                  [-54.06279747284651, -21.64957377068862],
                  [-54.05730430878401, -21.650850180853837]]]),
            {
              "reference": 21,
              "system:index": "75"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-54.49126426972151, -21.745910956924778],
                  [-54.48954765595198, -21.753882998973754],
                  [-54.48130790985823, -21.75005647401815],
                  [-54.48233787811995, -21.745592066038668]]]),
            {
              "reference": 21,
              "system:index": "76"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-52.155052523952136, -21.244792905360928],
                  [-52.15402255569042, -21.26047162107277],
                  [-52.14852939162792, -21.24735280965218]]]),
            {
              "reference": 21,
              "system:index": "77"
            })]);

// Define the region ID (reg_25)
var regiaoID = 'reg_25'; // old 11

// Define whether to collect data (false)
var coleta = false;   // true or false

// Define the years to process (2016-2023)
var anos = [2016,2017,2018,2019,2020,2021,2022,2023]

// If collecting data, only process 2023
if (coleta) {var anos = [2023]}

// Define the number of trees for the Random Forest classifier (100)
var RFtrees = 100;

// If collecting data, use 200 trees
if (coleta) {var RFtrees = 200}

// Define the output version (1)
var versao_out = 1;

// Define the version of the point data (S2_v1)
var versao_pt = 'S2_v1';

// Define the stable version (3)
var versao_estavel = '3'

// Define the input directory for point data
var dir_pt_in = 'projects/mapbiomas-workspace/AMOSTRAS/col9/MATA_ATLANTICA/teste/';

// Load the 250k biome collection
var bioma250mil = ee.FeatureCollection('projects/mapbiomas-workspace/AUXILIAR/biomas_IBGE_250mil');

// Filter the collection to only include the Mata Atlântica biome
var bioma250mil_MA_vetor = bioma250mil.filterMetadata('Bioma','equals', 'Mata Atlântica');

// Load the biome raster
var biomes = ee.Image('projects/mapbiomas-workspace/AUXILIAR/biomas-raster-41');

// Mask the biome raster to only include the Mata Atlântica biome
var bioma250mil_MA = biomes.mask(biomes.eq(2));

// Add the Mata Atlântica biome layer to the map
Map.addLayer(bioma250mil_MA,{},'layer bioma',false)

// Import the palettes module
var palettes = require('users/mapbiomas/modules:Palettes.js');

// Define the visualization parameters for the classification
var vis = {
    'min': 0,
    'max': 62,
    'palette': palettes.get('classification7')
};

// Load the Mata Atlântica region collection
var regioesCollection = ee.FeatureCollection('projects/mapbiomas-workspace/AUXILIAR/Mata_Atlantica_col6_PLANET');

// Define the visualization parameters for the median composite
var visParMedian2 = {bands: ['swir1_median', 'nir_median', 'red_median'],gain: [0.08, 0.06, 0.2],gamma: 0.85}

// Define the biome name (MATAATLANTICA)
var bioma = "MATAATLANTICA";

// Define the output directory
var dirout = 'projects/mapbiomas-workspace/COLECAO7/classificacao-ma/';

// Load the S2 cluster image
var S2_cluster = ee.Image('projects/mapbiomas-workspace/AMOSTRAS/S2_2024/MATA_ATLANTICA/mosaicos_MA_S2_clusters_2106_2023')

// Filter the region collection to only include the specified region ID
var limite = regioesCollection.filterMetadata('reg_id', "equals", regiaoID);
//var limite = reg_04_rev

// Load the stable map from collection 6
var mapa_estavel_col6 = ee.Image('projects/mapbiomas-workspace/AMOSTRAS/col7/MATA_ATLANTICA/MA_amostras_estaveis85a20_col6_v1')

// Add the stable map layer to the map
Map.addLayer(mapa_estavel_col6, vis, 'mapa_estavel_col6', false);

// Create a blank image
var blank = ee.Image(0).mask(0);
// Outline the region boundary
var outline = blank.paint(limite, 'AA0000', 2); 
// Define the visualization parameters for the outline
var visPar = {'palette':'000000','opacity': 0.6};
// Add the outline layer to the map
Map.addLayer(outline, visPar, regiaoID, false);

// Define a function to shuffle a feature collection
var shuffle = function (collection, seed) {
    // Add a random column to the collection
    collection = collection.randomColumn('random', seed || 1)
        // Sort the collection by the random column
        .sort('random', true)
        // Map over the collection and set a new ID based on the random value
        .map(function (feature) {
                var rescaled = ee.Number(feature.get('random')).multiply(1000000000).round();
                return feature.set('new_id', rescaled)});
    // Get a list of the new IDs
    var randomIdList = ee.List(collection.reduceColumns(ee.Reducer.toList(), ['new_id']).get('list'));
    // Create a sequential list of IDs
    var sequentialIdList = ee.List.sequence(1, collection.size());
    // Remap the collection using the new and sequential IDs
    var shuffled = collection.remap(randomIdList, sequentialIdList, 'new_id');
    // Return the shuffled collection
    return shuffled;
};

// Define the visualization parameters for the hand-labeled data
var vis_hand = {
    'min': 0,
    'max': 60,
    'palette': 'blue,white,green,orange,red,brown'
};

// Loop through the years
for (var i_ano=0;i_ano<anos.length; i_ano++){
  // Get the current year
  var ano = anos[i_ano];

  // Define the asset path for the Sentinel-2 mosaics
  var asset = 'projects/mapbiomas-mosaics/assets/SENTINEL/BRAZIL/mosaics-3';
  // Define the band names to use for classification
  var bandNames = ee.List([
  //  THE 60 MOST IMPORTANT BANDS FOR THIS REGION
  'green_median_texture_'+ano,'red_edge_1_median','gcvi_median_dry','latitude','ri_median_wet','green_median','swir2_stdDev','brba_median_dry','red_edge_1_stdDev','ratio_median','gli_median','longitude','red_edge_1_median_wet','brightness_median_wet','spri_median_1','ri_median_dry','swir2_median_wet','lswi_median_dry','nddi_median_dry','ndvi_median_wet_'+ano,'swir1_median_dry','ndwi_median_wet','blue_median','red_edge_2_median_dry','brightness_median','swir2_median_dry','ui_median','ndwi_median_'+ano,'ratio_median_dry','brba_median_wet','red_edge_2_stdDev','afvi_median','gvmi_median_wet','cvi_median_wet','ndvi_median_wet','avi_median_wet','blue_median_wet','gvmi_median_dry_1','mbi_median_dry','green_median_dry','evi_median_wet','wetness_median_wet','osavi_median_dry','swir1_median_wet','red_edge_4_median_wet','spri_median_wet','evi_median','ndwi_median_dry','green_min','iia_median_dry','brightness_median_dry','mbi_median_wet','rvi_median','nir_median_dry','ui_median_dry','gcvi_median_wet','red_edge_3_stdDev','msi_median_dry','gli_median_wet','gvmi_median',

 // ALL 143 BANDS TO FEATURE IMPORTANCE
  //    'blue_median','afvi_median','afvi_median_dry','afvi_median_wet','avi_median','avi_median_dry','avi_median_wet','awei_median','awei_median_dry','awei_median_wet','blue_median_dry','blue_median_wet','blue_stdDev','brba_median','brba_median_dry','brba_median_wet','brightness_median','brightness_median_dry','brightness_median_wet','bsi_median','bsi_median_1','bsi_median_2','clusters_2023','co2flux_median','cvi_median','cvi_median_dry','cvi_median_wet','dswi5_median','dswi5_median_dry','dswi5_median_wet','evi_median','evi_median_dry','evi_median_wet','gcvi_median','gcvi_median_dry','gcvi_median_wet','gemi_median','gemi_median_dry','gemi_median_wet','gli_median','gli_median_dry','gli_median_wet','green_median','green_median_dry','green_median_texture','green_median_texture_2023','green_median_wet','green_min','green_stdDev','gvmi_median','gvmi_median_1','gvmi_median_dry','gvmi_median_dry_1','gvmi_median_wet','gvmi_median_wet_1','iia_median','iia_median_dry','iia_median_wet','lai_median','latitude','longitude','lswi_median','lswi_median_dry','lswi_median_wet','mbi_median','mbi_median_dry','mbi_median_wet','msi_median','msi_median_dry','msi_median_wet','nddi_median','nddi_median_dry','nddi_median_wet','ndvi_median','ndvi_median_dry','ndvi_median_dry_2023','ndvi_median_wet','ndvi_median_wet_2023','ndwi_median','ndwi_median_2023','ndwi_median_dry','ndwi_median_wet','nir_median','nir_median_contrast','nir_median_dry','nir_median_dry_contrast','nir_median_wet','nir_stdDev','osavi_median','osavi_median_dry','osavi_median_wet','ratio_median','ratio_median_dry','ratio_median_wet','red_edge_1_median','red_edge_1_median_dry','red_edge_1_median_wet','red_edge_1_stdDev','red_edge_2_median','red_edge_2_median_dry','red_edge_2_median_wet','red_edge_2_stdDev','red_edge_3_median','red_edge_3_median_dry','red_edge_3_median_wet','red_edge_3_stdDev','red_edge_4_median','red_edge_4_median_dry','red_edge_4_median_wet','red_edge_4_stdDev','red_median','red_median_contrast','red_median_dry','red_median_dry_contrast','red_median_wet','red_min','red_stdDev','ri_median','ri_median_dry','ri_median_wet','rvi_median','rvi_median_1','rvi_median_wet','shape_median','shape_median_dry','shape_median_wet','spri_median','spri_median_1','spri_median_wet','swir1_median','swir1_median_dry','swir1_median_wet','swir1_stdDev','swir2_median','swir2_median_dry','swir2_median_wet','swir2_stdDev','ui_median','ui_median_dry','ui_median_wet','wetness_median','wetness_median_dry','wetness_median_wet',
  ])

  // Load the Sentinel-2 mosaic collection
  var collection = ee.ImageCollection(asset)
        // Filter the collection by version and year
        .filter(ee.Filter.eq('version', '3'))
        .filter(ee.Filter.eq('year', ano))
        // Filter the collection by biome
        .filter(ee.Filter.inList('biome', [
            'MATAATLANTICA',
        ])); 

  // Create a mosaic from the collection
  var mosaicoTotal = collection.mosaic()

  // Import the function to add indices for the Caatinga biome
  var addIndexCaatinga = require('users/marcosrosaUSP/MapBiomas_col9_MataAtlan:Mata_Atlantica_SENTINEL2/processa_Bandas_Sentinel2_CAATINGA');

  // Add the Caatinga indices to the mosaic
  mosaicoTotal = addIndexCaatinga.get(mosaicoTotal);

  // Add bands from the S2 cluster image to the mosaic
  mosaicoTotal = mosaicoTotal.addBands(S2_cluster.select([
    'clusters_'+ano, 'ndvi_median_dry_'+ano,'ndvi_median_wet_'+ano,'ndwi_median_'+ano, 'green_median_texture_'+ano
    ]))
    
  // Add the mosaic layer to the map
  Map.addLayer(mosaicoTotal, {'bands': ['swir1_median', 'nir_median', 'red_median'],
    'gain': [0.08, 0.07, 0.2],'gamma': 0.85}, 'Sentinel 2 '+ano, false);

  //print(mosaicoTotal)
  //var BDamostras = ee.FeatureCollection('projects/mapbiomas-workspace/AMOSTRAS/col9/MATA_ATLANTICA/teste/REGIONs_'+regiaoID+'_'+ano)

  // Load the training point data
  var BDamostras = ee.FeatureCollection('projects/mapbiomas-workspace/AMOSTRAS/S2_2024/MATA_ATLANTICA/pontos_train_v1_'+ano)
                    // Filter the points by region ID
                    .filterMetadata('reg_id', 'equals', regiaoID)
          
    // Filter the points by reference class
    var BDflo = BDamostras.filterMetadata("reference", "equals", 3)
    var BDsav = BDamostras.filterMetadata("reference", "equals", 4)//.limit(100)
    var BDreflo = BDamostras.filterMetadata("reference", "equals", 9)
    var BDvarzea = BDamostras.filterMetadata("reference", "equals", 11)
    var BDcampo = BDamostras.filterMetadata("reference", "equals", 12)
    var BDOutroNFlo = BDamostras.filterMetadata("reference", "equals", 13)
    var BDagro = BDamostras.filterMetadata("reference", "equals", 21)
    // BDagro = shuffle(BDagro, 2).limit(2500)
    var BDNaoVeg = BDamostras.filterMetadata("reference", "equals", 22)
    var BDAflora = BDamostras.filterMetadata("reference", "equals", 29)
    var BDagua = BDamostras.filterMetadata("reference", "equals", 33)

  // Complementary samples
  // Merge the complementary samples
  var amostraTotal = varzea.merge(agro).merge(flo)//.merge(campo).merge(aflora)//.merge(agua)
  
  // Reduce the complementary samples to an image
  var amostraTotalimg = amostraTotal.reduceToImage({properties: ['reference'],reducer: ee.Reducer.first()})

  // Rename the band
  amostraTotalimg = amostraTotalimg.select([0],['reference'])

  // Sample the mosaic using the complementary samples
  var training_flo = mosaicoTotal.select(bandNames).addBands(amostraTotalimg).sample({'numPixels': 900, 'region': flo.filterBounds(limite), 'scale': 10, 'seed': 1});
  // var training_nflo = mosaicoTotal.select(bandNames).addBands(amostraTotalimg).sample({'numPixels': 300, 'region': nao_flo.filterBounds(limite), 'scale': 10, 'seed': 1});
  // var training_sav = mosaicoTotal.select(bandNames).addBands(amostraTotalimg).sample({'numPixels': 2000, 'region': savana.filterBounds(limite), 'scale': 10, 'seed': 1});
  // var training_afl = mosaicoTotal.select(bandNames).addBands(amostraTotalimg).sample({'numPixels': 1000, 'region': aflora.filterBounds(limite), 'scale': 10, 'seed': 1});
  var training_var = mosaicoTotal.select(bandNames).addBands(amostraTotalimg).sample({'numPixels': 1750, 'region': varzea.filterBounds(limite), 'scale': 10, 'seed': 1});
  // var training_agu = mosaicoTotal.select(bandNames).addBands(amostraTotalimg).sample({'numPixels': 100, 'region': agua.filterBounds(limite), 'scale': 10, 'seed': 1});
  // var training_cam = mosaicoTotal.select(bandNames).addBands(amostraTotalimg).sample({'numPixels': 4500, 'region': campo.filterBounds(limite), 'scale': 10, 'seed': 1});
  // var training_nflo = mosaicoTotal.select(bandNames).addBands(amostraTotalimg).sample({'numPixels': 500, 'region': restinga.filterBounds(limite), 'scale': 10, 'seed': 1});
  var training_agr = mosaicoTotal.select(bandNames).addBands(amostraTotalimg).sample({'numPixels': 200, 'region': agro.filterBounds(limite), 'scale': 10, 'seed': 1});

// If collecting data, print the size of each training set
if (coleta) {
// print('BDflo',BDflo.size())
// print('BDsav',BDsav.size())
// print('BDvar',BDvarzea.size())
// print('BDcam',BDcampo.size())
// print('BDOut',BDOutroNFlo.size())
// print('BDAfl',BDAflora.size())
// print('BDagr',BDagro.size())
// print('BDNao',BDNaoVeg.size())
// print('BDagu',BDagua.size())
print('training_flo',training_flo.size())
//print('training_var',training_var.size())
// print('training_nflo',training_nflo.size())
// print('training_cam',training_cam.size())
// print('training_sav',training_sav.size())
// print('training_afl',training_afl.size())
// print('training_cam',training_cam.size())
print('training_agr',training_agr.size())
}

  // Merge all training samples
  var training = BDflo.merge(BDreflo).merge(BDcampo)//.merge(BDsav).merge(BDOutroNFlo).merge(BDAflora)
                      .merge(BDagro).merge(BDNaoVeg).merge(BDagua)
                      //complementares
                      .merge(training_var).merge(training_agr).merge(training_flo)
                      // .merge(training_sav)
                      // .merge(training_afl)
                      // //.merge(training_agu).merge(training_agr)

  // Train the Random Forest classifier
  var classifierRF = ee.Classifier.smileRandomForest({numberOfTrees: RFtrees, variablesPerSplit:1}).train(training, 'reference', bandNames);

  // If collecting data, print the classifier explanation
  if (coleta) {print(classifierRF.explain())}

  // Train the Gradient Tree Boost classifier
  var classifierGTB = ee.Classifier.smileGradientTreeBoost({numberOfTrees: 30, shrinkage: 0.1, samplingRate: 0.8, loss: 'LeastSquares'}).train(training, 'reference', bandNames);

  // print(classifier.explain())

  // Classify the mosaic using the Random Forest classifier
  var classifiedRF = mosaicoTotal.classify(classifierRF).mask(mosaicoTotal.select('blue_median'));

  // Classify the mosaic using the Gradient Tree Boost classifier
  var classifiedGTB = mosaicoTotal.classify(classifierGTB).mask(mosaicoTotal.select('blue_median'));

  // Rename the classification band and clip the image to the region boundary
  classifiedRF = classifiedRF.select(['classification'],['classification_'+ano]).clip(limite.geometry()).toInt8()
  // classifiedGTB = classifiedGTB.select(['classification'],['classification_'+ano]).clip(limite.geometry()).toInt8()

  // If collecting data, add the classification layers to the map
  if (coleta) {  
    Map.addLayer(classifiedRF, vis, 'RF'+ano+"_"+regiaoID, false);
    // Map.addLayer(classifiedGTB, vis, 'GTB'+ano+"_"+regiaoID, false);
  }

  // If it's the first year, initialize the combined classification image
  if (i_ano == 0){ var classified16a23RF = classifiedRF;}//  var classified16a23GTB = classifiedGTB}  
  // Otherwise, add the current year's classification to the combined image
  else {classified16a23RF = classified16a23RF.addBands(classifiedRF);}// classified16a23GTB = classified16a23GTB.addBands(classifiedGTB)}
}

// If collecting data, do nothing
if (coleta) {}
// Otherwise, export the classification image to an asset
   else 
   {
     // Set metadata for the classification image
     classified16a23RF = classified16a23RF
     .set('territory', 'BRAZIL')
     .set('biome', 'MATA ATÂNTICA')
     .set('source', 'arcplan')
     .set('version', '1')
     .set('collection_id',versao_out)

//     classified16a23GTB = classified16a23GTB
//     .set('territory', 'BRAZIL')
//     .set('biome', 'MATA ATÂNTICA')
//     .set('source', 'arcplan')
//     .set('version', '1')
//     .set('collection_id',versao_out)
     
    // Export the Random Forest classification image to an asset
    Export.image.toAsset({
       "image": classified16a23RF.toInt8(),
       "description": regiaoID+'-'+'RF_SENTINEL2_v'+versao_out,
       "assetId": dirout + regiaoID+'-'+'RF_SENTINEL2_v'+versao_out,
       "scale": 10,
       "pyramidingPolicy": {
           '.default': 'mode'
       },
       "maxPixels": 1e13,
       "region": limite
     });    
     
//    Export.image.toAsset({
//       "image": classified16a23GTB.toInt8(),
//       "description": regiaoID+'-'+'GTB_SENTINEL2_v'+versao_out,
//       "assetId": dirout + regiaoID+'-'+'GTB_SENTINEL2_v'+versao_out,
//       "scale": 10,
//       "pyramidingPolicy": {
//           '.default': 'mode'
//       },
//       "maxPixels": 1e13,
//       "region": limite
//     });    
}
