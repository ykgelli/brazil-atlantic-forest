var varzea = /* color: #ff0ffd */ee.FeatureCollection(
        [ee.Feature(
            ee.Geometry.Polygon(
                [[[-34.904532098926744, -7.683454935296479],
                  [-34.90753617302342, -7.685411312804731],
                  [-34.90264382378026, -7.6846457748531956]]]),
            {
              "reference": 11,
              "system:index": "0"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-34.91011109367772, -7.706335481878552],
                  [-34.90642037407323, -7.7062504263718505],
                  [-34.90882363335057, -7.705740092972884]]]),
            {
              "reference": 11,
              "system:index": "1"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-34.844985115085635, -7.950543681147398],
                  [-34.84378348544696, -7.949778629409802],
                  [-34.84618674472431, -7.949183588183174]]]),
            {
              "reference": 11,
              "system:index": "2"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-34.94841672912632, -8.215113523343595],
                  [-34.94567014709507, -8.217492114624282],
                  [-34.94601346984898, -8.21443392321618]]]),
            {
              "reference": 11,
              "system:index": "3"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-35.02892705642043, -8.498681727529258],
                  [-35.02995702468215, -8.499955048480006],
                  [-35.029012887108905, -8.50071903902052]]]),
            {
              "reference": 11,
              "system:index": "4"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-35.126926748870844, -8.588107666153713],
                  [-35.12426599752807, -8.588277402721891],
                  [-35.12533888113403, -8.58694072519186]]]),
            {
              "reference": 11,
              "system:index": "5"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-35.12774975197869, -8.793233531619954],
                  [-35.12744934456902, -8.794166571042014],
                  [-35.1269772757824, -8.79181276253118]]]),
            {
              "reference": 11,
              "system:index": "6"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-35.13152630227166, -8.788483476308947],
                  [-35.13073236840325, -8.788525887786506],
                  [-35.132620643549735, -8.787317158774297]]]),
            {
              "reference": 11,
              "system:index": "7"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-35.13904095402987, -8.784338274094877],
                  [-35.138998038685635, -8.78582268952187],
                  [-35.138783461964444, -8.785038070679532]]]),
            {
              "reference": 11,
              "system:index": "8"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-35.146744258320645, -8.782832646662365],
                  [-35.14436245671542, -8.783214355604015],
                  [-35.14560700169833, -8.782790234533493]]]),
            {
              "reference": 11,
              "system:index": "9"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-35.14183045140536, -8.786331630585723],
                  [-35.140478618061856, -8.78701021758393],
                  [-35.140757567799405, -8.786649718395811]]]),
            {
              "reference": 11,
              "system:index": "10"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-35.13102033174538, -8.791310481245304],
                  [-35.13127782381081, -8.79317656742719],
                  [-35.130483889942404, -8.792095086807974]]]),
            {
              "reference": 11,
              "system:index": "11"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-35.150236204650014, -8.854250703774127],
                  [-35.14879854061803, -8.855204790863905],
                  [-35.14952810147008, -8.85439911748399]]]),
            {
              "reference": 11,
              "system:index": "12"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-35.17257175311346, -8.922705728041143],
                  [-35.1700933919837, -8.922186376631691],
                  [-35.17176709040899, -8.922218173678]]]),
            {
              "reference": 11,
              "system:index": "13"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-35.180578822338916, -8.950894394304573],
                  [-35.17976343079839, -8.950152520889459],
                  [-35.180578822338916, -8.950300895693516]]]),
            {
              "reference": 11,
              "system:index": "14"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-35.17768203660283, -8.948626376535605],
                  [-35.17645894929204, -8.948138856851298],
                  [-35.17701684876714, -8.948032874224786]]]),
            {
              "reference": 11,
              "system:index": "15"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-35.392635296178405, -9.102886664630557],
                  [-35.39048952896649, -9.102123916311777],
                  [-35.3911761744743, -9.101445916440492]]]),
            {
              "reference": 11,
              "system:index": "16"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-35.35588522907479, -9.233092608605],
                  [-35.35755892750008, -9.232647835436953],
                  [-35.35586377140267, -9.234066871678522]]]),
            {
              "reference": 11,
              "system:index": "17"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-35.48979641352637, -9.346846061840912],
                  [-35.489453090772464, -9.353367218248845],
                  [-35.488938106641605, -9.350064310146806]]]),
            {
              "reference": 11,
              "system:index": "18"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-35.47529102717383, -9.337275831915074],
                  [-35.476921810254886, -9.339986012211371],
                  [-35.47511936579688, -9.338546231553865]]]),
            {
              "reference": 11,
              "system:index": "19"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-35.49383045588477, -9.327959426417031],
                  [-35.49314381037696, -9.33050028896802],
                  [-35.49305797968848, -9.327959426417031]]]),
            {
              "reference": 11,
              "system:index": "20"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-35.492199672803714, -9.369948735763083],
                  [-35.489968074903324, -9.369355936695717],
                  [-35.49331547175391, -9.369186565347732]]]),
            {
              "reference": 11,
              "system:index": "21"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-35.532026481471135, -9.43302732806467],
                  [-35.53219814284809, -9.434466716303367],
                  [-35.531296920619084, -9.434551386012654]]]),
            {
              "reference": 11,
              "system:index": "22"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-35.54365653975971, -9.432434637043658],
                  [-35.543270301661565, -9.433281338190422],
                  [-35.5424119947768, -9.432434637043658]]]),
            {
              "reference": 11,
              "system:index": "23"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-35.641421773482776, -9.50511978646575],
                  [-35.64112136607311, -9.505966308478968],
                  [-35.63923309092662, -9.504442567347409]]]),
            {
              "reference": 11,
              "system:index": "24"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-35.63362586241752, -9.512236632248845],
                  [-35.63208091002494, -9.513591038283543],
                  [-35.63263880950004, -9.512448258545424]]]),
            {
              "reference": 11,
              "system:index": "25"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-36.40698081773692, -10.309640019861861],
                  [-36.42157203477794, -10.318591057009504],
                  [-36.41607887071544, -10.317239973371528]]]),
            {
              "reference": 11,
              "system:index": "26"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-36.40423423570567, -10.253225752979567],
                  [-36.40028602403575, -10.260320316075068],
                  [-36.40183097642833, -10.253732512757548]]]),
            {
              "reference": 11,
              "system:index": "27"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-36.46500236314708, -10.325008625063763],
                  [-36.469808881701766, -10.330243912542423],
                  [-36.46500236314708, -10.327710719808882]]]),
            {
              "reference": 11,
              "system:index": "28"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-36.48113853258067, -10.278056027898572],
                  [-36.479078596057235, -10.278056027898572],
                  [-36.480795209826766, -10.270455130345253]]]),
            {
              "reference": 11,
              "system:index": "29"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-36.38268602810876, -10.32044840288619],
                  [-36.39178408108727, -10.324163831044936],
                  [-36.3795961233236, -10.321630589332866]]]),
            {
              "reference": 11,
              "system:index": "30"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-36.4070619436361, -10.321292822229937],
                  [-36.411181816682976, -10.324163831044936],
                  [-36.39813555203454, -10.320955054764397]]]),
            {
              "reference": 11,
              "system:index": "31"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-36.322199623382986, -10.295079414734015],
                  [-36.325804512299, -10.300652989441787],
                  [-36.31807975033611, -10.295079414734015]]]),
            {
              "reference": 11,
              "system:index": "32"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-36.71729495488161, -10.590527398693293],
                  [-36.71197345219606, -10.594914535883268],
                  [-36.714891695604265, -10.589008759646198],
                  [-36.7169516321277, -10.589008759646198]]]),
            {
              "reference": 11,
              "system:index": "33"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-36.76724841557497, -10.598795412559133],
                  [-36.76364352665895, -10.59575820890921],
                  [-36.767591738328875, -10.596939347241266]]]),
            {
              "reference": 11,
              "system:index": "34"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-36.66491958949915, -10.54996470485877],
                  [-36.6676661715304, -10.55519620632779],
                  [-36.66371795986048, -10.553339877282642]]]),
            {
              "reference": 11,
              "system:index": "35"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-36.646353076323045, -10.508598211768021],
                  [-36.64703972183086, -10.50505376534092],
                  [-36.64875633560039, -10.512311397734404]]]),
            {
              "reference": 11,
              "system:index": "36"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-36.64515144668437, -10.515855760865882],
                  [-36.64772636733867, -10.520919066164076],
                  [-36.644636462553514, -10.519568859541433]]]),
            {
              "reference": 11,
              "system:index": "37"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-36.623635151781706, -10.462850717970953],
                  [-36.626381733812956, -10.468590107598542],
                  [-36.62157521525827, -10.465045203015377]]]),
            {
              "reference": 11,
              "system:index": "38"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-36.644406178393034, -10.431619827083122],
                  [-36.638913014330534, -10.428580978342673],
                  [-36.64371953288522, -10.427736848427699]]]),
            {
              "reference": 11,
              "system:index": "39"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-36.867017847713164, -10.715974418372685],
                  [-36.861009699519805, -10.715974418372685],
                  [-36.8661595408284, -10.713950398331056]]]),
            {
              "reference": 11,
              "system:index": "40"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-36.907186609920196, -10.705179488522543],
                  [-36.90341005962723, -10.70180599407399],
                  [-36.910448176082305, -10.703998769736181]]]),
            {
              "reference": 11,
              "system:index": "41"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-36.91369241372857, -10.772892909147807],
                  [-36.908285080354545, -10.772555636996524],
                  [-36.912061630647514, -10.771375181492358]]]),
            {
              "reference": 11,
              "system:index": "42"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-36.908027588289116, -10.767243550794536],
                  [-36.906053482454155, -10.76462963272315],
                  [-36.908542572419975, -10.765557154634223]]]),
            {
              "reference": 11,
              "system:index": "43"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-36.889794121888286, -10.757885224258569],
                  [-36.889794121888286, -10.756451743622378],
                  [-36.89142490496934, -10.758222512829759]]]),
            {
              "reference": 11,
              "system:index": "44"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-37.61400834246733, -11.884128005430897],
                  [-37.608601009093306, -11.885975801149282],
                  [-37.61220589800932, -11.883708050109517]]]),
            {
              "reference": 11,
              "system:index": "45"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-37.609630977355025, -11.90403314424181],
                  [-37.6067985646353, -11.901933514786727],
                  [-37.60894433184721, -11.902269456589387]]]),
            {
              "reference": 11,
              "system:index": "46"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-37.61143045744014, -11.85066466312413],
                  [-37.6075680764587, -11.850916666933065],
                  [-37.61100130399776, -11.849740647168291]]]),
            {
              "reference": 11,
              "system:index": "47"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-37.620099356976276, -11.839660270051109],
                  [-37.62121515592647, -11.83714011766666],
                  [-37.621129325237995, -11.84016429773965]]]),
            {
              "reference": 11,
              "system:index": "48"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-37.600618147605225, -11.778495192975024],
                  [-37.595382475608154, -11.777738980940358],
                  [-37.59881570314722, -11.777066790718063]]]),
            {
              "reference": 11,
              "system:index": "49"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-37.574868941062256, -11.764210836400705],
                  [-37.57804467653589, -11.767571928235336],
                  [-37.57572724794702, -11.766311523610087]]]),
            {
              "reference": 11,
              "system:index": "50"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-37.56697251772241, -11.757908678542696],
                  [-37.56783082460718, -11.756396139183941],
                  [-37.56808831667261, -11.758160767627823]]]),
            {
              "reference": 11,
              "system:index": "51"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-37.563213714170736, -11.735489201698064],
                  [-37.560467132139486, -11.733892502228723],
                  [-37.56287039141683, -11.734564797868682]]]),
            {
              "reference": 11,
              "system:index": "52"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-37.5432151637557, -11.729690617359955],
                  [-37.54630506854085, -11.729858693983324],
                  [-37.54244268755941, -11.731119265395296]]]),
            {
              "reference": 11,
              "system:index": "53"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-37.52664984087972, -11.74103555960383],
                  [-37.528280623960775, -11.743052389360912],
                  [-37.526564010191244, -11.742296079931274]]]),
            {
              "reference": 11,
              "system:index": "54"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-37.54893992966448, -11.704734453968218],
                  [-37.545764194190845, -11.70490254577609],
                  [-37.54713748520647, -11.703557808452437]]]),
            {
              "reference": 11,
              "system:index": "55"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-37.54911159104143, -11.694816856514937],
                  [-37.54559253281389, -11.696918072094192],
                  [-37.547480807960376, -11.694984954348305]]]),
            {
              "reference": 11,
              "system:index": "56"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-37.540271030128345, -11.689185520113304],
                  [-37.5404426915053, -11.692631575391916],
                  [-37.538983569801196, -11.68901741875878]]]),
            {
              "reference": 11,
              "system:index": "57"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-37.53220294541155, -11.710281429675879],
                  [-37.52808307236467, -11.711710178120276],
                  [-37.529799686134204, -11.710029296830836]]]),
            {
              "reference": 11,
              "system:index": "58"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-37.521559940040454, -11.702549251169051],
                  [-37.52070163315569, -11.70616323107851],
                  [-37.52035831040178, -11.704398270045958]]]),
            {
              "reference": 11,
              "system:index": "59"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-37.50361575074832, -11.655405284933627],
                  [-37.500697507340114, -11.657506799222615],
                  [-37.501899136978786, -11.655573406661905]]]),
            {
              "reference": 11,
              "system:index": "60"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-37.484218015152614, -11.644645282722568],
                  [-37.48507632203738, -11.649352834953918],
                  [-37.48378886171023, -11.647167195618573]]]),
            {
              "reference": 11,
              "system:index": "61"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-37.507327039060705, -11.600939982913367],
                  [-37.510073621091955, -11.603210061724031],
                  [-37.50775619250309, -11.602621524546263]]]),
            {
              "reference": 11,
              "system:index": "62"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-37.457010284514084, -11.6005573121896],
                  [-37.459156051726, -11.60577006541716],
                  [-37.45709611520256, -11.603584083983897]]]),
            {
              "reference": 11,
              "system:index": "63"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-37.45177461251701, -11.589795191144221],
                  [-37.45280458077873, -11.59248576028802],
                  [-37.45083047494377, -11.591560880067906]]]),
            {
              "reference": 11,
              "system:index": "64"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-37.46974382837018, -11.505094101425573],
                  [-37.46948633630475, -11.509215269679407],
                  [-37.46862802941998, -11.506271584227271]]]),
            {
              "reference": 11,
              "system:index": "65"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-37.48339090783795, -11.504168932911702],
                  [-37.48347673852643, -11.506523901329631],
                  [-37.482532600953185, -11.505178207503333]]]),
            {
              "reference": 11,
              "system:index": "66"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-37.46991548974713, -11.46438381356654],
                  [-37.47000132043561, -11.466570879155617],
                  [-37.46940050561627, -11.465224994643105]]]),
            {
              "reference": 11,
              "system:index": "67"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-37.45541010339459, -11.452186406591188],
                  [-37.45352182824811, -11.453868838841096],
                  [-37.45472345788678, -11.451513430888829]]]),
            {
              "reference": 11,
              "system:index": "68"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-37.30754511804962, -10.98569527935326],
                  [-37.30497019739532, -10.986706371499544],
                  [-37.30655806513214, -10.98489482894769]]]),
            {
              "reference": 11,
              "system:index": "69"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-37.30295317621612, -10.989191958300372],
                  [-37.30445521326446, -10.991466883800054],
                  [-37.30265276880645, -10.99003452534556]]]),
            {
              "reference": 11,
              "system:index": "70"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-37.224536570532784, -10.953454819437013],
                  [-37.222047480566964, -10.953454819437013],
                  [-37.223249110205636, -10.952780682561265]]]),
            {
              "reference": 11,
              "system:index": "71"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-37.10952089167973, -10.959269186262077],
                  [-37.11020753718754, -10.96120728314997],
                  [-37.107890108598674, -10.959606247502393]]]),
            {
              "reference": 11,
              "system:index": "72"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-37.120561847019026, -10.919830373602046],
                  [-37.11730028085692, -10.918819053040604],
                  [-37.120561847019026, -10.918903329885575]]]),
            {
              "reference": 11,
              "system:index": "73"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-35.12060565765509, -7.801966282508099],
                  [-35.11820239837775, -7.804007145594129],
                  [-35.11717243011603, -7.796183783014632],
                  [-35.119232354077596, -7.799925406661226]]]),
            {
              "reference": 11,
              "system:index": "74"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-34.98146439055126, -8.354736525251928],
                  [-34.98489761809032, -8.356604756471581],
                  [-34.982837681566885, -8.357963464465561]]]),
            {
              "reference": 11,
              "system:index": "75"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-35.0113334701411, -8.474794563923027],
                  [-35.00996017912548, -8.472417538988244],
                  [-35.01785660246532, -8.47139880951909]]]),
            {
              "reference": 11,
              "system:index": "76"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-35.069967666673016, -8.628513223606017],
                  [-35.06842271428044, -8.631228709623281],
                  [-35.06584779362614, -8.628004067803413]]]),
            {
              "reference": 11,
              "system:index": "77"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-35.60663482663127, -9.234923251178007],
                  [-35.6049825858781, -9.23593986817354],
                  [-35.60350200650188, -9.232466414664604]]]),
            {
              "reference": 11,
              "system:index": "78"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-35.60199996945354, -9.233144164378878],
                  [-35.60174247738811, -9.232805289684636],
                  [-35.60099145886394, -9.232741750643203],
                  [-35.60060522076579, -9.233377140542165],
                  [-35.59976837155315, -9.233673655436348],
                  [-35.5994894218156, -9.234457300741546],
                  [-35.59841653820964, -9.233843092406746],
                  [-35.59959671017619, -9.232932367733152],
                  [-35.60051939007732, -9.232233437899353],
                  [-35.60144206997844, -9.232487594362897],
                  [-35.6024076652238, -9.232487594362897]]]),
            {
              "reference": 11,
              "system:index": "79"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-35.52724312464167, -9.332895647863227],
                  [-35.52586983362605, -9.33708800178801],
                  [-35.52505444208552, -9.336452799889372],
                  [-35.52619170429185, -9.334674225548998]]]),
            {
              "reference": 11,
              "system:index": "80"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-35.518145071663156, -9.330481845459904],
                  [-35.517673002876535, -9.331159405716194],
                  [-35.51599930445124, -9.330100717237185]]]),
            {
              "reference": 11,
              "system:index": "81"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-35.51647137323786, -9.340687457340632],
                  [-35.51509808222224, -9.340221647540515],
                  [-35.51728676477839, -9.337638509163577]]]),
            {
              "reference": 11,
              "system:index": "82"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-35.641483771003976, -9.503513106158804],
                  [-35.639767157234445, -9.503513106158804],
                  [-35.64234207788874, -9.500126981272398]]]),
            {
              "reference": 11,
              "system:index": "83"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-36.01708781494865, -9.559262340883276],
                  [-36.01657283081779, -9.561970774087603],
                  [-36.01485621704826, -9.561970774087603]]]),
            {
              "reference": 11,
              "system:index": "84"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-36.13192927613029, -10.05961127229525],
                  [-36.13278758301506, -10.058259090664176],
                  [-36.13553416504631, -10.05961127229525]]]),
            {
              "reference": 11,
              "system:index": "85"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-36.126178620002364, -10.056822391479109],
                  [-36.12497699036369, -10.05745623014252],
                  [-36.12300288452873, -10.05386446127518]]]),
            {
              "reference": 11,
              "system:index": "86"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-36.12901103272209, -10.045413082962202],
                  [-36.12849604859123, -10.044229872371549],
                  [-36.13154303803215, -10.043934069047623]]]),
            {
              "reference": 11,
              "system:index": "87"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-36.12759482636223, -10.047547076834014],
                  [-36.12626445069084, -10.049955726266072],
                  [-36.125620720527266, -10.049321872892047]]]),
            {
              "reference": 11,
              "system:index": "88"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-36.134847519538496, -10.042983270817361],
                  [-36.133602974555586, -10.045180666937775],
                  [-36.13175761475334, -10.045434211683418]]]),
            {
              "reference": 11,
              "system:index": "89"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-36.1308134771801, -10.058449241548088],
                  [-36.12944018616447, -10.059632400088313],
                  [-36.12703692688713, -10.060815554294273],
                  [-36.12549197449455, -10.059632400088313],
                  [-36.125663635871504, -10.058449241548088],
                  [-36.12703692688713, -10.058449241548088],
                  [-36.1282385565258, -10.059125332673206]]]),
            {
              "reference": 11,
              "system:index": "90"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-36.3644446112133, -10.22007903477889],
                  [-36.36272799744377, -10.221937344153497],
                  [-36.35706317200432, -10.216700262623062]]]),
            {
              "reference": 11,
              "system:index": "91"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-36.41147982849846, -10.254202618002255],
                  [-36.41336810364494, -10.245925452407077],
                  [-36.415771362922285, -10.247783610443017]]]),
            {
              "reference": 11,
              "system:index": "92"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-36.883953329683855, -10.412264963940297],
                  [-36.88704323446901, -10.422057216676082],
                  [-36.88412499106081, -10.422226045921281]]]),
            {
              "reference": 11,
              "system:index": "93"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-34.92422263658544, -7.5284592262121715],
                  [-34.923106837635245, -7.528544317023679],
                  [-34.92370765245458, -7.5244599392362455],
                  [-34.924136805896964, -7.5259915854144745]]]),
            {
              "reference": 11,
              "system:index": "94"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-34.904395747547355, -7.504377856117177],
                  [-34.90697066820165, -7.501314405934292],
                  [-34.90842978990575, -7.5031014211626275]]]),
            {
              "reference": 11,
              "system:index": "95"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-34.90782897508642, -7.512376763183609],
                  [-34.906841921904174, -7.512504405024321],
                  [-34.90602653062841, -7.51212148118961],
                  [-34.90559737718603, -7.5104195973968375],
                  [-34.903623271351066, -7.50778166434754],
                  [-34.906884837513175, -7.5106748803906624]]]),
            {
              "reference": 11,
              "system:index": "96"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-34.93833480642781, -7.529863222466246],
                  [-34.939450605378006, -7.528757043979373],
                  [-34.946231229767655, -7.533947549344894]]]),
            {
              "reference": 11,
              "system:index": "97"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-34.92546951533245, -7.521335119511392],
                  [-34.92804443598675, -7.5130810959515575],
                  [-34.93001854182171, -7.514187314398728]]]),
            {
              "reference": 11,
              "system:index": "98"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-34.88117094822501, -7.533843198020261],
                  [-34.88117094822501, -7.531120317055926],
                  [-34.8834025461254, -7.532481759676902]]]),
            {
              "reference": 11,
              "system:index": "99"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-34.909838398176184, -7.557327335356176],
                  [-34.91069670506095, -7.559029034865715],
                  [-34.90863676853751, -7.559879882105523]]]),
            {
              "reference": 11,
              "system:index": "100"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-35.108367377808555, -7.821735859136481],
                  [-35.10871070056246, -7.819354952306582],
                  [-35.112658912232384, -7.820715472159055]]]),
            {
              "reference": 11,
              "system:index": "101"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-35.12490635865975, -7.794753700790138],
                  [-35.123533067644125, -7.800876365752543],
                  [-35.12233143800545, -7.799685854583136]]]),
            {
              "reference": 11,
              "system:index": "102"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-35.118554887712484, -7.814652034092793],
                  [-35.119069871843344, -7.809549987665376],
                  [-35.12198811525155, -7.810400333064953]]]),
            {
              "reference": 11,
              "system:index": "103"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-34.92285380572898, -7.740931507842493],
                  [-34.92405543536765, -7.739400631468175],
                  [-34.925428726383274, -7.740931507842493]]]),
            {
              "reference": 11,
              "system:index": "104"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-35.11820445270163, -7.81406688071851],
                  [-35.11854777545554, -7.816958016738691],
                  [-35.114942886539524, -7.817978412905631]]]),
            {
              "reference": 11,
              "system:index": "105"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-34.952877637701214, -8.196018054073276],
                  [-34.949101087408245, -8.191090690059692],
                  [-34.95141851599711, -8.190580959265969]]]),
            {
              "reference": 11,
              "system:index": "106"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-34.94113788759563, -8.19018589349546],
                  [-34.94165287172649, -8.187977050322193],
                  [-34.94560108339641, -8.189846072266453]]]),
            {
              "reference": 11,
              "system:index": "107"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-35.27180199485999, -8.396629495127014],
                  [-35.27042870384437, -8.390685703229773],
                  [-35.27163033348304, -8.390176231119977],
                  [-35.273003624498664, -8.395610565835264]]]),
            {
              "reference": 11,
              "system:index": "108"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-35.26287560325843, -8.433309165845689],
                  [-35.262017296373664, -8.434497800723106],
                  [-35.257210777818976, -8.432969555209196],
                  [-35.2585840688346, -8.431611109678954]]]),
            {
              "reference": 11,
              "system:index": "109"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-35.059567250194476, -8.568690112939015],
                  [-35.05647734540932, -8.55409173847159],
                  [-35.06265715497963, -8.55511024787988]]]),
            {
              "reference": 11,
              "system:index": "110"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-35.433402830416654, -9.087752907221645],
                  [-35.43290930395791, -9.088727568920941],
                  [-35.43184714583714, -9.08762577828204],
                  [-35.43033438330362, -9.08686299639743],
                  [-35.43213682585591, -9.086990129577707]]]),
            {
              "reference": 11,
              "system:index": "111"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-35.44207257792774, -9.0933107153639],
                  [-35.440699286912114, -9.094666744653468],
                  [-35.43726605937305, -9.09076814660154]]]),
            {
              "reference": 11,
              "system:index": "112"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-35.360644076561655, -9.232276537886136],
                  [-35.3604724151847, -9.231090472111685],
                  [-35.36570808718177, -9.231090472111685]]]),
            {
              "reference": 11,
              "system:index": "113"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-35.37521575203635, -9.230243279829697],
                  [-35.373499138266816, -9.229141926819777],
                  [-35.3753874134133, -9.228210010047647]]]),
            {
              "reference": 11,
              "system:index": "114"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-35.94092581978537, -9.366868950976636],
                  [-35.93938086739279, -9.367207695850558],
                  [-35.9371492694924, -9.362634612182159]]]),
            {
              "reference": 11,
              "system:index": "115"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-35.5460545103335, -9.407558311916272],
                  [-35.54777112410303, -9.402985760526535],
                  [-35.54983106062647, -9.403832533862603]]]),
            {
              "reference": 11,
              "system:index": "116"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-35.80615368292566, -9.677177980031098],
                  [-35.8056386987948, -9.670916828994422],
                  [-35.80769863531824, -9.670916828994422]]]),
            {
              "reference": 11,
              "system:index": "117"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-35.864799619156784, -9.718795184732938],
                  [-35.86823284669585, -9.714226815165032],
                  [-35.86960613771147, -9.720148763736704]]]),
            {
              "reference": 11,
              "system:index": "118"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-36.34242786961235, -10.187196588657681],
                  [-36.339852948958054, -10.189055090022453],
                  [-36.336076398665085, -10.18060726926857]]]),
            {
              "reference": 11,
              "system:index": "119"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-36.38740315037407, -10.28618889398527],
                  [-36.383798261458054, -10.279939441343318],
                  [-36.388776441389695, -10.279263817434876]]]),
            {
              "reference": 11,
              "system:index": "120"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-36.62115775404501, -10.444314814034888],
                  [-36.62167273817587, -10.439503486174468],
                  [-36.62956916151571, -10.44296427338061]]]),
            {
              "reference": 11,
              "system:index": "121"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-37.61665920648387, -11.868108563952978],
                  [-37.61500696573069, -11.86928450455049],
                  [-37.61556486520579, -11.866974616430381]]]),
            {
              "reference": 11,
              "system:index": "122"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-37.63258430931071, -11.87640031973769],
                  [-37.631168102950845, -11.877009271081556],
                  [-37.63226244422892, -11.8762113345611]]]),
            {
              "reference": 11,
              "system:index": "123"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-37.64126166957853, -11.873124636894673],
                  [-37.63986692089079, -11.874237560321712],
                  [-37.64036044734953, -11.872641668710283]]]),
            {
              "reference": 11,
              "system:index": "124"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-37.66735274129695, -11.876193413977598],
                  [-37.66722399526424, -11.874954507825459],
                  [-37.66838270955867, -11.875374476643765]]]),
            {
              "reference": 11,
              "system:index": "125"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-37.66829788655063, -11.886364447919766],
                  [-37.66735374897739, -11.887036369566545],
                  [-37.66716062992832, -11.885524543528918]]]),
            {
              "reference": 11,
              "system:index": "126"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-37.67237484425327, -11.88189192720045],
                  [-37.672954201400486, -11.883445769018296],
                  [-37.672203182876316, -11.883235790912432]]]),
            {
              "reference": 11,
              "system:index": "127"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-37.70713098896638, -11.952255701628753],
                  [-37.704427322279365, -11.953347308428704],
                  [-37.70580061329499, -11.950996149850539]]]),
            {
              "reference": 11,
              "system:index": "128"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-37.66882873232027, -11.939013125963362],
                  [-37.6670692032065, -11.940356707100438],
                  [-37.66814208681246, -11.938677229638142]]]),
            {
              "reference": 11,
              "system:index": "129"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-37.66363597566744, -11.943841589620583],
                  [-37.663764721700154, -11.944765285904507],
                  [-37.66329265291353, -11.946276782119275],
                  [-37.6630351608481, -11.945437063041425]]]),
            {
              "reference": 11,
              "system:index": "130"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-37.626673166722036, -11.924295776025694],
                  [-37.62684482809899, -11.9253035172025],
                  [-37.62611526724694, -11.924715668637607]]]),
            {
              "reference": 11,
              "system:index": "131"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-37.61783530089273, -11.881830850685272],
                  [-37.613200443714994, -11.882040829874551],
                  [-37.614444988697905, -11.880318995742995]]]),
            {
              "reference": 11,
              "system:index": "132"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-37.61229922148599, -11.880738956291069],
                  [-37.61131216856851, -11.881977836134764],
                  [-37.607728737324614, -11.880486980039935],
                  [-37.608179348439116, -11.879647057519138]]]),
            {
              "reference": 11,
              "system:index": "133"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-37.62816770774979, -11.89281014286108],
                  [-37.62891872627396, -11.892033249790419],
                  [-37.629283506699984, -11.892789145780222]]]),
            {
              "reference": 11,
              "system:index": "134"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-37.627545435258334, -11.891760286833538],
                  [-37.62741668922562, -11.892033249790419],
                  [-37.62642963630814, -11.892201226858534],
                  [-37.626257974931185, -11.891634303837991]]]),
            {
              "reference": 11,
              "system:index": "135"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-37.62158020240921, -11.891466326419861],
                  [-37.62265308601517, -11.893734012814065],
                  [-37.620507318803256, -11.892663163261096]]]),
            {
              "reference": 11,
              "system:index": "136"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-37.61357780558583, -11.904249983175141],
                  [-37.6146721468639, -11.906223618499098],
                  [-37.61250492197987, -11.904942856783236]]]),
            {
              "reference": 11,
              "system:index": "137"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-37.60352725172448, -11.913371711135557],
                  [-37.6015316882174, -11.913896597922482],
                  [-37.602540198807, -11.91158708847195]]]),
            {
              "reference": 11,
              "system:index": "138"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-37.61445936401834, -11.925431019443044],
                  [-37.61289295395364, -11.926228811511649],
                  [-37.613043157658474, -11.923310560698503]]]),
            {
              "reference": 11,
              "system:index": "139"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-37.61974277687799, -11.865318257222025],
                  [-37.61969986153375, -11.867124182391835],
                  [-37.6189703006817, -11.866494209853778]]]),
            {
              "reference": 11,
              "system:index": "140"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-37.616395380027406, -11.867544163275257],
                  [-37.61570873451959, -11.866872193551266],
                  [-37.61630954933893, -11.86657820627628]]]),
            {
              "reference": 11,
              "system:index": "141"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-37.61510791970026, -11.868090137456567],
                  [-37.61497917366754, -11.86905608909896],
                  [-37.61433544350397, -11.868594112653504]]]),
            {
              "reference": 11,
              "system:index": "142"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-37.60558071327936, -11.869224080339576],
                  [-37.60549488259088, -11.871029979637926],
                  [-37.60437908364069, -11.869980039641247]]]),
            {
              "reference": 11,
              "system:index": "143"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-37.62796847729302, -11.865536987899617],
                  [-37.62809722332573, -11.866838934111088],
                  [-37.62685267834282, -11.865830976297174]]]),
            {
              "reference": 11,
              "system:index": "144"
            })]),
    restinga = /* color: #6b43c2 */ee.FeatureCollection(
        [ee.Feature(
            ee.Geometry.Polygon(
                [[[-36.3345878855556, -10.320694392094904],
                  [-36.348664118465756, -10.330320630698765],
                  [-36.33510286968646, -10.323734288748197]]]),
            {
              "reference": 13,
              "system:index": "0"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-36.43243487041888, -10.354469369848198],
                  [-36.44462282818255, -10.364263433524352],
                  [-36.43449480694232, -10.360210754639581]]]),
            {
              "reference": 13,
              "system:index": "1"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-36.466767145809506, -10.348390141962952],
                  [-36.474491907772396, -10.35818439554364],
                  [-36.46659548443255, -10.354300503997996]]]),
            {
              "reference": 13,
              "system:index": "2"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-36.36277034397929, -10.38254189429152],
                  [-36.367920185287886, -10.38169763981536],
                  [-36.373413349350386, -10.393516995004216]]]),
            {
              "reference": 13,
              "system:index": "3"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-36.31534026512829, -10.34965926112442],
                  [-36.32306502709118, -10.356245059366826],
                  [-36.31362365135876, -10.35286774420998]]]),
            {
              "reference": 13,
              "system:index": "4"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-36.43447326073376, -10.390185054753971],
                  [-36.427606805655635, -10.386639257321944],
                  [-36.430868371817745, -10.384106520244403]]]),
            {
              "reference": 13,
              "system:index": "5"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-36.489671969041765, -10.494507040501228],
                  [-36.49962832890505, -10.503452775249281],
                  [-36.48606708012575, -10.495182199322912]]]),
            {
              "reference": 13,
              "system:index": "6"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-36.54752185307497, -10.493831880205805],
                  [-36.533617281541765, -10.485729841740875],
                  [-36.53979709111208, -10.485392252201937]]]),
            {
              "reference": 13,
              "system:index": "7"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-36.575330996141375, -10.500920989791577],
                  [-36.58271243535036, -10.511385568681854],
                  [-36.57344272099489, -10.504296699126183]]]),
            {
              "reference": 13,
              "system:index": "8"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-36.60743167363161, -10.525225273476336],
                  [-36.60262515507692, -10.527588087855609],
                  [-36.6041701074695, -10.523706311815149]]]),
            {
              "reference": 13,
              "system:index": "9"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-36.88593130677959, -10.76672702645467],
                  [-36.88833456605693, -10.768919331110096],
                  [-36.886532121598925, -10.768413416067125]]]),
            {
              "reference": 13,
              "system:index": "10"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-36.8961451587083, -10.779543350685978],
                  [-36.895544343888965, -10.782494400690814],
                  [-36.89511519044658, -10.779711982894478]]]),
            {
              "reference": 13,
              "system:index": "11"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-36.9056723651292, -10.78957680258728],
                  [-36.9056723651292, -10.787890531549966],
                  [-36.90738897889873, -10.790588560670049]]]),
            {
              "reference": 13,
              "system:index": "12"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-36.904299074113574, -10.792359129121188],
                  [-36.90464239686748, -10.791178751312515],
                  [-36.905758195817675, -10.792949316287254]]]),
            {
              "reference": 13,
              "system:index": "13"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-36.91749943859908, -10.802687637054177],
                  [-36.917842761352986, -10.807156014536957],
                  [-36.916898623779744, -10.804036588207948]]]),
            {
              "reference": 13,
              "system:index": "14"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-36.9283999360356, -10.806818780820937],
                  [-36.930116549805135, -10.810444023409852],
                  [-36.92754162915084, -10.808504945611949]]]),
            {
              "reference": 13,
              "system:index": "15"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-36.94740654144721, -10.829702853843523],
                  [-36.94465995941596, -10.831388889938033],
                  [-36.94577575836615, -10.829449947610694]]]),
            {
              "reference": 13,
              "system:index": "16"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-36.97026612166264, -10.852351158986663],
                  [-36.96854950789311, -10.85538578736483],
                  [-36.96846367720463, -10.852856932523029]]]),
            {
              "reference": 13,
              "system:index": "17"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-37.006312066772466, -10.896430197277418],
                  [-37.009058648803716, -10.894744528435778],
                  [-37.007342035034185, -10.898284421976522]]]),
            {
              "reference": 13,
              "system:index": "18"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-36.99369495556641, -10.88589461044435],
                  [-36.99197834179688, -10.889266038784278],
                  [-36.99077671215821, -10.887243186359232]]]),
            {
              "reference": 13,
              "system:index": "19"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-36.97326725170899, -10.872661385561239],
                  [-36.9739538972168, -10.869458351140914],
                  [-36.975413018920904, -10.872829965367583]]]),
            {
              "reference": 13,
              "system:index": "20"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-37.446845135026614, -11.603029605479177],
                  [-37.44821842604224, -11.605635971173347],
                  [-37.44598682814185, -11.604627058308973]]]),
            {
              "reference": 13,
              "system:index": "21"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-37.461301868197566, -11.633752327862458],
                  [-37.464305942294246, -11.637787535560973],
                  [-37.46164519095147, -11.636106206131888]]]),
            {
              "reference": 13,
              "system:index": "22"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-37.47368746767176, -11.659720225644541],
                  [-37.477034864522345, -11.664427522409744],
                  [-37.47437411317957, -11.662578236771866]]]),
            {
              "reference": 13,
              "system:index": "23"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-37.49903868515476, -11.705553021233188],
                  [-37.49955366928562, -11.707990335232067],
                  [-37.49766539413913, -11.705426952683391]]]),
            {
              "reference": 13,
              "system:index": "24"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-37.46284677133049, -11.604424848100445],
                  [-37.46533586129631, -11.59996876941763],
                  [-37.4646492157885, -11.610057902321136]]]),
            {
              "reference": 13,
              "system:index": "25"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-37.41142121379756, -11.51896959452165],
                  [-37.411077891043654, -11.52224955112506],
                  [-37.409017954520216, -11.517119345709403]]]),
            {
              "reference": 13,
              "system:index": "26"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-37.377468237132646, -11.482556907050764],
                  [-37.37987149640999, -11.485669064134127],
                  [-37.37703908369026, -11.484155046059065]]]),
            {
              "reference": 13,
              "system:index": "27"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-37.348772031119346, -11.374851143047955],
                  [-37.34834287767696, -11.37973149894151],
                  [-37.34739874010372, -11.376954754983235]]]),
            {
              "reference": 13,
              "system:index": "28"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-37.31831502648343, -11.356624042272996],
                  [-37.31968831749906, -11.352584805560529],
                  [-37.3220915767764, -11.358054591561615]]]),
            {
              "reference": 13,
              "system:index": "29"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-37.29694318505277, -11.34543185029634],
                  [-37.299518105707065, -11.34543185029634],
                  [-37.29840230675687, -11.347703984921257]]]),
            {
              "reference": 13,
              "system:index": "30"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-37.273076195642595, -11.277671375832929],
                  [-37.267068047449236, -11.275482859642823],
                  [-37.269814629480486, -11.274472769625888]]]),
            {
              "reference": 13,
              "system:index": "31"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-37.242863793298845, -11.242316383815062],
                  [-37.23874392025197, -11.23692857534858],
                  [-37.244580407068376, -11.240801072860554]]]),
            {
              "reference": 13,
              "system:index": "32"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-37.19497026912892, -11.189780962566807],
                  [-37.195656914636736, -11.187086581125756],
                  [-37.1990901421758, -11.192306922404102]]]),
            {
              "reference": 13,
              "system:index": "33"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-37.18312563411916, -11.172772259680736],
                  [-37.183468956873064, -11.169740900950528],
                  [-37.185700554773454, -11.173614298151183]]]),
            {
              "reference": 13,
              "system:index": "34"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-37.11995424740041, -11.051661767534638],
                  [-37.11686434261525, -11.053851971690635],
                  [-37.11737932674611, -11.051493289614502]]]),
            {
              "reference": 13,
              "system:index": "35"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-37.11394609920705, -11.0695198780581],
                  [-37.111542839929704, -11.073394607388131],
                  [-37.111027855798845, -11.070530681956857]]]),
            {
              "reference": 13,
              "system:index": "36"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-37.08339037410939, -11.029253355335767],
                  [-37.08596529476369, -11.028073917869524],
                  [-37.08545031063283, -11.032286172804188]]]),
            {
              "reference": 13,
              "system:index": "37"
            })]),
    reflo = /* color: #d6d515 */ee.FeatureCollection(
        [ee.Feature(
            ee.Geometry.Polygon(
                [[[-37.77942810777742, -11.920473942894972],
                  [-37.77590904954988, -11.922363481144721],
                  [-37.7769390178116, -11.919592153876355]]]),
            {
              "reference": 9,
              "system:index": "0"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-37.78749619249422, -11.915687053790576],
                  [-37.78620873216707, -11.914805249223228],
                  [-37.787796599903885, -11.913167604572429]]]),
            {
              "reference": 9,
              "system:index": "1"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-37.79097233537752, -11.911655923822071],
                  [-37.7893844676407, -11.91161393257002],
                  [-37.790800674000565, -11.9092204204725]]]),
            {
              "reference": 9,
              "system:index": "2"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-37.80135784868318, -11.908674528795162],
                  [-37.80311737779695, -11.907918676969611],
                  [-37.803546531239334, -11.909094445567392]]]),
            {
              "reference": 9,
              "system:index": "3"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-37.801057441273514, -11.9227413872159],
                  [-37.80045662645418, -11.925008812590121],
                  [-37.79989872697908, -11.923749134165961]]]),
            {
              "reference": 9,
              "system:index": "4"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-37.77316246751863, -11.92681434146498],
                  [-37.77496491197664, -11.92916570988954],
                  [-37.77277622942049, -11.928367926458888]]]),
            {
              "reference": 9,
              "system:index": "5"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-37.764579398670975, -11.906700911272301],
                  [-37.76625309709627, -11.908212619596071],
                  [-37.763849837818924, -11.908338594910072]]]),
            {
              "reference": 9,
              "system:index": "6"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-37.78160982634229, -11.903394878935302],
                  [-37.78336935545606, -11.905410512686373],
                  [-37.780708604113286, -11.904570667106753]]]),
            {
              "reference": 9,
              "system:index": "7"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-37.809691488540636, -11.955059710023004],
                  [-37.81089311817931, -11.954429941391428],
                  [-37.81106477955626, -11.956865038643603]]]),
            {
              "reference": 9,
              "system:index": "8"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-37.82561308125304, -11.952246732122095],
                  [-37.82458311299132, -11.954178033528416],
                  [-37.823982298171984, -11.952918490696122]]]),
            {
              "reference": 9,
              "system:index": "9"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-37.796516477859484, -11.949055856128806],
                  [-37.79445654133605, -11.950189461118146],
                  [-37.7951861021881, -11.948510044626243]]]),
            {
              "reference": 9,
              "system:index": "10"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-37.74804333644638, -11.823121505978976],
                  [-37.74546841579208, -11.82387759288267],
                  [-37.74735669093857, -11.82186135649818]]]),
            {
              "reference": 9,
              "system:index": "11"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-37.7464983840538, -11.81346021173695],
                  [-37.74778584438095, -11.815056449073388],
                  [-37.74495343166122, -11.81371224982953]]]),
            {
              "reference": 9,
              "system:index": "12"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-37.754394807393645, -11.802706370496345],
                  [-37.75473813014755, -11.803882592431751],
                  [-37.75370816188583, -11.804302670471504],
                  [-37.75319317775497, -11.80287440251032]]]),
            {
              "reference": 9,
              "system:index": "13"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-37.61075830817906, -11.611856274812215],
                  [-37.610114578015484, -11.612528866360487],
                  [-37.609342101819195, -11.61202442285139],
                  [-37.610329154736675, -11.610973495942996]]]),
            {
              "reference": 9,
              "system:index": "14"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-37.618311408764995, -11.61299127210874],
                  [-37.617581847912945, -11.614336448106528],
                  [-37.61599398017613, -11.613411640305278],
                  [-37.61736727119175, -11.613243493102727]]]),
            {
              "reference": 9,
              "system:index": "15"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-37.620070937878765, -11.61093145878427],
                  [-37.61968469978062, -11.611562015499677],
                  [-37.618053916699566, -11.611646089620663],
                  [-37.61852598548619, -11.610679235698875]]]),
            {
              "reference": 9,
              "system:index": "16"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-37.582090858227886, -11.606181219036689],
                  [-37.582090858227886, -11.604878041779797],
                  [-37.58440828681675, -11.604289508120152],
                  [-37.583850387341656, -11.60559268812606]]]),
            {
              "reference": 9,
              "system:index": "17"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-37.583335403210796, -11.602019438090554],
                  [-37.584365371472515, -11.60176720694735],
                  [-37.58496618629185, -11.602061476592262],
                  [-37.583893302685894, -11.603028360383616]]]),
            {
              "reference": 9,
              "system:index": "18"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-37.57695329398749, -11.618414875272226],
                  [-37.57678163261054, -11.617321936260513],
                  [-37.57824075431464, -11.617490081002838],
                  [-37.57776868552802, -11.619213558762347]]]),
            {
              "reference": 9,
              "system:index": "19"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-37.60497701377509, -11.618120622883033],
                  [-37.6033033153498, -11.618540983343904],
                  [-37.603131653972845, -11.617994514621136],
                  [-37.60441911429999, -11.61669139257329]]]),
            {
              "reference": 9,
              "system:index": "20"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-37.652355553814154, -11.618530988645633],
                  [-37.65098226279853, -11.620632781513372],
                  [-37.650081040569525, -11.620254459967216],
                  [-37.651583077617865, -11.618615060664727]]]),
            {
              "reference": 9,
              "system:index": "21"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-37.67548692435859, -11.612856068726824],
                  [-37.67372739524482, -11.6088204998379],
                  [-37.677074792095404, -11.612687921189197]]]),
            {
              "reference": 9,
              "system:index": "22"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-37.66694677085517, -11.61672343410038],
                  [-37.66668927878974, -11.618194700315597],
                  [-37.66437185020087, -11.617438050089296],
                  [-37.665788056560736, -11.616849542937462]]]),
            {
              "reference": 9,
              "system:index": "23"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-37.57609498710273, -11.649930121834675],
                  [-37.57562291831611, -11.651779491696857],
                  [-37.57227552146552, -11.651359181445358],
                  [-37.57412088126777, -11.650014184368148]]]),
            {
              "reference": 9,
              "system:index": "24"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-37.58085859031318, -11.643331133622944],
                  [-37.582146050640326, -11.642490486933964],
                  [-37.582146050640326, -11.644171777770392]]]),
            {
              "reference": 9,
              "system:index": "25"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-37.639544443530156, -11.574695340084913],
                  [-37.638696865725734, -11.575325976608124],
                  [-37.63912601916812, -11.574064698125639],
                  [-37.64002724139712, -11.574169804883038],
                  [-37.64086409060977, -11.575452104143611]]]),
            {
              "reference": 9,
              "system:index": "26"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-37.429921220747325, -11.169147852562686],
                  [-37.42972810169825, -11.171316123755908],
                  [-37.42837626835475, -11.172516033859107],
                  [-37.42447097202906, -11.172284472646727],
                  [-37.42354829212794, -11.171673992200768],
                  [-37.423698495832774, -11.167337438960956],
                  [-37.42459971806178, -11.167169027819213],
                  [-37.425694059339854, -11.169863594359704],
                  [-37.42650945088038, -11.170642487838666]]]),
            {
              "reference": 9,
              "system:index": "27"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-37.314183026428836, -11.084555698635457],
                  [-37.31479457008423, -11.085903367147438],
                  [-37.31383970367493, -11.087893272578357],
                  [-37.31303504097046, -11.088061729559197],
                  [-37.31362512695374, -11.086398212620225],
                  [-37.31400063621582, -11.085387463528875],
                  [-37.31326034652771, -11.084692571502051]]]),
            {
              "reference": 9,
              "system:index": "28"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-37.31092146026673, -11.085503278706144],
                  [-37.311221867676394, -11.08626134055196],
                  [-37.31063178169312, -11.087745872640504],
                  [-37.309483796234744, -11.088430228866404],
                  [-37.30987003433289, -11.08648244155346],
                  [-37.30988076316895, -11.085682265708078]]]),
            {
              "reference": 9,
              "system:index": "29"
            })]),
    agro = /* color: #d63000 */ee.FeatureCollection(
        [ee.Feature(
            ee.Geometry.Polygon(
                [[[-34.92435611666933, -7.717385503366881],
                  [-34.91508640231386, -7.72112783098349],
                  [-34.91130985202089, -7.713132818140884]]]),
            {
              "reference": 21,
              "system:index": "0"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-35.90378235498835, -9.363045594658024],
                  [-35.90326737085749, -9.366094320185933],
                  [-35.90232323328425, -9.365755574226233]]]),
            {
              "reference": 21,
              "system:index": "1"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-36.22282397522697, -10.131458887404419],
                  [-36.221794006965254, -10.135514492565878],
                  [-36.21286761536369, -10.132641777543094]]]),
            {
              "reference": 21,
              "system:index": "2"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-35.19407721462954, -8.972216690085927],
                  [-35.19203873577822, -8.96594288100273],
                  [-35.19568654003847, -8.96464995417185]]]),
            {
              "reference": 21,
              "system:index": "3"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-35.952859932664495, -9.729688352341993],
                  [-35.95646482158051, -9.724781742371759],
                  [-35.9667645041977, -9.728504004806334]]]),
            {
              "reference": 21,
              "system:index": "4"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-36.19846946336641, -10.129182604732465],
                  [-36.19486457445039, -10.125464895218077],
                  [-36.20396262742891, -10.123775013014622]]]),
            {
              "reference": 21,
              "system:index": "5"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-36.753519059780146, -10.346045159003083],
                  [-36.74665260470202, -10.34874707280156],
                  [-36.74665260470202, -10.336250526531819]]]),
            {
              "reference": 21,
              "system:index": "6"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-36.65360175428915, -10.306529569078036],
                  [-36.6508551722579, -10.29234235866481],
                  [-36.65978156385946, -10.29234235866481]]]),
            {
              "reference": 21,
              "system:index": "7"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-37.64280933615563, -11.923351015273013],
                  [-37.64156479117272, -11.923781406690528],
                  [-37.64201540228722, -11.922437743418552]]]),
            {
              "reference": 21,
              "system:index": "8"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-37.642884438008046, -11.926132801404917],
                  [-37.64279860731957, -11.92718252460789],
                  [-37.641897385090566, -11.925859872706784]]]),
            {
              "reference": 21,
              "system:index": "9"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-37.646756363049015, -11.690958640878863],
                  [-37.64418144239472, -11.689697886305387],
                  [-37.64538307203339, -11.688689278513825]]]),
            {
              "reference": 21,
              "system:index": "10"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-37.629504394665226, -11.707431972857435],
                  [-37.62795944227265, -11.71037353604474],
                  [-37.62692947401093, -11.708524557123527]]]),
            {
              "reference": 21,
              "system:index": "11"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-37.624170021701076, -11.573980612691283],
                  [-37.62350483386538, -11.575809465185305],
                  [-37.620929913211086, -11.57467431676887],
                  [-37.62159510104678, -11.573749377616503]]]),
            {
              "reference": 21,
              "system:index": "12"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-37.63580007998965, -11.573770398994835],
                  [-37.634963230777004, -11.574989636235488],
                  [-37.63307495563052, -11.575073721366559],
                  [-37.634448246646144, -11.572803413956857]]]),
            {
              "reference": 21,
              "system:index": "13"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-37.54398270099185, -11.475974515987168],
                  [-37.54192276446841, -11.4781194347279],
                  [-37.54110737292788, -11.47458661870337]]]),
            {
              "reference": 21,
              "system:index": "14"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-37.55331445070315, -11.426419693830779],
                  [-37.54932332368899, -11.42818640820519],
                  [-37.54850793214846, -11.424905358460531],
                  [-37.55322862001467, -11.424905358460531]]]),
            {
              "reference": 21,
              "system:index": "15"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-37.481718725114646, -11.369055182074284],
                  [-37.47910088911611, -11.369728353280594],
                  [-37.4793154658373, -11.368424082624038]]]),
            {
              "reference": 21,
              "system:index": "16"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-37.43983466526637, -11.171147714923222],
                  [-37.4375172366775, -11.172600237890535],
                  [-37.436637472120616, -11.171821349667413],
                  [-37.4355002154983, -11.170474078614975],
                  [-37.4355002154983, -11.16969518468394]]]),
            {
              "reference": 21,
              "system:index": "17"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-37.42438111650218, -11.128617135797215],
                  [-37.42343697892894, -11.126469600471118],
                  [-37.42378030168285, -11.126216948215442],
                  [-37.42453132020702, -11.128174997465521]]]),
            {
              "reference": 21,
              "system:index": "18"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-37.30642607795777, -11.084976845712598],
                  [-37.30605056869568, -11.085061075055249],
                  [-37.30606129753174, -11.085777023488273],
                  [-37.305481940384524, -11.086282397797397],
                  [-37.3056750594336, -11.087114157779416],
                  [-37.30504205810608, -11.087840629751945],
                  [-37.30476310836853, -11.085966538956542],
                  [-37.30536392318787, -11.08560856519114],
                  [-37.30625441658081, -11.084197723143053]]]),
            {
              "reference": 21,
              "system:index": "19"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-37.32170216802164, -11.089626132061776],
                  [-37.31982462171121, -11.089531375529058],
                  [-37.320983336005646, -11.087973152585747]]]),
            {
              "reference": 21,
              "system:index": "20"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-37.31984607938333, -11.087015051923116],
                  [-37.31891267064615, -11.087857338386755],
                  [-37.31855861905618, -11.086709722480833],
                  [-37.31585495236917, -11.085804260880757],
                  [-37.315747664008576, -11.085214656471148],
                  [-37.31663815740152, -11.084751395029642],
                  [-37.318773195777375, -11.08609906263977]]]),
            {
              "reference": 21,
              "system:index": "21"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-37.32106329406578, -11.091257315843297],
                  [-37.32202888931114, -11.09351039399753],
                  [-37.32165338004906, -11.095142285551177],
                  [-37.319464697492904, -11.093605149240204],
                  [-37.320451750410385, -11.092720765780385],
                  [-37.32030154670555, -11.09211011849614]]]),
            {
              "reference": 21,
              "system:index": "22"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-37.325923456800766, -11.09088882009994],
                  [-37.32258678878624, -11.093236656457206],
                  [-37.322908653868026, -11.09183637964418],
                  [-37.323434366834945, -11.090520323891994],
                  [-37.32605220283348, -11.090236055071319]]]),
            {
              "reference": 21,
              "system:index": "23"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-37.33181633036862, -11.101282289375824],
                  [-37.3312369732214, -11.10212453471223],
                  [-37.328876629288295, -11.101071727662143],
                  [-37.33042158168087, -11.099682016543985]]]),
            {
              "reference": 21,
              "system:index": "24"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-37.32228912394772, -11.100840109601709],
                  [-37.321409359390834, -11.103219450017383],
                  [-37.31971420329342, -11.101871861366408],
                  [-37.32173122447262, -11.100524266495988]]]),
            {
              "reference": 21,
              "system:index": "25"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-35.24400426746745, -8.650126323832474],
                  [-35.2409143626823, -8.63281563281509],
                  [-35.2522440135612, -8.644356181818859]]]),
            {
              "reference": 21,
              "system:index": "26"
            })]),
    flo = /* color: #ffb02f */ee.FeatureCollection(
        [ee.Feature(
            ee.Geometry.Polygon(
                [[[-35.06531218071224, -7.73333520119326],
                  [-35.064410958483236, -7.7356315466993015],
                  [-35.06355265159847, -7.733802976291587]]]),
            {
              "reference": 3,
              "system:index": "0"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-34.953750235541975, -7.970818289118136],
                  [-34.95619641016356, -7.964358126945588],
                  [-34.957741362556135, -7.972305812017524]]]),
            {
              "reference": 3,
              "system:index": "1"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-35.132707784730286, -7.904082197481481],
                  [-35.13116283233771, -7.905527454514306],
                  [-35.13107700164923, -7.904337243208026]]]),
            {
              "reference": 3,
              "system:index": "2"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-35.12807292755255, -7.900681572734861],
                  [-35.12764377411017, -7.898726200821742],
                  [-35.12841625030646, -7.899066266167417]]]),
            {
              "reference": 3,
              "system:index": "3"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-35.02494735534796, -8.107112036755975],
                  [-35.0249902706922, -8.106644685477665],
                  [-35.02571983154425, -8.107197009657337]]]),
            {
              "reference": 3,
              "system:index": "4"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-35.17151250134736, -8.047377148202607],
                  [-35.17116917859345, -8.048227002147696],
                  [-35.17069710980683, -8.047632104573276]]]),
            {
              "reference": 3,
              "system:index": "5"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-35.170310871708686, -8.046314828264963],
                  [-35.17018212567597, -8.045464970310071],
                  [-35.17078294049531, -8.04571992788365]]]),
            {
              "reference": 3,
              "system:index": "6"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-35.16880883466035, -8.045379984416577],
                  [-35.169366734135444, -8.044912561683875],
                  [-35.169366734135444, -8.045634942043602]]]),
            {
              "reference": 3,
              "system:index": "7"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-35.168122189152534, -8.045974885296841],
                  [-35.16765012036591, -8.047037206125525],
                  [-35.16739262830048, -8.046569785303953]]]),
            {
              "reference": 3,
              "system:index": "8"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-35.167564289677436, -8.038814770304633],
                  [-35.16700639020234, -8.037200008803374],
                  [-35.168079273808296, -8.037752427934905]]]),
            {
              "reference": 3,
              "system:index": "9"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-35.16896476614944, -8.03049654473678],
                  [-35.16836395133011, -8.03177137803572],
                  [-35.16750564444534, -8.03049654473678]]]),
            {
              "reference": 3,
              "system:index": "10"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-35.15875091422073, -8.028456803134876],
                  [-35.159180067663115, -8.027266949136994],
                  [-35.16012420523636, -8.028286824205685]]]),
            {
              "reference": 3,
              "system:index": "11"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-35.161411665563506, -8.0342360443972],
                  [-35.16089668143265, -8.0350859258798],
                  [-35.160467527990264, -8.0342360443972]]]),
            {
              "reference": 3,
              "system:index": "12"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-35.17874946463577, -8.055015136085977],
                  [-35.176689528112334, -8.053825360002538],
                  [-35.17883529532425, -8.051870720276312]]]),
            {
              "reference": 3,
              "system:index": "13"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-35.13111343253128, -8.079489753295645],
                  [-35.12888183463089, -8.080339539759885],
                  [-35.12982597220413, -8.076855403887151]]]),
            {
              "reference": 3,
              "system:index": "14"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-35.16063918936722, -8.057479661135682],
                  [-35.16098251212112, -8.055270087648982],
                  [-35.161154173498076, -8.05416529638312],
                  [-35.16226997244827, -8.055015136085977]]]),
            {
              "reference": 3,
              "system:index": "15"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-35.15033950675003, -8.0751558145014],
                  [-35.15059699881546, -8.071671633900348],
                  [-35.15162696707718, -8.071076770794411]]]),
            {
              "reference": 3,
              "system:index": "16"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-35.15806426871292, -8.022804965613465],
                  [-35.15729179251663, -8.022804965613465],
                  [-35.15754928458206, -8.021445113276929]]]),
            {
              "reference": 3,
              "system:index": "17"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-35.15726709822338, -8.02450477463704],
                  [-35.15769625166576, -8.023909842287386],
                  [-35.15872621992748, -8.02475974537744]]]),
            {
              "reference": 3,
              "system:index": "18"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-35.345655838059734, -8.46028497974333],
                  [-35.342394271897625, -8.467076654723286],
                  [-35.343424240159344, -8.459945392850138]]]),
            {
              "reference": 3,
              "system:index": "19"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-34.90267913377782, -7.552284000427758],
                  [-34.90319411790868, -7.551518224521525],
                  [-34.90396659410497, -7.553134860954296]]]),
            {
              "reference": 3,
              "system:index": "20"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-34.93345176936077, -7.551286545022812],
                  [-34.935855028638116, -7.549925161554237],
                  [-34.93705665827679, -7.55349878401331]]]),
            {
              "reference": 3,
              "system:index": "21"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-35.0701701242504, -7.715216292105825],
                  [-35.074633320051184, -7.712324455972786],
                  [-35.075319965559, -7.714705969518962]]]),
            {
              "reference": 3,
              "system:index": "22"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-35.011904533979624, -7.812591535054843],
                  [-35.009672936079234, -7.808679952403478],
                  [-35.01293450224134, -7.808679952403478]]]),
            {
              "reference": 3,
              "system:index": "23"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-35.11615162843514, -7.800536220049925],
                  [-35.1140916919117, -7.806148588759864],
                  [-35.110830125749594, -7.803937664625671]]]),
            {
              "reference": 3,
              "system:index": "24"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-35.044912156999594, -7.7440682079703445],
                  [-35.04456883424569, -7.749000957287996],
                  [-35.03959065431405, -7.746959826645945]]]),
            {
              "reference": 3,
              "system:index": "25"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-34.97169361269329, -8.212613452677406],
                  [-34.97718677675579, -8.22008902435668],
                  [-34.972208596824146, -8.222297689030515]]]),
            {
              "reference": 3,
              "system:index": "26"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-35.25274343782799, -8.255337416181362],
                  [-35.252571776451035, -8.25007101971628],
                  [-35.25411672884361, -8.250410789348676]]]),
            {
              "reference": 3,
              "system:index": "27"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-35.239353850425644, -8.25873505405128],
                  [-35.23574896150963, -8.261623023247857],
                  [-35.23317404085533, -8.25499765078638]]]),
            {
              "reference": 3,
              "system:index": "28"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-35.278120287328356, -8.402534176841773],
                  [-35.27451539841234, -8.398543415889305],
                  [-35.27657533493578, -8.396250832525931]]]),
            {
              "reference": 3,
              "system:index": "29"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-35.622616566600726, -8.891406914953874],
                  [-35.618153370799945, -8.895816450238673],
                  [-35.6102569474601, -8.88733652756809]]]),
            {
              "reference": 3,
              "system:index": "30"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-35.76953726416299, -9.06669109183395],
                  [-35.765932375246976, -9.061775077699442],
                  [-35.76885061865518, -9.060249404460162]]]),
            {
              "reference": 3,
              "system:index": "31"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-35.49711065893838, -9.06143603976173],
                  [-35.49711065893838, -9.064995922147634],
                  [-35.492819124514554, -9.062792189592704]]]),
            {
              "reference": 3,
              "system:index": "32"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-35.60733956858936, -9.242236482320784],
                  [-35.60879869029346, -9.239017242646163],
                  [-35.60965699717823, -9.240881016570851]]]),
            {
              "reference": 3,
              "system:index": "33"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-37.82025969109869, -11.898298007084048],
                  [-37.819916368344785, -11.89995673787996],
                  [-37.81862890801764, -11.899809762142063]]]),
            {
              "reference": 3,
              "system:index": "34"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-37.81972324929571, -11.895127493487044],
                  [-37.82025969109869, -11.898025050413903],
                  [-37.818199754575254, -11.896597272597813]]]),
            {
              "reference": 3,
              "system:index": "35"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-37.81905033995302, -11.90428211328694],
                  [-37.81836369444521, -11.902917357236053],
                  [-37.8201446812311, -11.901153662344063],
                  [-37.82113173414858, -11.90251842725001]]]),
            {
              "reference": 3,
              "system:index": "36"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-37.811424712690204, -11.903651854487114],
                  [-37.80947206452736, -11.904764653083335],
                  [-37.8096222682322, -11.902602040314212]]]),
            {
              "reference": 3,
              "system:index": "37"
            })]),
    sav = /* color: #55d60b */ee.FeatureCollection(
        [ee.Feature(
            ee.Geometry.Polygon(
                [[[-37.822680713137075, -11.908955695423371],
                  [-37.82177949090807, -11.909921502029606],
                  [-37.821951152285024, -11.908451794961456],
                  [-37.823195697267934, -11.908325819699947]]]),
            {
              "reference": 4,
              "system:index": "0"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-37.82933259149401, -11.917101956506627],
                  [-37.82821679254381, -11.916472099675941],
                  [-37.82928967614977, -11.915968213159305]]]),
            {
              "reference": 4,
              "system:index": "1"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-37.82186532159655, -11.911097261959181],
                  [-37.820148707827016, -11.911853104940743],
                  [-37.8211357607445, -11.90996349354329]]]),
            {
              "reference": 4,
              "system:index": "2"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-37.80965540661959, -11.881655568453901],
                  [-37.811028697635216, -11.884679255103336],
                  [-37.808282115603966, -11.883377394134431]]]),
            {
              "reference": 4,
              "system:index": "3"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-37.80218813672213, -11.882579476270283],
                  [-37.800085284854454, -11.883419389746717],
                  [-37.8013727451816, -11.881403593050857]]]),
            {
              "reference": 4,
              "system:index": "4"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-37.80549261822848, -11.877665930529822],
                  [-37.80317518963961, -11.878169888018522],
                  [-37.80424807324557, -11.875860075206292]]]),
            {
              "reference": 4,
              "system:index": "5"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-37.800557353641075, -11.876196049196079],
                  [-37.80068609967379, -11.873298259911722],
                  [-37.80266020550875, -11.873886219649815]]]),
            {
              "reference": 4,
              "system:index": "6"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-37.80884001507906, -11.873928216725423],
                  [-37.80815336957125, -11.876909992548692],
                  [-37.80570719494967, -11.873970213794555]]]),
            {
              "reference": 4,
              "system:index": "7"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-37.805755165143005, -11.872027479038087],
                  [-37.80468228153705, -11.872741433312736],
                  [-37.80360939793109, -11.871313522893178]]]),
            {
              "reference": 4,
              "system:index": "8"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-37.808973815960876, -11.88013284998408],
                  [-37.80536892704486, -11.881938676980315],
                  [-37.8068709640932, -11.879376918849042]]]),
            {
              "reference": 4,
              "system:index": "9"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-37.76478325516362, -11.835965927276888],
                  [-37.76435410172124, -11.840880224013956],
                  [-37.764225355688524, -11.83575591262743]]]),
            {
              "reference": 4,
              "system:index": "10"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-37.76280914932866, -11.83663797307106],
                  [-37.761950842443895, -11.83697399534864],
                  [-37.7622941651978, -11.83630195038047]]]),
            {
              "reference": 4,
              "system:index": "11"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-37.455135565463124, -11.200986127813028],
                  [-37.45398758000475, -11.201512350893259],
                  [-37.454384546938954, -11.200428330303062]]]),
            {
              "reference": 4,
              "system:index": "12"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-37.41202149736156, -11.125185282564168],
                  [-37.411356309525864, -11.125480044551578],
                  [-37.41047654496898, -11.126595926516792],
                  [-37.40869555818309, -11.126469600471118],
                  [-37.40925345765819, -11.126238002578443],
                  [-37.412085870377915, -11.124343103814123]]]),
            {
              "reference": 4,
              "system:index": "13"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-37.40616355287303, -11.127669695693235],
                  [-37.40453276979198, -11.12695385001537],
                  [-37.404082158677475, -11.12665908951908],
                  [-37.40524087297191, -11.126595926516792],
                  [-37.40547690736522, -11.127038067245246],
                  [-37.40644250261058, -11.127543370113196]]]),
            {
              "reference": 4,
              "system:index": "14"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-36.92002418476695, -10.439758024412344],
                  [-36.914187697950545, -10.441615035450727],
                  [-36.91075447041148, -10.436550433772148],
                  [-36.91041114765758, -10.433680456214843],
                  [-36.90903785664195, -10.432498693055312],
                  [-36.90491798359508, -10.425408019869344],
                  [-36.90714958149547, -10.424057397143725]]]),
            {
              "reference": 4,
              "system:index": "15"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-36.90549708926811, -10.434207528920728],
                  [-36.906355396152875, -10.443830274076479],
                  [-36.90154887759819, -10.442142094710439]]]),
            {
              "reference": 4,
              "system:index": "16"
            })]);

// Define the region ID (reg_21)
var regiaoID = 'reg_21'; // old 11

// Define whether to collect data (false)
var coleta = false;   // true or false

// Define the years to process (2016-2023)
var anos = [2016,2017,2018,2019,2020,2021,2022,2023]

// If collecting data, only process 2023
if (coleta) {var anos = [2023]}

// Define the number of trees for the Random Forest classifier (100)
var RFtrees = 100;

// If collecting data, use 200 trees
if (coleta) {var RFtrees = 200}

// Define the output version (1)
var versao_out = 1;

// Define the version of the point data (S2_v1)
var versao_pt = 'S2_v1';

// Define the stable version (3)
var versao_estavel = '3'

// Define the input directory for point data
var dir_pt_in = 'projects/mapbiomas-workspace/AMOSTRAS/col9/MATA_ATLANTICA/teste/';

// Load the 250k biome collection
var bioma250mil = ee.FeatureCollection('projects/mapbiomas-workspace/AUXILIAR/biomas_IBGE_250mil');

// Filter the collection to only include the Mata Atlntica biome
var bioma250mil_MA_vetor = bioma250mil.filterMetadata('Bioma','equals', 'Mata Atlntica');

// Load the biome raster
var biomes = ee.Image('projects/mapbiomas-workspace/AUXILIAR/biomas-raster-41');

// Mask the biome raster to only include the Mata Atlntica biome
var bioma250mil_MA = biomes.mask(biomes.eq(2));

// Add the Mata Atlntica biome layer to the map
Map.addLayer(bioma250mil_MA,{},'layer bioma',false)

// Import the palettes module
var palettes = require('users/mapbiomas/modules:Palettes.js');

// Define the visualization parameters for the classification
var vis = {
    'min': 0,
    'max': 62,
    'palette': palettes.get('classification7')
};

// Load the Mata Atlntica regions collection
var regioesCollection = ee.FeatureCollection('projects/mapbiomas-workspace/AUXILIAR/Mata_Atlantica_col6_PLANET');

// Define the visualization parameters for the median composite
var visParMedian2 = {bands: ['swir1_median', 'nir_median', 'red_median'],gain: [0.08, 0.06, 0.2],gamma: 0.85}

// Define the biome name (MATAATLANTICA)
var bioma = "MATAATLANTICA";

// Define the output directory
var dirout = 'projects/mapbiomas-workspace/COLECAO7/classificacao-ma/';

// Load the S2 cluster image
var S2_cluster = ee.Image('projects/mapbiomas-workspace/AMOSTRAS/S2_2024/MATA_ATLANTICA/mosaicos_MA_S2_clusters_2106_2023')

// Filter the regions collection to only include the specified region ID
var limite = regioesCollection.filterMetadata('reg_id', "equals", regiaoID);
//var limite = reg_04_rev

// Load the stable map from collection 6
var mapa_estavel_col6 = ee.Image('projects/mapbiomas-workspace/AMOSTRAS/col7/MATA_ATLANTICA/MA_amostras_estaveis85a20_col6_v1')

// Add the stable map layer to the map
Map.addLayer(mapa_estavel_col6, vis, 'mapa_estavel_col6', false);

// Create a blank image
var blank = ee.Image(0).mask(0);
// Outline the region boundary
var outline = blank.paint(limite, 'AA0000', 2); 
// Define the visualization parameters for the outline
var visPar = {'palette':'000000','opacity': 0.6};
// Add the outline layer to the map
Map.addLayer(outline, visPar, regiaoID, false);

// Define a function to shuffle a feature collection
var shuffle = function (collection, seed) {
    // Add a random column to the collection
    collection = collection.randomColumn('random', seed || 1)
        // Sort the collection by the random column
        .sort('random', true)
        // Map over the collection and set a new ID based on the random column
        .map(function (feature) {
                var rescaled = ee.Number(feature.get('random')).multiply(1000000000).round();
                return feature.set('new_id', rescaled)});
    // Get a list of the new IDs
    var randomIdList = ee.List(collection.reduceColumns(ee.Reducer.toList(), ['new_id']).get('list'));
    // Create a sequential list of IDs
    var sequentialIdList = ee.List.sequence(1, collection.size());
    // Remap the collection using the new and sequential IDs
    var shuffled = collection.remap(randomIdList, sequentialIdList, 'new_id');
    // Return the shuffled collection
    return shuffled;
};

// Define the visualization parameters for the hand-labeled data
var vis_hand = {
    'min': 0,
    'max': 60,
    'palette': 'blue,white,green,orange,red,brown'
};

// Loop through the years
for (var i_ano=0;i_ano<anos.length; i_ano++){
  // Get the current year
  var ano = anos[i_ano];
  // Define the asset path for the Sentinel-2 mosaics
  var asset = 'projects/mapbiomas-mosaics/assets/SENTINEL/BRAZIL/mosaics-3';
  // Define the band names to use for classification
  var bandNames = ee.List([
  //  THE 60 MOST IMPORTANT BANDS FOR THIS REGION
  'wetness_median_wet','wetness_median_dry','wetness_median','ui_median_wet','ui_median_dry','ui_median','swir2_stdDev','swir2_median_wet','swir2_median_dry','swir2_median','swir1_stdDev','swir1_median_wet','swir1_median_dry','swir1_median','spri_median_wet','spri_median_1','spri_median','shape_median_wet','shape_median_dry','shape_median','rvi_median_wet','rvi_median_1','rvi_median','ri_median_wet','ri_median_dry','ri_median','red_stdDev','red_min','red_median_wet','red_median_dry_contrast','red_median_dry','red_median_contrast','red_median','red_edge_4_stdDev','red_edge_4_median_wet','red_edge_4_median_dry','red_edge_4_median','red_edge_3_stdDev','red_edge_3_median_wet','red_edge_3_median_dry','red_edge_3_median','red_edge_2_stdDev','red_edge_2_median_wet','red_edge_2_median_dry','red_edge_2_median','red_edge_1_stdDev','red_edge_1_median_wet','red_edge_1_median_dry','red_edge_1_median','ratio_median_wet','ratio_median_dry','ratio_median','osavi_median_wet','osavi_median_dry','osavi_median','nir_stdDev','nir_median_wet','nir_median_dry_contrast','nir_median_dry','nir_median_contrast','nir_median',

  // ALL 143 BANDS TO FEATURE IMPORTANCE
  //    'blue_median','afvi_median','afvi_median_dry','afvi_median_wet','avi_median','avi_median_dry','avi_median_wet','awei_median','awei_median_dry','awei_median_wet','blue_median_dry','blue_median_wet','blue_stdDev','brba_median','brba_median_dry','brba_median_wet','brightness_median','brightness_median_dry','brightness_median_wet','bsi_median','bsi_median_1','bsi_median_2','clusters_2023','co2flux_median','cvi_median','cvi_median_dry','cvi_median_wet','dswi5_median','dswi5_median_dry','dswi5_median_wet','evi_median','evi_median_dry','evi_median_wet','gcvi_median','gcvi_median_dry','gcvi_median_wet','gemi_median','gemi_median_dry','gemi_median_wet','gli_median','gli_median_dry','gli_median_wet','green_median','green_median_dry','green_median_texture','green_median_texture_2023','green_median_wet','green_min','green_stdDev','gvmi_median','gvmi_median_1','gvmi_median_dry','gvmi_median_dry_1','gvmi_median_wet','gvmi_median_wet_1','iia_median','iia_median_dry','iia_median_wet','lai_median','latitude','longitude','lswi_median','lswi_median_dry','lswi_median_wet','mbi_median','mbi_median_dry','mbi_median_wet','msi_median','msi_median_dry','msi_median_wet','nddi_median','nddi_median_dry','nddi_median_wet','ndvi_median','ndvi_median_dry','ndvi_median_dry_2023','ndvi_median_wet','ndvi_median_wet_2023','ndwi_median','ndwi_median_2023','ndwi_median_dry','ndwi_median_wet','nir_median','nir_median_contrast','nir_median_dry','nir_median_dry_contrast','nir_median_wet','nir_stdDev','osavi_median','osavi_median_dry','osavi_median_wet','ratio_median','ratio_median_dry','ratio_median_wet','red_edge_1_median','red_edge_1_median_dry','red_edge_1_median_wet','red_edge_1_stdDev','red_edge_2_median','red_edge_2_median_dry','red_edge_2_median_wet','red_edge_2_stdDev','red_edge_3_median','red_edge_3_median_dry','red_edge_3_median_wet','red_edge_3_stdDev','red_edge_4_median','red_edge_4_median_dry','red_edge_4_median_wet','red_edge_4_stdDev','red_median','red_median_contrast','red_median_dry','red_median_dry_contrast','red_median_wet','red_min','red_stdDev','ri_median','ri_median_dry','ri_median_wet','rvi_median','rvi_median_1','rvi_median_wet','shape_median','shape_median_dry','shape_median_wet','spri_median','spri_median_1','spri_median_wet','swir1_median','swir1_median_dry','swir1_median_wet','swir1_stdDev','swir2_median','swir2_median_dry','swir2_median_wet','swir2_stdDev','ui_median','ui_median_dry','ui_median_wet','wetness_median','wetness_median_dry','wetness_median_wet',
  ])

  // Load the Sentinel-2 mosaics for the current year
  var collection = ee.ImageCollection(asset)
        // Filter the collection to only include version 3
        .filter(ee.Filter.eq('version', '3'))
        // Filter the collection to only include the current year
        .filter(ee.Filter.eq('year', ano))
        // Filter the collection to only include the Mata Atlntica biome
        .filter(ee.Filter.inList('biome', [
            'MATAATLANTICA',
        ])); 

  // Create a mosaic of the Sentinel-2 images
  var mosaicoTotal = collection.mosaic()

  // Import the function to add indices for the Caatinga biome
  var addIndexCaatinga = require('users/marcosrosaUSP/MapBiomas_col9_MataAtlan:Mata_Atlantica_SENTINEL2/processa_Bandas_Sentinel2_CAATINGA');

  // Add the Caatinga indices to the mosaic
  mosaicoTotal = addIndexCaatinga.get(mosaicoTotal);

  // Add the S2 cluster bands to the mosaic
  mosaicoTotal = mosaicoTotal.addBands(S2_cluster.select([
    'clusters_'+ano, 'ndvi_median_dry_'+ano,'ndvi_median_wet_'+ano,'ndwi_median_'+ano, 'green_median_texture_'+ano
    ]))
    
  // Add the Sentinel-2 mosaic layer to the map
  Map.addLayer(mosaicoTotal, {'bands': ['swir1_median', 'nir_median', 'red_median'],
    'gain': [0.08, 0.07, 0.2],'gamma': 0.85}, 'Sentinel 2 '+ano, false);
  //print(mosaicoTotal)
  //var BDamostras = ee.FeatureCollection('projects/mapbiomas-workspace/AMOSTRAS/col9/MATA_ATLANTICA/teste/REGIONs_'+regiaoID+'_'+ano)

  // Load the training points for the current year
  var BDamostras = ee.FeatureCollection('projects/mapbiomas-workspace/AMOSTRAS/S2_2024/MATA_ATLANTICA/pontos_train_v1_'+ano)
                    // Filter the points to only include the specified region ID
                    .filterMetadata('reg_id', 'equals', regiaoID)
                    
    // Filter the points by reference class
    var BDflo = BDamostras.filterMetadata("reference", "equals", 3)
    var BDsav = BDamostras.filterMetadata("reference", "equals", 4)//.limit(100)
    var BDreflo = BDamostras.filterMetadata("reference", "equals", 9)
    var BDvarzea = BDamostras.filterMetadata("reference", "equals", 11)
    var BDcampo = BDamostras.filterMetadata("reference", "equals", 12)
    var BDOutroNFlo = BDamostras.filterMetadata("reference", "equals", 13)
    var BDagro = BDamostras.filterMetadata("reference", "equals", 21)
    // Shuffle and limit the agro points
    BDagro = shuffle(BDagro, 2).limit(2500)
    var BDNaoVeg = BDamostras.filterMetadata("reference", "equals", 22)
    var BDAflora = BDamostras.filterMetadata("reference", "equals", 29)
    var BDagua = BDamostras.filterMetadata("reference", "equals", 33)

  // Complementary samples
  // Merge the complementary samples
  var amostraTotal = varzea.merge(restinga).merge(reflo).merge(flo).merge(agro).merge(varzea).merge(sav) //.merge(agua)
  
  // Reduce the complementary samples to an image
  var amostraTotalimg = amostraTotal.reduceToImage({properties: ['reference'],reducer: ee.Reducer.first()})

  // Rename the band
  amostraTotalimg = amostraTotalimg.select([0],['reference'])

   // Sample the mosaic for the forest class
   var training_flo = mosaicoTotal.select(bandNames).addBands(amostraTotalimg).sample({'numPixels': 400, 'region': flo.filterBounds(limite), 'scale': 10, 'seed': 1});

  // Sample the mosaic for the reforestation class
  var training_reflo = mosaicoTotal.select(bandNames).addBands(amostraTotalimg).sample({'numPixels': 600, 'region': reflo.filterBounds(limite), 'scale': 10, 'seed': 1});
  // var training_nflo = mosaicoTotal.select(bandNames).addBands(amostraTotalimg).sample({'numPixels': 300, 'region': nao_flo.filterBounds(limite), 'scale': 10, 'seed': 1});

  // Sample the mosaic for the savanna class
  var training_sav = mosaicoTotal.select(bandNames).addBands(amostraTotalimg).sample({'numPixels': 200, 'region': sav.filterBounds(limite), 'scale': 10, 'seed': 1});
  // var training_afl = mosaicoTotal.select(bandNames).addBands(amostraTotalimg).sample({'numPixels': 1000, 'region': aflora.filterBounds(limite), 'scale': 10, 'seed': 1});

  // Sample the mosaic for the varzea class
  var training_var = mosaicoTotal.select(bandNames).addBands(amostraTotalimg).sample({'numPixels': 1500, 'region': varzea.filterBounds(limite), 'scale': 10, 'seed': 1});
  // var training_agu = mosaicoTotal.select(bandNames).addBands(amostraTotalimg).sample({'numPixels': 100, 'region': agua.filterBounds(limite), 'scale': 10, 'seed': 1});
  // var training_cam = mosaicoTotal.select(bandNames).addBands(amostraTotalimg).sample({'numPixels': 800, 'region': campo.filterBounds(limite), 'scale': 10, 'seed': 1});

  // Sample the mosaic for the restinga class
  var training_nflo = mosaicoTotal.select(bandNames).addBands(amostraTotalimg).sample({'numPixels': 500, 'region': restinga.filterBounds(limite), 'scale': 10, 'seed': 1});

  // Sample the mosaic for the agriculture class
  var training_agr = mosaicoTotal.select(bandNames).addBands(amostraTotalimg).sample({'numPixels': 300, 'region': agro.filterBounds(limite), 'scale': 10, 'seed': 1});

// If collecting data, print the size of each training set
if (coleta) {
// print('BDflo',BDflo.size())
// print('BDsav',BDsav.size())
// print('BDvar',BDvarzea.size())
// print('BDcam',BDcampo.size())
// print('BDOut',BDOutroNFlo.size())
// print('BDAfl',BDAflora.size())
// print('BDagr',BDagro.size())
// print('BDNao',BDNaoVeg.size())
// print('BDagu',BDagua.size())
print('training_flo',training_flo.size())
print('training_var',training_var.size())
//print('training_nflo',training_nflo.size())
//print('training_cam',training_cam.size())
//print('training_sav',training_sav.size())
//print('training_afl',training_afl.size())
//print('training_cam',training_cam.size())
print('training_agr',training_agr.size())
}

  // Merge all the training points
  var training = BDflo.merge(BDreflo).merge(BDcampo).merge(BDsav)//.merge(BDOutroNFlo).merge(BDAflora)
                      .merge(BDagro).merge(BDNaoVeg).merge(BDagua)
                      // Add the complementary samples
                      .merge(training_reflo)
                      .merge(training_var)
                      .merge(training_nflo).merge(training_agr).merge(training_flo)
                      // //.merge(training_agu)
                      .merge(training_agr).merge(training_sav)

  // Train a Random Forest classifier
  var classifierRF = ee.Classifier.smileRandomForest({numberOfTrees: RFtrees, variablesPerSplit:1}).train(training, 'reference', bandNames);

  // If collecting data, print the classifier explanation
  if (coleta) {print(classifierRF.explain())}

  // Train a Gradient Tree Boost classifier
  var classifierGTB = ee.Classifier.smileGradientTreeBoost({numberOfTrees: 30, shrinkage: 0.1, samplingRate: 0.8, loss: 'LeastSquares'}).train(training, 'reference', bandNames);

  // print(classifier.explain())

  // Classify the mosaic using the Random Forest classifier
  var classifiedRF = mosaicoTotal.classify(classifierRF).mask(mosaicoTotal.select('blue_median'));

  // Classify the mosaic using the Gradient Tree Boost classifier
  var classifiedGTB = mosaicoTotal.classify(classifierGTB).mask(mosaicoTotal.select('blue_median'));

  // Rename the classification band and clip the image to the region boundary
  classifiedRF = classifiedRF.select(['classification'],['classification_'+ano]).clip(limite.geometry()).toInt8()
  // classifiedGTB = classifiedGTB.select(['classification'],['classification_'+ano]).clip(limite.geometry()).toInt8()

  // If collecting data, add the classification layers to the map
  if (coleta) {  
    Map.addLayer(classifiedRF, vis, 'RF'+ano+"_"+regiaoID, false);
    // Map.addLayer(classifiedGTB, vis, 'GTB'+ano+"_"+regiaoID, false);
  }

  // If this is the first year, initialize the classification image
  if (i_ano == 0){ var classified16a23RF = classifiedRF;}//  var classified16a23GTB = classifiedGTB}  
  // Otherwise, add the classification for the current year to the image
  else {classified16a23RF = classified16a23RF.addBands(classifiedRF);}// classified16a23GTB = classified16a23GTB.addBands(classifiedGTB)}
}

// If collecting data, do nothing
if (coleta) {}
   // Otherwise, export the classification image to an asset
   else 
   {
     // Set the metadata for the classification image
     classified16a23RF = classified16a23RF
     .set('territory', 'BRAZIL')
     .set('biome', 'MATA ATNTICA')
     .set('source', 'arcplan')
     .set('version', '1')
     .set('collection_id',versao_out)

//     classified16a23GTB = classified16a23GTB
//     .set('territory', 'BRAZIL')
//     .set('biome', 'MATA ATNTICA')
//     .set('source', 'arcplan')
//     .set('version', '1')
//     .set('collection_id',versao_out)
     
    // Export the Random Forest classification image to an asset
    Export.image.toAsset({
       "image": classified16a23RF.toInt8(),
       "description": regiaoID+'-'+'RF_SENTINEL2_v'+versao_out,
       "assetId": dirout + regiaoID+'-'+'RF_SENTINEL2_v'+versao_out,
       "scale": 10,
       "pyramidingPolicy": {
           '.default': 'mode'
       },
       "maxPixels": 1e13,
       "region": limite
     });    
     
//    Export.image.toAsset({
//       "image": classified16a23GTB.toInt8(),
//       "description": regiaoID+'-'+'GTB_SENTINEL2_v'+versao_out,
//       "assetId": dirout + regiaoID+'-'+'GTB_SENTINEL2_v'+versao_out,
//       "scale": 10,
//       "pyramidingPolicy": {
//           '.default': 'mode'
//       },
//       "maxPixels": 1e13,
//       "region": limite
//     });    
}
