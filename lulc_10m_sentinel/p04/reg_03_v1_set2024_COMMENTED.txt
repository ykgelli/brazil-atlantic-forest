var restinga = /* color: #ec25f4 */ee.FeatureCollection(
        [ee.Feature(
            ee.Geometry.Polygon(
                [[[-39.84239860349737, -19.628176998034995],
                  [-39.84514518552862, -19.62300294540834],
                  [-39.8492650585755, -19.624296474184536],
                  [-39.84514518552862, -19.62979385531041]]]),
            {
              "reference": 13,
              "system:index": "0"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-39.75553794675909, -19.494568509181263],
                  [-39.77030082517706, -19.489066516371125],
                  [-39.77957053953253, -19.49877578925079]]]),
            {
              "reference": 13,
              "system:index": "1"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-39.74901481443487, -19.458640358289422],
                  [-39.765150983868466, -19.466409282160413],
                  [-39.74214835935675, -19.470293604483448]]]),
            {
              "reference": 13,
              "system:index": "2"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-39.718849966181324, -19.34783614640373],
                  [-39.709580251825855, -19.374396529772493],
                  [-39.71370012487273, -19.343948898220148]]]),
            {
              "reference": 13,
              "system:index": "3"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-39.70524399608428, -19.247261518423716],
                  [-39.707303932607715, -19.252447558897963],
                  [-39.70318405956084, -19.255040517659374]]]),
            {
              "reference": 13,
              "system:index": "4"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-39.210940794642454, -17.655118428729374],
                  [-39.22330041378308, -17.658389919282552],
                  [-39.21403082394522, -17.65953503123015],
                  [-39.20888085811902, -17.664605587502734]]]),
            {
              "reference": 13,
              "system:index": "5"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-38.94071588174461, -15.899394763247603],
                  [-38.89831552163719, -15.915408275998752],
                  [-38.8897330421085, -15.909713049214083],
                  [-38.92372140542625, -15.896753236556162]]]),
            {
              "reference": 13,
              "system:index": "6"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-39.82817003493926, -19.593640606504493],
                  [-39.825595114284965, -19.597360152733057],
                  [-39.826110098415825, -19.595096091352936]]]),
            {
              "reference": 13,
              "system:index": "7"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-39.84773943191192, -19.59703671734309],
                  [-39.85786745315215, -19.60204989283466],
                  [-39.85271761184356, -19.600271041989828]]]),
            {
              "reference": 13,
              "system:index": "8"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-39.843104574734184, -19.64861643931168],
                  [-39.84842607741973, -19.652173051021254],
                  [-39.84516451125762, -19.650879746793592]]]),
            {
              "reference": 13,
              "system:index": "9"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-39.701625134668284, -19.3316972723839],
                  [-39.70025184365266, -19.30026959546103],
                  [-39.710551526269846, -19.33720459329761]]]),
            {
              "reference": 13,
              "system:index": "10"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-39.23213876945655, -17.7172039754391],
                  [-39.21565927726905, -17.722763552364874],
                  [-39.224242346116704, -17.70870075973269]]]),
            {
              "reference": 13,
              "system:index": "11"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-39.159011022874516, -17.675992329923897],
                  [-39.168280737229985, -17.68907641656855],
                  [-39.157294409104985, -17.685478387703483]]]),
            {
              "reference": 13,
              "system:index": "12"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-39.201239721604985, -17.62593691668607],
                  [-39.205702917405766, -17.60008586844065],
                  [-39.20879282219092, -17.624955298960128]]]),
            {
              "reference": 13,
              "system:index": "13"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-39.409948177474675, -17.922555209522354],
                  [-39.40960485472077, -17.912428384320926],
                  [-39.431920833724675, -17.930068286433116]]]),
            {
              "reference": 13,
              "system:index": "14"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-39.81060583128327, -18.869904036005174],
                  [-39.81678564085358, -18.914080665787388],
                  [-39.798932857650456, -18.89784061286625]]]),
            {
              "reference": 13,
              "system:index": "15"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-39.91291601194733, -19.24049389137125],
                  [-39.908109493392644, -19.260589713909898],
                  [-39.89574987425202, -19.2210439785298]]]),
            {
              "reference": 13,
              "system:index": "16"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-40.66777697307093, -20.118836423041124],
                  [-40.665116221728155, -20.118111080717597],
                  [-40.66503039103968, -20.116700683237394]]]),
            {
              "reference": 13,
              "system:index": "17"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-40.667133242907354, -20.12737909060198],
                  [-40.664901645006964, -20.12810438993676],
                  [-40.664129168810675, -20.12725820705236]]]),
            {
              "reference": 13,
              "system:index": "18"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-40.667090327563116, -20.13378578496391],
                  [-40.667347819628546, -20.1314487822242],
                  [-40.66769114238245, -20.133906663465467]]]),
            {
              "reference": 13,
              "system:index": "19"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-40.70168732352381, -20.172353354538107],
                  [-40.702459799720096, -20.171225429349402],
                  [-40.70254563040857, -20.173038162279997]]]),
            {
              "reference": 13,
              "system:index": "20"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-40.70142983145838, -20.168888986939066],
                  [-40.7033610219491, -20.168365296769966],
                  [-40.70237396903162, -20.169452959001088]]]),
            {
              "reference": 13,
              "system:index": "21"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-40.73635664615921, -20.190238518868533],
                  [-40.7351121011763, -20.18927183726509],
                  [-40.735970408061064, -20.18894960873118]]]),
            {
              "reference": 13,
              "system:index": "22"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-40.80805236171588, -20.20969191699365],
                  [-40.80513411830768, -20.208926723478438],
                  [-40.80732280086383, -20.20864480912984]]]),
            {
              "reference": 13,
              "system:index": "23"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-40.859636605490294, -20.218551778440105],
                  [-40.858349145163146, -20.216618760787167],
                  [-40.86032325099811, -20.21786717076813]]]),
            {
              "reference": 13,
              "system:index": "24"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-40.83852225612506, -20.218068526278504],
                  [-40.839638055075255, -20.21790744189106],
                  [-40.83873683284625, -20.219719631633183]]]),
            {
              "reference": 13,
              "system:index": "25"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-40.90422564815387, -20.22878026365101],
                  [-40.901908219565, -20.22898160503326],
                  [-40.90293818782672, -20.22793462699843]]]),
            {
              "reference": 13,
              "system:index": "26"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-40.932034791220275, -20.2335318507379],
                  [-40.930060685385314, -20.233411049475603],
                  [-40.931047738302794, -20.23176008948221]]]),
            {
              "reference": 13,
              "system:index": "27"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-41.023401559103576, -20.263769478901786],
                  [-41.02425986598834, -20.265500616277677],
                  [-41.02250033687457, -20.264292848052044]]]),
            {
              "reference": 13,
              "system:index": "28"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-41.024174035299865, -20.261474685638728],
                  [-41.025933564413634, -20.262159101215275],
                  [-41.0238736278902, -20.26236039933989]]]),
            {
              "reference": 13,
              "system:index": "29"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-40.994451425024494, -20.29521104082526],
                  [-40.99273481125496, -20.294848780764518],
                  [-40.99372186417244, -20.29376199550019]]]),
            {
              "reference": 13,
              "system:index": "30"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-40.970253972487555, -20.34325456434141],
                  [-40.97059729524146, -20.341403578810862],
                  [-40.97111227937232, -20.34470314624813]]]),
            {
              "reference": 13,
              "system:index": "31"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-40.90944292970191, -20.340759752560107],
                  [-40.91120245881568, -20.340518317024607],
                  [-40.90927126832496, -20.341765729898256]]]),
            {
              "reference": 13,
              "system:index": "32"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-40.85777285523902, -20.363855340971767],
                  [-40.85833075471412, -20.365504893688325],
                  [-40.855412511305914, -20.363493241674487]]]),
            {
              "reference": 13,
              "system:index": "33"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-40.77879477286116, -20.479370057246932],
                  [-40.77724982046858, -20.48198323117806],
                  [-40.77729273581282, -20.480576143054265]]]),
            {
              "reference": 13,
              "system:index": "34"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-40.54005725996441, -20.50255240812931],
                  [-40.54130180494732, -20.501668072900074],
                  [-40.54070099012798, -20.50335634481777]]]),
            {
              "reference": 13,
              "system:index": "35"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-41.07719946164014, -20.5085719018733],
                  [-41.076341154755376, -20.50495427671217],
                  [-41.07874441403272, -20.507205253520002]]]),
            {
              "reference": 13,
              "system:index": "36"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-39.10080841704538, -16.655031096792094],
                  [-39.10406998320749, -16.654208796058874],
                  [-39.105614935600066, -16.66029373787531]]]),
            {
              "reference": 13,
              "system:index": "37"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-39.1076748721235, -16.669338564248985],
                  [-39.111623083793425, -16.674929697645233],
                  [-39.1076748721235, -16.67624523469596]]]),
            {
              "reference": 13,
              "system:index": "38"
            })]),
    agua = /* color: #d63000 */ee.FeatureCollection(
        [ee.Feature(
            ee.Geometry.Polygon(
                [[[-40.75284758324722, -18.193541496816223],
                  [-40.74950018639663, -18.190809892902568],
                  [-40.75029412026504, -18.19103413065714],
                  [-40.753641517115625, -18.193684191366774]]]),
            {
              "reference": 33,
              "system:index": "0"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-40.6828741144667, -18.192369358588017],
                  [-40.68381825203994, -18.19375553859825],
                  [-40.68278828377822, -18.195304785566236]]]),
            {
              "reference": 33,
              "system:index": "1"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-39.789194335138774, -18.706933029073085],
                  [-39.79683326641319, -18.712135917381865],
                  [-39.788164366877055, -18.70839635758223]]]),
            {
              "reference": 33,
              "system:index": "2"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-40.71713488158881, -18.68102471338825],
                  [-40.71672718581855, -18.682732189993],
                  [-40.712306905362006, -18.683240364231494],
                  [-40.71016113815009, -18.68462259044933],
                  [-40.70801537093818, -18.685130759017966],
                  [-40.70687811431586, -18.684907165035543],
                  [-40.70677082595527, -18.683646902524945],
                  [-40.70544045028388, -18.682000416412066],
                  [-40.706084180447455, -18.68143125699759],
                  [-40.70743601379096, -18.68338265274516],
                  [-40.70752184447944, -18.684581936897995],
                  [-40.70891659316718, -18.684053439842945],
                  [-40.71011822280585, -18.68370788318483],
                  [-40.71048300323188, -18.683037094718987],
                  [-40.713293958279486, -18.68248826581716],
                  [-40.71550409850776, -18.682467938786658],
                  [-40.716534066769476, -18.68112634938203],
                  [-40.7144312149018, -18.679398529197755],
                  [-40.71516077575385, -18.679215582499822],
                  [-40.71646969375312, -18.680028677423408]]]),
            {
              "reference": 33,
              "system:index": "3"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-39.09384340574066, -16.454688969671732],
                  [-39.09204096128265, -16.452878022190514],
                  [-39.093671744363704, -16.452384124489132]]]),
            {
              "reference": 33,
              "system:index": "4"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-39.08895105649749, -16.458804696527594],
                  [-39.08732027341644, -16.45699378747029],
                  [-39.08835024167816, -16.456335270893753]]]),
            {
              "reference": 33,
              "system:index": "5"
            })]),
    aflora = /* color: #9a20d2 */ee.FeatureCollection(
        [ee.Feature(
            ee.Geometry.Polygon(
                [[[-40.8221057064483, -19.182389621539986],
                  [-40.81249266933892, -19.1835245296734],
                  [-40.81747084927056, -19.180119781811385]]]),
            {
              "reference": 29,
              "system:index": "0"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-40.83721190762017, -19.137797760083828],
                  [-40.83274871181939, -19.14266291261459],
                  [-40.833435357327204, -19.13617601071356]]]),
            {
              "reference": 29,
              "system:index": "1"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-40.77661544155572, -19.206869475380536],
                  [-40.76889067959283, -19.205572620840535],
                  [-40.775585473294, -19.204275756075287]]]),
            {
              "reference": 29,
              "system:index": "2"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-40.74112393978215, -19.30985273921024],
                  [-40.73803403499699, -19.30612659528495],
                  [-40.7412956011591, -19.307422654975166]]]),
            {
              "reference": 29,
              "system:index": "3"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-40.846349415803836, -19.315522795312898],
                  [-40.855104146028445, -19.317952759156586],
                  [-40.84497612478821, -19.316818780524944]]]),
            {
              "reference": 29,
              "system:index": "4"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-40.95701842674624, -19.282613296860927],
                  [-40.9465470827521, -19.274511527472917],
                  [-40.95719008812319, -19.2803448418245]]]),
            {
              "reference": 29,
              "system:index": "5"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-40.68901772707558, -19.035249184310107],
                  [-40.67871804445839, -19.039143729210817],
                  [-40.68575616091347, -19.034762359775172]]]),
            {
              "reference": 29,
              "system:index": "6"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-40.67834225250624, -18.974118872659183],
                  [-40.67782726837538, -18.982560039782136],
                  [-40.67559567047499, -18.980936771628546]]]),
            {
              "reference": 29,
              "system:index": "7"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-40.66769924713515, -18.954962330640967],
                  [-40.675767331851944, -18.952851729575496],
                  [-40.671990781558975, -18.960482237947716]]]),
            {
              "reference": 29,
              "system:index": "8"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-40.669461431137066, -18.919661908137293],
                  [-40.673752965560894, -18.917226082024055],
                  [-40.66911810838316, -18.92307200506523]]]),
            {
              "reference": 29,
              "system:index": "9"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-40.67976111375425, -18.888967906503854],
                  [-40.670491399398784, -18.89156655863917],
                  [-40.6766712089691, -18.88766856531274]]]),
            {
              "reference": 29,
              "system:index": "10"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-40.66704157867329, -18.83180306975196],
                  [-40.67201975860493, -18.83147812467019],
                  [-40.66240672149556, -18.836189766836753]]]),
            {
              "reference": 29,
              "system:index": "11"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-40.700687208556104, -18.845775113576597],
                  [-40.7058370498647, -18.845775113576597],
                  [-40.700172224425245, -18.84837443531576]]]),
            {
              "reference": 29,
              "system:index": "12"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-40.5879056838979, -18.8519484369778],
                  [-40.58327082672017, -18.836839638143086],
                  [-40.59151057281392, -18.85016144566086],
                  [-40.58996562042134, -18.85113617055634]]]),
            {
              "reference": 29,
              "system:index": "13"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-40.58277495129457, -18.78386065410912],
                  [-40.58414824231019, -18.77703473077412],
                  [-40.58517821057191, -18.785810867124138]]]),
            {
              "reference": 29,
              "system:index": "14"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-40.58843977673402, -18.750378478553458],
                  [-40.59067137463441, -18.742575851891974],
                  [-40.590328051880505, -18.751841430901823]]]),
            {
              "reference": 29,
              "system:index": "15"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-40.5735052369391, -18.675913735888553],
                  [-40.57539351208558, -18.667131891133536],
                  [-40.57522185070863, -18.680467105924745]]]),
            {
              "reference": 29,
              "system:index": "16"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-40.5489576600348, -18.627839922922522],
                  [-40.551875903443005, -18.62832792804209],
                  [-40.54792769177308, -18.63418388018249]]]),
            {
              "reference": 29,
              "system:index": "17"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-40.74998396929385, -19.762682336177047],
                  [-40.75221556719424, -19.75928973482616],
                  [-40.75307387407901, -19.763651637592922]]]),
            {
              "reference": 29,
              "system:index": "18"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-40.754103842340726, -19.741840931086664],
                  [-40.75856703814151, -19.740709924274288],
                  [-40.75376051958682, -19.743941351052634]]]),
            {
              "reference": 29,
              "system:index": "19"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-40.73803555268283, -19.8392758101546],
                  [-40.73803555268283, -19.83378563359301],
                  [-40.74198376435275, -19.838468443151008]]]),
            {
              "reference": 29,
              "system:index": "20"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-41.09932434722104, -20.002083424942125],
                  [-41.09743607207456, -20.006277345712974],
                  [-41.09468949004331, -20.002406038199872]]]),
            {
              "reference": 29,
              "system:index": "21"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-41.10069763823667, -20.052080582514307],
                  [-41.09262955351987, -20.053693129181354],
                  [-41.10035431548276, -20.048694180594783]]]),
            {
              "reference": 29,
              "system:index": "22"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-41.07134354277768, -20.01982617193379],
                  [-41.07649338408628, -20.02337448117292],
                  [-41.07100022002378, -20.02482603914487]]]),
            {
              "reference": 29,
              "system:index": "23"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-41.33278381987729, -20.56233431255341],
                  [-41.32729065581479, -20.568923892882214],
                  [-41.32832062407651, -20.565227334053517]]]),
            {
              "reference": 29,
              "system:index": "24"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-41.32832062407651, -20.543367592579195],
                  [-41.332955481254245, -20.544332058869024],
                  [-41.3276339785687, -20.54802912328046]]]),
            {
              "reference": 29,
              "system:index": "25"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-41.32484420847652, -20.649368133593278],
                  [-41.31660446238277, -20.656114576960995],
                  [-41.32209762644527, -20.647761793423783]]]),
            {
              "reference": 29,
              "system:index": "26"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-41.30578979563472, -20.639569194603652],
                  [-41.30784973215816, -20.63876597488738],
                  [-41.308708039042926, -20.64390650777875]]]),
            {
              "reference": 29,
              "system:index": "27"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-41.419767537436265, -20.676979335611087],
                  [-41.41461769612767, -20.67489146955338],
                  [-41.41993919881322, -20.674570256842248]]]),
            {
              "reference": 29,
              "system:index": "28"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-41.477960744223374, -20.68404574611781],
                  [-41.47881905110814, -20.677621750159922],
                  [-41.48053566487767, -20.68677586206256]]]),
            {
              "reference": 29,
              "system:index": "29"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-41.410497823080796, -20.641963633239722],
                  [-41.3998548177097, -20.638268845588208],
                  [-41.40809456380345, -20.638429490395755]]]),
            {
              "reference": 29,
              "system:index": "30"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-41.022064316833514, -20.401570368695285],
                  [-41.025325882995624, -20.40350107831825],
                  [-41.02515422161867, -20.406879761926863]]]),
            {
              "reference": 29,
              "system:index": "31"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-41.02017604168703, -20.405914431315967],
                  [-41.01966105755617, -20.409453947307245],
                  [-41.017086136901874, -20.409936602275522],
                  [-41.01811610516359, -20.405270874213954]]]),
            {
              "reference": 29,
              "system:index": "32"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-40.99751673992922, -20.44034081409729],
                  [-40.99374018963625, -20.442753589374284],
                  [-40.990993607605, -20.440823372182273]]]),
            {
              "reference": 29,
              "system:index": "33"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-41.18052683875484, -20.258484182354962],
                  [-41.184303389047805, -20.25912835068573],
                  [-41.17898188636226, -20.260416679327808]]]),
            {
              "reference": 29,
              "system:index": "34"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-41.178810224985305, -20.3042134871104],
                  [-41.17640696570796, -20.30018856166157],
                  [-41.18018351600093, -20.301959541746037]]]),
            {
              "reference": 29,
              "system:index": "35"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-41.13606654212398, -20.28537593546298],
                  [-41.13846980140132, -20.284892891205814],
                  [-41.135894880747024, -20.287791134169616]]]),
            {
              "reference": 29,
              "system:index": "36"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-41.281813182940496, -20.183825644384985],
                  [-41.28713468562604, -20.177541848220056],
                  [-41.28490308772565, -20.18640353876158]]]),
            {
              "reference": 29,
              "system:index": "37"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-41.21383527766706, -20.1899480739008],
                  [-41.21435026179792, -20.195264725418614],
                  [-41.21280530940534, -20.19671468979496]]]),
            {
              "reference": 29,
              "system:index": "38"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-41.21963077137714, -20.10111838548408],
                  [-41.21568255970722, -20.103697645210385],
                  [-41.21705585072284, -20.100634769554564]]]),
            {
              "reference": 29,
              "system:index": "39"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-41.03866166503037, -20.076684157928234],
                  [-41.034026807852634, -20.075071847581334],
                  [-41.03814668089951, -20.074104453414193]]]),
            {
              "reference": 29,
              "system:index": "40"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-40.88772421805889, -20.02449517629214],
                  [-40.88532095878155, -20.019172720343054],
                  [-40.890642461467095, -20.02433389239545]]]),
            {
              "reference": 29,
              "system:index": "41"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-40.82293263592807, -19.900861159227606],
                  [-40.82310429730502, -19.90376651753435],
                  [-40.8162378422269, -19.898117160743393]]]),
            {
              "reference": 29,
              "system:index": "42"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-40.692012596876, -19.831656518385728],
                  [-40.686862755567404, -19.830687631014168],
                  [-40.68926601484475, -19.82535864486062]]]),
            {
              "reference": 29,
              "system:index": "43"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-40.98329192111129, -19.742341882553227],
                  [-40.97900038668746, -19.73765624544642],
                  [-40.985351857634726, -19.740403014910324]]]),
            {
              "reference": 29,
              "system:index": "44"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-40.96646910616988, -19.765606457095206],
                  [-40.965610799285116, -19.76027529175112],
                  [-40.96870070407027, -19.765121813065193]]]),
            {
              "reference": 29,
              "system:index": "45"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-41.00602014964746, -19.69092087492924],
                  [-41.00207193797754, -19.68558721727527],
                  [-41.008423408924806, -19.690597628007776]]]),
            {
              "reference": 29,
              "system:index": "46"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-40.985935768543946, -19.66538235808384],
                  [-40.98885401195215, -19.660856120437707],
                  [-40.98885401195215, -19.666028953031525]]]),
            {
              "reference": 29,
              "system:index": "47"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-40.85100992625879, -19.634342735231087],
                  [-40.84122522777246, -19.637899663207776],
                  [-40.84500177806543, -19.634827775503407]]]),
            {
              "reference": 29,
              "system:index": "48"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-40.82783564037012, -19.61251440725914],
                  [-40.828693947254884, -19.604752509629208],
                  [-40.83075388377832, -19.61493992343847]]]),
            {
              "reference": 29,
              "system:index": "49"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-40.83676203197168, -19.491677498150164],
                  [-40.8407102436416, -19.49038290530954],
                  [-40.83676203197168, -19.496208491554537]]]),
            {
              "reference": 29,
              "system:index": "50"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-40.680203815846696, -19.37622901201956],
                  [-40.67702808037306, -19.386916605187736],
                  [-40.677714725880875, -19.37987258848014]]]),
            {
              "reference": 29,
              "system:index": "51"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-40.73582210197951, -19.36440706958971],
                  [-40.72895564690138, -19.36440706958971],
                  [-40.732646366505875, -19.363354389305233]]]),
            {
              "reference": 29,
              "system:index": "52"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-40.733418842702164, -19.355418580737854],
                  [-40.729127308278336, -19.359953375780677],
                  [-40.730929752736344, -19.356147395588103]]]),
            {
              "reference": 29,
              "system:index": "53"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-40.556421864736144, -19.346490633947454],
                  [-40.550413716542785, -19.35102567718594],
                  [-40.55247365306622, -19.3481103067165]]]),
            {
              "reference": 29,
              "system:index": "54"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-40.64623755264321, -19.230124346364207],
                  [-40.641259372711566, -19.23344701925802],
                  [-40.64289015579262, -19.230448512532448]]]),
            {
              "reference": 29,
              "system:index": "55"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-40.64357680130043, -19.243819809359426],
                  [-40.640315235138324, -19.24025423668474],
                  [-40.64168852615395, -19.240578382855613]]]),
            {
              "reference": 29,
              "system:index": "56"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-40.6220292695194, -19.207222527961985],
                  [-40.622715915027214, -19.205196192599317],
                  [-40.622200930896355, -19.212409832720954]]]),
            {
              "reference": 29,
              "system:index": "57"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-39.99144614120588, -16.6955941595932],
                  [-39.99007285019025, -16.68671500754493],
                  [-40.00002921005353, -16.689674770736502]]]),
            {
              "reference": 29,
              "system:index": "58"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-39.95471060653791, -16.689345910423228],
                  [-39.95265067001447, -16.696909554432736],
                  [-39.94990408798322, -16.690990206330294]]]),
            {
              "reference": 29,
              "system:index": "59"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-40.59694985223777, -18.770708203596175],
                  [-40.596606529483864, -18.773308685558593],
                  [-40.58974007440574, -18.776234179812466],
                  [-40.58321694208152, -18.774933966412956],
                  [-40.585620201358864, -18.772658568828863],
                  [-40.590083397159646, -18.773633742983176]]]),
            {
              "reference": 29,
              "system:index": "60"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-41.34061429093482, -19.895192490399122],
                  [-41.335807772380136, -19.890349934644302],
                  [-41.345077486735605, -19.89390115667905]]]),
            {
              "reference": 29,
              "system:index": "61"
            })]),
    varzea = /* color: #3326b9 */ee.FeatureCollection(
        [ee.Feature(
            ee.Geometry.Polygon(
                [[[-40.76095176892349, -18.579347561961473],
                  [-40.75854850964615, -18.57706953736142],
                  [-40.76189590649673, -18.578778058665463]]]),
            {
              "reference": 11,
              "system:index": "0"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-40.75056625561783, -18.577801762874216],
                  [-40.75279785351822, -18.575849154517822],
                  [-40.751596223879545, -18.578371269431962]]]),
            {
              "reference": 11,
              "system:index": "1"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-40.71048086885806, -18.57629686197388],
                  [-40.708163440269196, -18.576052784997806],
                  [-40.70927923921939, -18.57548327069476]]]),
            {
              "reference": 11,
              "system:index": "2"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-40.68029819018244, -18.512155030252586],
                  [-40.678924899166816, -18.512480587913807],
                  [-40.67961154467463, -18.511748082305054]]]),
            {
              "reference": 11,
              "system:index": "3"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-40.68553386217951, -18.539174207480553],
                  [-40.68450389391779, -18.53738391218648],
                  [-40.685705523556464, -18.538197685100194]]]),
            {
              "reference": 11,
              "system:index": "4"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-40.74436137247576, -18.545143946779348],
                  [-40.7478804307033, -18.545632188813258],
                  [-40.74436137247576, -18.54620180275538]]]),
            {
              "reference": 11,
              "system:index": "5"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-40.74058482218279, -18.526101419089816],
                  [-40.738439054970875, -18.525938653298436],
                  [-40.739726515298024, -18.525124822017332]]]),
            {
              "reference": 11,
              "system:index": "6"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-40.68308556177316, -18.47506968148221],
                  [-40.68385803796945, -18.476697816046606],
                  [-40.68334305383859, -18.4779189068249]]]),
            {
              "reference": 11,
              "system:index": "7"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-40.660512090703826, -18.457484843445418],
                  [-40.66094124414621, -18.458787485840386],
                  [-40.65973961450754, -18.459845875507224]]]),
            {
              "reference": 11,
              "system:index": "8"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-40.72932939656538, -18.428600611886125],
                  [-40.72967271931929, -18.426890591288515],
                  [-40.73087434895796, -18.428274894988107]]]),
            {
              "reference": 11,
              "system:index": "9"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-40.72615366109175, -18.418340233262644],
                  [-40.72641115315718, -18.41980603910826],
                  [-40.72495203145308, -18.418747402805796]]]),
            {
              "reference": 11,
              "system:index": "10"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-40.70297937520308, -18.41687441492905],
                  [-40.70186357625288, -18.416304371093624],
                  [-40.7040093434648, -18.416304371093624]]]),
            {
              "reference": 11,
              "system:index": "11"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-40.761819189747605, -18.327698864024267],
                  [-40.7629349886978, -18.32859510654821],
                  [-40.761819189747605, -18.331283806254024]]]),
            {
              "reference": 11,
              "system:index": "12"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-40.801968829962206, -18.315019680378676],
                  [-40.80428625855107, -18.316649328203077],
                  [-40.80153967651982, -18.316160435466838]]]),
            {
              "reference": 11,
              "system:index": "13"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-40.72652365479131, -18.27564958840968],
                  [-40.725837009283495, -18.27467157018827],
                  [-40.72746779236455, -18.27499757687464]]]),
            {
              "reference": 11,
              "system:index": "14"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-40.716824786993456, -18.271900488623185],
                  [-40.7151940039124, -18.2721449976002],
                  [-40.71596648010869, -18.271248463000184]]]),
            {
              "reference": 11,
              "system:index": "15"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-40.66421057495732, -18.30726920511084],
                  [-40.66335226807256, -18.304743107588962],
                  [-40.66421057495732, -18.305639468991643]]]),
            {
              "reference": 11,
              "system:index": "16"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-40.52555408481517, -18.280262370114915],
                  [-40.52452411655345, -18.28172934809886],
                  [-40.52478160861888, -18.280751364154888]]]),
            {
              "reference": 11,
              "system:index": "17"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-40.483754539527084, -18.32780580949375],
                  [-40.482724571265365, -18.329761240531102],
                  [-40.48281040195384, -18.32845762229598]]]),
            {
              "reference": 11,
              "system:index": "18"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-40.48856105808177, -18.356731387021703],
                  [-40.48804607395091, -18.35868649077872],
                  [-40.487960243262435, -18.35762747899171]]]),
            {
              "reference": 11,
              "system:index": "19"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-40.48753108982005, -18.373511973603684],
                  [-40.48632946018138, -18.374815251841138],
                  [-40.48658695224681, -18.373919249110635]]]),
            {
              "reference": 11,
              "system:index": "20"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-40.38652013789268, -18.38005665791399],
                  [-40.38480352412315, -18.381034080423664],
                  [-40.385404338942486, -18.380301014060823]]]),
            {
              "reference": 11,
              "system:index": "21"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-40.331723205385664, -18.400291918003745],
                  [-40.32957743817375, -18.40338670684392],
                  [-40.32983493023918, -18.401594993767446]]]),
            {
              "reference": 11,
              "system:index": "22"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-40.25113869484609, -18.35926092917221],
                  [-40.25199700173086, -18.357713145673085],
                  [-40.25208283241933, -18.359668238313176]]]),
            {
              "reference": 11,
              "system:index": "23"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-40.281407710167045, -18.307788648207794],
                  [-40.27909028157818, -18.307625675774887],
                  [-40.280635233970756, -18.307218244021605]]]),
            {
              "reference": 11,
              "system:index": "24"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-40.18770772739803, -18.240923331978685],
                  [-40.18513280674373, -18.243205809428876],
                  [-40.18642026707088, -18.24124940202066]]]),
            {
              "reference": 11,
              "system:index": "25"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-40.23619730307588, -18.228466614303976],
                  [-40.23782808615694, -18.22610241888665],
                  [-40.23696977927217, -18.229607938524293]]]),
            {
              "reference": 11,
              "system:index": "26"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-40.31182929028074, -18.124967461979807],
                  [-40.31011267651121, -18.123417591070382],
                  [-40.31217261303465, -18.124151742159096]]]),
            {
              "reference": 11,
              "system:index": "27"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-40.30972028803816, -18.09305457091184],
                  [-40.30791784358015, -18.092646637180035],
                  [-40.308776150464915, -18.09199394123545]]]),
            {
              "reference": 11,
              "system:index": "28"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-40.27238393855085, -18.062783312288115],
                  [-40.27461553645124, -18.061396094517672],
                  [-40.27538801264753, -18.063109714877548]]]),
            {
              "reference": 11,
              "system:index": "29"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-40.318828343470216, -17.981937604823504],
                  [-40.31968665035498, -17.981529413387115],
                  [-40.320373295862794, -17.98365199854902]]]),
            {
              "reference": 11,
              "system:index": "30"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-40.26681494625342, -17.96154197179196],
                  [-40.265441655237794, -17.962929975882044],
                  [-40.26406836422217, -17.962603387665077]]]),
            {
              "reference": 11,
              "system:index": "31"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-39.80308719365434, -17.74416994812424],
                  [-39.794246632741256, -17.74416994812424],
                  [-39.795791585133834, -17.742780236092933]]]),
            {
              "reference": 11,
              "system:index": "32"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-39.859907109425826, -17.759129106262172],
                  [-39.85698886601762, -17.76607692376203],
                  [-39.857675511525436, -17.761499568447167]]]),
            {
              "reference": 11,
              "system:index": "33"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-39.820297459016395, -17.60884789060655],
                  [-39.82385943258817, -17.611056720161727],
                  [-39.819267490754676, -17.611343047939894],
                  [-39.81849501455839, -17.60770256093748]]]),
            {
              "reference": 11,
              "system:index": "34"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-39.78007807349452, -19.162353797589667],
                  [-39.8010207614828, -19.155543356703458],
                  [-39.786257883064835, -19.179865067995287]]]),
            {
              "reference": 11,
              "system:index": "35"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-39.8669387302328, -19.131218058519547],
                  [-39.859385629646866, -19.161380894683354],
                  [-39.85286249732265, -19.137705155202468]]]),
            {
              "reference": 11,
              "system:index": "36"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-39.936357262167824, -19.059607041369826],
                  [-39.91816115621079, -19.057984525524287],
                  [-39.925370934042824, -19.054739446215546]]]),
            {
              "reference": 11,
              "system:index": "37"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-39.965539696249856, -19.02488173914845],
                  [-39.97137618306626, -19.023258883872273],
                  [-39.9679429555272, -19.0294256495985]]]),
            {
              "reference": 11,
              "system:index": "38"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-39.80246138814439, -19.00605564381078],
                  [-39.808984520468606, -19.019688546479927],
                  [-39.79731154683579, -19.02066228246619]]]),
            {
              "reference": 11,
              "system:index": "39"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-39.76915908101548, -19.073884496191656],
                  [-39.77636885884751, -19.061878536884862],
                  [-39.78220534566392, -19.076155796066015]]]),
            {
              "reference": 11,
              "system:index": "40"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-40.00237586709016, -19.66159000460818],
                  [-40.003749158105784, -19.66773269661819],
                  [-40.00031593056672, -19.66805598967823]]]),
            {
              "reference": 11,
              "system:index": "41"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-39.9498474857425, -19.63701688409027],
                  [-39.96117713662141, -19.64574723942049],
                  [-39.954997327051096, -19.645100562715555]]]),
            {
              "reference": 11,
              "system:index": "42"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-39.90075233193391, -19.58818281781291],
                  [-39.90452888222688, -19.58591862735563],
                  [-39.90178230019563, -19.593681433503956]]]),
            {
              "reference": 11,
              "system:index": "43"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-39.17684035581535, -16.622537538223746],
                  [-39.15658431333488, -16.634709239667917],
                  [-39.16207747739738, -16.62681416996979]]]),
            {
              "reference": 11,
              "system:index": "44"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-39.13392501157707, -16.645728897625315],
                  [-39.12774520200676, -16.64490655696501],
                  [-39.13375335020012, -16.64161715903911]]]),
            {
              "reference": 11,
              "system:index": "45"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-39.13358168882316, -16.638821126419394],
                  [-39.12808852476066, -16.635038193852868],
                  [-39.13684325498527, -16.633393417285493]]]),
            {
              "reference": 11,
              "system:index": "46"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-39.24670653623527, -16.600001405069605],
                  [-39.238638451518476, -16.602633498589288],
                  [-39.24207167905754, -16.594243574831285]]]),
            {
              "reference": 11,
              "system:index": "47"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-39.29889159482902, -16.575652831828474],
                  [-39.29065184873527, -16.579601458466154],
                  [-39.29374175352043, -16.5751592478031]]]),
            {
              "reference": 11,
              "system:index": "48"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-39.300608208598554, -16.56972974000239],
                  [-39.29168181699699, -16.572855838951323],
                  [-39.29665999692863, -16.568413472630194]]]),
            {
              "reference": 11,
              "system:index": "49"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-39.245161583842695, -16.590953308699742],
                  [-39.25734954160637, -16.584866167953606],
                  [-39.247393181743085, -16.593091988089533]]]),
            {
              "reference": 11,
              "system:index": "50"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-39.33099227231926, -16.56100930104943],
                  [-39.31537108701652, -16.567426266197046],
                  [-39.319319298686445, -16.563312851593775]]]),
            {
              "reference": 11,
              "system:index": "51"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-39.104792457408195, -16.652556773265143],
                  [-39.10994229871679, -16.652392311276408],
                  [-39.10788236219335, -16.655023686151186]]]),
            {
              "reference": 11,
              "system:index": "52"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-39.20170797652116, -16.846577981995594],
                  [-39.192695754231124, -16.85101387864199],
                  [-39.19612898177019, -16.843620659788012]]]),
            {
              "reference": 11,
              "system:index": "53"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-39.1583634788405, -16.84247057755988],
                  [-39.159994261921554, -16.850685297272115],
                  [-39.15441526717058, -16.849699549738087],
                  [-39.15407194441667, -16.84296347079913]]]),
            {
              "reference": 11,
              "system:index": "54"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-39.25045980757585, -16.848795943319708],
                  [-39.24376501387468, -16.851342459441106],
                  [-39.243335860432296, -16.849206674044915],
                  [-39.24874319380632, -16.847563745793998]]]),
            {
              "reference": 11,
              "system:index": "55"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-39.302816527546554, -16.831708755267766],
                  [-39.299297469319015, -16.839677491625682],
                  [-39.29526342696062, -16.83902028894571]]]),
            {
              "reference": 11,
              "system:index": "56"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-39.32839407271257, -16.838609536112127],
                  [-39.32187094038835, -16.83910243940548],
                  [-39.324274199665695, -16.83680221305691]]]),
            {
              "reference": 11,
              "system:index": "57"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-39.31886686629167, -16.815277312794958],
                  [-39.31337370222917, -16.820617687875934],
                  [-39.31938185042253, -16.8102654393489]]]),
            {
              "reference": 11,
              "system:index": "58"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-39.532874878638346, -17.231422332897306],
                  [-39.505409058325846, -17.235357247837683],
                  [-39.520171936743814, -17.22781525390379]]]),
            {
              "reference": 11,
              "system:index": "59"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-39.37563305734928, -17.290765054661],
                  [-39.36979657053288, -17.30322132027914],
                  [-39.365333374732096, -17.299615645907487],
                  [-39.36979657053288, -17.28879819880141]]]),
            {
              "reference": 11,
              "system:index": "60"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-39.29048901438053, -17.32944227936557],
                  [-39.28362255930241, -17.318954344704256],
                  [-39.302161988013346, -17.32649260827196]]]),
            {
              "reference": 11,
              "system:index": "61"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-39.41683178781803, -17.177636768803097],
                  [-39.42747479318913, -17.17599671955337],
                  [-39.42541485666569, -17.184196820672316]]]),
            {
              "reference": 11,
              "system:index": "62"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-39.40447216867741, -17.24027577361974],
                  [-39.392799195044596, -17.234045618838284],
                  [-39.406532105200846, -17.226175649264068]]]),
            {
              "reference": 11,
              "system:index": "63"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-39.519811458724675, -17.98134468241037],
                  [-39.529767818587956, -17.98297744420127],
                  [-39.53560430540436, -17.985916377365214],
                  [-39.516034908431706, -17.98461019088945]]]),
            {
              "reference": 11,
              "system:index": "64"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-40.00118816339369, -19.64307349596305],
                  [-40.0015314861476, -19.65956314617907],
                  [-39.99706829034682, -19.648893566010948]]]),
            {
              "reference": 11,
              "system:index": "65"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-40.30880404996161, -20.212373517277978],
                  [-40.302624240391296, -20.22526019957964],
                  [-40.30245257901434, -20.214306587671363]]]),
            {
              "reference": 11,
              "system:index": "66"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-40.397784053047545, -20.224594180511488],
                  [-40.38748437043036, -20.223466633600566],
                  [-40.392290888985045, -20.22040610792298]]]),
            {
              "reference": 11,
              "system:index": "67"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-40.36328011627997, -20.20220279037577],
                  [-40.35967522736395, -20.208646686041707],
                  [-40.359331904610045, -20.20268609180241]]]),
            {
              "reference": 11,
              "system:index": "68"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-40.40121728058661, -20.195275305093904],
                  [-40.405508815010435, -20.199625157432198],
                  [-40.40207558747137, -20.199141846505217]]]),
            {
              "reference": 11,
              "system:index": "69"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-40.4199283706745, -20.203169391728895],
                  [-40.41392022248114, -20.202363891018003],
                  [-40.413748561104185, -20.199625157432198]]]),
            {
              "reference": 11,
              "system:index": "70"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-40.35459294368077, -20.401559344728067],
                  [-40.35167470027257, -20.406225185225274],
                  [-40.35167470027257, -20.400593980773213]]]),
            {
              "reference": 11,
              "system:index": "71"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-40.44964102804556, -20.438259625283195],
                  [-40.446036139129546, -20.441315842279387],
                  [-40.4436328798522, -20.43809877007413]]]),
            {
              "reference": 11,
              "system:index": "72"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-40.50931927155265, -20.479216078677357],
                  [-40.50846096466788, -20.488221299465597],
                  [-40.50571438263663, -20.481789052852406]]]),
            {
              "reference": 11,
              "system:index": "73"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-40.504970298126544, -20.51818088197906],
                  [-40.49982045681795, -20.517216250818905],
                  [-40.5051419595035, -20.51142833623489]]]),
            {
              "reference": 11,
              "system:index": "74"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-40.41416142971834, -20.535543203310016],
                  [-40.413303122833575, -20.54679550726445],
                  [-40.40969823391756, -20.54711698949513]]]),
            {
              "reference": 11,
              "system:index": "75"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-40.38824056179842, -20.518020110541098],
                  [-40.3901288369449, -20.526058475599417],
                  [-40.38755391629061, -20.529434463028455]]]),
            {
              "reference": 11,
              "system:index": "76"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-40.441283927276935, -20.585550729618486],
                  [-40.438537345245685, -20.592621387523234],
                  [-40.43613408596834, -20.592460694393008],
                  [-40.43836568386873, -20.586514929542613]]]),
            {
              "reference": 11,
              "system:index": "77"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-40.65654729397615, -20.759971407960023],
                  [-40.65689061673006, -20.76783648783279],
                  [-40.652255759552325, -20.76414476662386]]]),
            {
              "reference": 11,
              "system:index": "78"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-40.69929097683748, -20.757884685414773],
                  [-40.69276784451326, -20.76029243964089],
                  [-40.69757436306795, -20.756921572985892]]]),
            {
              "reference": 11,
              "system:index": "79"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-40.69808934719881, -20.73492883676033],
                  [-40.69465611965975, -20.739263424610787],
                  [-40.69276784451326, -20.73717641632901]]]),
            {
              "reference": 11,
              "system:index": "80"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-40.63062642605623, -20.704743821632434],
                  [-40.62822316677889, -20.702656337642267],
                  [-40.631484732941, -20.70201402909336]]]),
            {
              "reference": 11,
              "system:index": "81"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-39.49200901539847, -17.69079045598063],
                  [-39.50076374562308, -17.676316267207667],
                  [-39.495957227068395, -17.692589426225652]]]),
            {
              "reference": 11,
              "system:index": "82"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-39.50869794473468, -17.64331034483216],
                  [-39.514534431551084, -17.64265599668298],
                  [-39.5086121140462, -17.649362952527646]]]),
            {
              "reference": 11,
              "system:index": "83"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-39.48475118264972, -17.64895399895564],
                  [-39.489557701204404, -17.642328821717104],
                  [-39.48835607156573, -17.650180856885523]]]),
            {
              "reference": 11,
              "system:index": "84"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-39.29422651662834, -17.24762442444958],
                  [-39.29130827322014, -17.249919600264615],
                  [-39.29225241079338, -17.246476825837618]]]),
            {
              "reference": 11,
              "system:index": "85"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-39.263155807399826, -17.257952490780262],
                  [-39.26856314077385, -17.260493434336748],
                  [-39.26564489736565, -17.26254255686347]]]),
            {
              "reference": 11,
              "system:index": "86"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-39.25234114065178, -17.272214107734822],
                  [-39.24650465383537, -17.27147646495289],
                  [-39.24830709829338, -17.268853711149127]]]),
            {
              "reference": 11,
              "system:index": "87"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-39.2447696852413, -17.229381870542962],
                  [-39.247430436584075, -17.228398117845884],
                  [-39.24854623553427, -17.231431338504738]]]),
            {
              "reference": 11,
              "system:index": "88"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-39.242194764587005, -17.220117991773005],
                  [-39.241937272521575, -17.21806839834635],
                  [-39.247430436584075, -17.216264737335646]]]),
            {
              "reference": 11,
              "system:index": "89"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-39.18330777402906, -16.616650032821017],
                  [-39.18433774229078, -16.614018131352857],
                  [-39.188972599468514, -16.618130461542233]]]),
            {
              "reference": 11,
              "system:index": "90"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-39.073045459267945, -15.9435082633403],
                  [-39.07218715238318, -15.950275530366964],
                  [-39.06944057035193, -15.949285212873555]]]),
            {
              "reference": 11,
              "system:index": "91"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-39.10703034817354, -15.972994406967638],
                  [-39.11321015774385, -15.958470906755458],
                  [-39.1379293960251, -15.979925706118642]]]),
            {
              "reference": 11,
              "system:index": "92"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-39.20007081448213, -16.02183844261156],
                  [-39.195607700742826, -16.025963295616503],
                  [-39.18839784084932, -16.0274481413699],
                  [-39.184277967802444, -16.01457859833529]]]),
            {
              "reference": 11,
              "system:index": "93"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-38.95837159573213, -15.892111539975241],
                  [-38.95459504543916, -15.865693757379162],
                  [-38.97382111965791, -15.874279916745847]]]),
            {
              "reference": 11,
              "system:index": "94"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-39.17466493069307, -15.966723024723958],
                  [-39.18839784084932, -15.984546438829637],
                  [-39.17947144924776, -15.981245926355262],
                  [-39.17466484350581, -15.973984488874716]]]),
            {
              "reference": 11,
              "system:index": "95"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-39.022229627958694, -15.94856791655774],
                  [-39.019483045927444, -15.96078153405389],
                  [-39.00815339504854, -15.955830157214116]]]),
            {
              "reference": 11,
              "system:index": "96"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-39.16608186184541, -16.007648500674023],
                  [-39.16264863430635, -16.010948577177437],
                  [-39.15475221096651, -16.003028301958487]]]),
            {
              "reference": 11,
              "system:index": "97"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-39.093640760771194, -15.941965651318043],
                  [-39.087117628446975, -15.956820442370422],
                  [-39.07475800930635, -15.939324684366463]]]),
            {
              "reference": 11,
              "system:index": "98"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-39.11698670803682, -16.02183844261156],
                  [-39.11321015774385, -16.02513828451491],
                  [-39.107373670927444, -16.01919852979459]]]),
            {
              "reference": 11,
              "system:index": "99"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-39.06377168118135, -16.009628553120496],
                  [-39.07304139553682, -16.000058117785454],
                  [-39.07681794582979, -16.008968537819737]]]),
            {
              "reference": 11,
              "system:index": "100"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-39.150289015165725, -15.99576777381262],
                  [-39.14548249661104, -15.999068046582572],
                  [-39.13312287747041, -15.98157598005316]]]),
            {
              "reference": 11,
              "system:index": "101"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-39.03802247463838, -15.977285239511415],
                  [-39.04626222073213, -15.988176939648367],
                  [-39.04008241116182, -15.991147300384743]]]),
            {
              "reference": 11,
              "system:index": "102"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-38.95459504543916, -15.928100187015605],
                  [-38.95425172268526, -15.91291310351822],
                  [-38.95974488674776, -15.91918616849943]]]),
            {
              "reference": 11,
              "system:index": "103"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-38.94051881252901, -15.992467446547314],
                  [-38.93811555325166, -15.981906033206558],
                  [-38.94360871731416, -15.982896189399472]]]),
            {
              "reference": 11,
              "system:index": "104"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-39.00209434820506, -16.231074258536594],
                  [-39.002780993712875, -16.22481102405039],
                  [-39.01033409429881, -16.23700766525401]]]),
            {
              "reference": 11,
              "system:index": "105"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-38.99046428991649, -16.2105737862094],
                  [-38.98737438513133, -16.2010130376305],
                  [-38.99218090368602, -16.2000239682128]]]),
            {
              "reference": 11,
              "system:index": "106"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-39.004540522826645, -16.21452982238509],
                  [-39.00007732702586, -16.221452694552955],
                  [-38.99561413122508, -16.216178147349652]]]),
            {
              "reference": 11,
              "system:index": "107"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-39.05741222692821, -16.25078978390692],
                  [-39.0570689041743, -16.25804097411906],
                  [-39.04985912634227, -16.25474501173676]]]),
            {
              "reference": 11,
              "system:index": "108"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-39.10753734899852, -16.262605769612417],
                  [-39.106164057982895, -16.257661920174538],
                  [-39.110627253783676, -16.257052191209556]]]),
            {
              "reference": 11,
              "system:index": "109"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-39.1002807073764, -16.464566567388573],
                  [-39.099679891299786, -16.466089298157154],
                  [-39.09856409360687, -16.467941297945224],
                  [-39.09229845334808, -16.46152102840826]]]),
            {
              "reference": 11,
              "system:index": "110"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-39.119592612283625, -16.464772345323976],
                  [-39.108606284158625, -16.462138371256415],
                  [-39.119592612283625, -16.458681225992628],
                  [-39.11942095090667, -16.461973746689086]]]),
            {
              "reference": 11,
              "system:index": "111"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-39.07478899289886, -16.483538374407022],
                  [-39.074445670144954, -16.480904655428283],
                  [-39.076162283914485, -16.48222151939516]]]),
            {
              "reference": 11,
              "system:index": "112"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-39.099164908426204, -16.4553886493983],
                  [-39.09779161741058, -16.458681225992628],
                  [-39.09693331052581, -16.457528830542497]]]),
            {
              "reference": 11,
              "system:index": "113"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-39.17299202605417, -16.61724273453014],
                  [-39.17668274565866, -16.613952862213733],
                  [-39.18260506316354, -16.61839417652283]]]),
            {
              "reference": 11,
              "system:index": "114"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-39.14664200469186, -16.632992217063627],
                  [-39.13720062895944, -16.63003157750366],
                  [-39.146127020561, -16.629702614731745]]]),
            {
              "reference": 11,
              "system:index": "115"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-39.33495453520944, -16.787786229964205],
                  [-39.33976105376413, -16.781541003768844],
                  [-39.341820990287566, -16.78384190046556]]]),
            {
              "reference": 11,
              "system:index": "116"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-39.26560333892038, -16.632252061457915],
                  [-39.26937988921335, -16.624027918128228],
                  [-39.27349976226022, -16.627646584626802]]]),
            {
              "reference": 11,
              "system:index": "117"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-39.21553671737775, -16.94666949231789],
                  [-39.21176016708478, -16.948639968819588],
                  [-39.20901358505353, -16.94437057696704]]]),
            {
              "reference": 11,
              "system:index": "118"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-39.165282849274725, -16.924500209272036],
                  [-39.16184962173566, -16.918916422646998],
                  [-39.16768610855207, -16.918916422646998]]]),
            {
              "reference": 11,
              "system:index": "119"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-39.29368555923566, -17.449530889817442],
                  [-39.30055201431379, -17.442980301302406],
                  [-39.30604517837629, -17.44592809526017]]]),
            {
              "reference": 11,
              "system:index": "120"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-39.22879755874738, -17.473111058794085],
                  [-39.22605097671613, -17.46492384609222],
                  [-39.2408138551341, -17.46361385789652]]]),
            {
              "reference": 11,
              "system:index": "121"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-39.46328699966535, -17.521571810021946],
                  [-39.45607722183332, -17.515678625278465],
                  [-39.45848048111066, -17.512404551087734]]]),
            {
              "reference": 11,
              "system:index": "122"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-39.45161402603254, -17.507820748043418],
                  [-39.449897412263006, -17.513386779544103],
                  [-39.439941052399725, -17.514696409220534]]]),
            {
              "reference": 11,
              "system:index": "123"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-39.30638850113019, -17.57689292639613],
                  [-39.3122249879466, -17.589984207880583],
                  [-39.301581982575506, -17.598820286884052]]]),
            {
              "reference": 11,
              "system:index": "124"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-39.33008889032371, -17.750402762704294],
                  [-39.33661202264793, -17.766097038225485],
                  [-39.3297455675698, -17.76446228210296]]]),
            {
              "reference": 11,
              "system:index": "125"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-39.30708626581199, -17.750075783992664],
                  [-39.31498268915183, -17.755634340846985],
                  [-39.31360939813621, -17.762827511036868]]]),
            {
              "reference": 11,
              "system:index": "126"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-39.36304787469871, -17.802057889786536],
                  [-39.34176186395652, -17.780809170671496],
                  [-39.35068825555808, -17.778520696276637]]]),
            {
              "reference": 11,
              "system:index": "127"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-39.37781075311668, -17.837031038728483],
                  [-39.38845375848777, -17.84944975736903],
                  [-39.381587303409646, -17.850756940500485]]]),
            {
              "reference": 11,
              "system:index": "128"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-39.39463356805808, -17.822160117733464],
                  [-39.39394692255027, -17.828696939209625],
                  [-39.38193062616355, -17.81987217356708]]]),
            {
              "reference": 11,
              "system:index": "129"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-39.5769379503823, -17.9819164809372],
                  [-39.577624595890114, -17.978977481177367],
                  [-39.58346108270652, -17.984202335811222]]]),
            {
              "reference": 11,
              "system:index": "130"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-39.40836647821433, -17.838828538472406],
                  [-39.40939644647605, -17.834253048887653],
                  [-39.41523293329246, -17.838828538472406]]]),
            {
              "reference": 11,
              "system:index": "131"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-39.7142670519448, -18.356724515313967],
                  [-39.709460533390114, -18.369432294449172],
                  [-39.70431069208152, -18.363893121133756]]]),
            {
              "reference": 11,
              "system:index": "132"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-39.769885338077614, -18.39289035068476],
                  [-39.77400521112449, -18.383116548440558],
                  [-39.78052834344871, -18.385722949895843]]]),
            {
              "reference": 11,
              "system:index": "133"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-39.75409249139793, -18.39289035068476],
                  [-39.75649575067527, -18.39712549284465],
                  [-39.74379280878074, -18.400708993350307]]]),
            {
              "reference": 11,
              "system:index": "134"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-39.81760720087058, -18.340431122662686],
                  [-39.811084068546364, -18.358353770047025],
                  [-39.81039742303855, -18.35346595973005]]]),
            {
              "reference": 11,
              "system:index": "135"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-39.760615623722146, -18.438819791352014],
                  [-39.75752571893699, -18.440773963601064],
                  [-39.749629295597146, -18.431980013494776]]]),
            {
              "reference": 11,
              "system:index": "136"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-39.73555306268699, -18.426768571513723],
                  [-39.73829964471824, -18.426768571513723],
                  [-39.74276284051902, -18.431654302998684]]]),
            {
              "reference": 11,
              "system:index": "137"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-39.731433189640114, -18.4261171301605],
                  [-39.728686607608864, -18.417648168038845],
                  [-39.73452309442527, -18.417648168038845]]]),
            {
              "reference": 11,
              "system:index": "138"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-39.722163475284646, -18.41276203871625],
                  [-39.72182015253074, -18.41634521378495],
                  [-39.71255043817527, -18.41439076390527]]]),
            {
              "reference": 11,
              "system:index": "139"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-39.69366768671043, -18.37203890271897],
                  [-39.69366768671043, -18.36715147991047],
                  [-39.6977875597573, -18.369106465646567]]]),
            {
              "reference": 11,
              "system:index": "140"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-39.77915505243308, -18.49483057561901],
                  [-39.77675179315574, -18.48831863352737],
                  [-39.78293160272605, -18.48766742570557]]]),
            {
              "reference": 11,
              "system:index": "141"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-39.72662667108543, -18.351836658881545],
                  [-39.724910057315896, -18.34564517549771],
                  [-39.733149803409646, -18.347274534743935]]]),
            {
              "reference": 11,
              "system:index": "142"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-39.81692055536277, -18.810604931660237],
                  [-39.81692055536277, -18.804105091156988],
                  [-39.83648995233543, -18.802805092923375]]]),
            {
              "reference": 11,
              "system:index": "143"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-40.04488686395652, -18.98697937718664],
                  [-40.044543541202614, -18.983732911202406],
                  [-40.0548432238198, -18.983732911202406]]]),
            {
              "reference": 11,
              "system:index": "144"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-39.99888161493308, -19.000613843075932],
                  [-39.99579171014793, -18.997692265835134],
                  [-40.00162819696433, -18.997367642975522]]]),
            {
              "reference": 11,
              "system:index": "145"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-40.47750088761451, -19.53450398393791],
                  [-40.47303769181373, -19.537416008470572],
                  [-40.46754452775123, -19.535798223546834]]]),
            {
              "reference": 11,
              "system:index": "146"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-40.492607088786386, -19.524796856282798],
                  [-40.48608395646217, -19.529974063625883],
                  [-40.48574063370826, -19.527061904910184]]]),
            {
              "reference": 11,
              "system:index": "147"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-40.457931490641855, -19.537416008470572],
                  [-40.45552823136451, -19.533533297424135],
                  [-40.46273800919654, -19.533533297424135]]]),
            {
              "reference": 11,
              "system:index": "148"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-40.059677096110605, -19.678747667765755],
                  [-40.06208035538795, -19.672605397885373],
                  [-40.0648269374192, -19.673898526899915]]]),
            {
              "reference": 11,
              "system:index": "149"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-40.056930514079355, -19.67648475362433],
                  [-40.05521390030982, -19.682303611123057],
                  [-40.05281064103248, -19.680364015440688]]]),
            {
              "reference": 11,
              "system:index": "150"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-40.102592440348886, -19.756637054590737],
                  [-40.10705563614967, -19.748882137317384],
                  [-40.110832186442636, -19.750820901969956]]]),
            {
              "reference": 11,
              "system:index": "151"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-40.045944185954355, -19.701698275871482],
                  [-40.045944185954355, -19.705900143480285],
                  [-40.03839108536842, -19.706869789563523]]]),
            {
              "reference": 11,
              "system:index": "152"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-40.657402010661386, -20.740011039366603],
                  [-40.65431210587623, -20.741616402833344],
                  [-40.649517483034195, -20.735837014642254]]]),
            {
              "reference": 11,
              "system:index": "153"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-39.44321285509242, -17.248067112529014],
                  [-39.44063793443812, -17.249050760442717],
                  [-39.43651806139125, -17.245935857396596]]]),
            {
              "reference": 11,
              "system:index": "154"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-39.40046917223109, -17.249050760442717],
                  [-39.397894251576794, -17.255772214175735],
                  [-39.39549099229945, -17.245935857396596]]]),
            {
              "reference": 11,
              "system:index": "155"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-40.12910659479102, -19.773664603209767],
                  [-40.12678916620215, -19.773987682079284],
                  [-40.126703335513675, -19.772291510707777]]]),
            {
              "reference": 11,
              "system:index": "156"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-40.021045757999026, -19.7566212645891],
                  [-40.02027328180274, -19.7566212645891],
                  [-40.019586636294925, -19.754197893190412]]]),
            {
              "reference": 11,
              "system:index": "157"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-40.33352747433207, -20.201472754491395],
                  [-40.33078089230082, -20.202439360376477],
                  [-40.329750924039104, -20.19663963506551]]]),
            {
              "reference": 11,
              "system:index": "158"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-40.28863802425883, -20.210413629946455],
                  [-40.287779717374065, -20.211299634682064],
                  [-40.28408899776957, -20.20960816671902],
                  [-40.28408899776957, -20.207030656380983]]]),
            {
              "reference": 11,
              "system:index": "159"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-40.375670342374065, -20.210494176039933],
                  [-40.37258043758891, -20.21307162902112],
                  [-40.37395372860453, -20.20759449041445]]]),
            {
              "reference": 11,
              "system:index": "160"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-40.67039642080931, -20.759807443029974],
                  [-40.669023129793686, -20.76133233909543],
                  [-40.66842231497435, -20.7577207182212]]]),
            {
              "reference": 11,
              "system:index": "161"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-40.68412933096556, -20.749534058131875],
                  [-40.68258437857298, -20.7512195832081],
                  [-40.68189773306517, -20.748731420540434]]]),
            {
              "reference": 11,
              "system:index": "162"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-40.6821552251306, -20.732998863975993],
                  [-40.679322812410874, -20.73404240051902],
                  [-40.68146857962279, -20.731714501431423]]]),
            {
              "reference": 11,
              "system:index": "163"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-40.673057172152085, -20.740544273819328],
                  [-40.670568082186264, -20.74166802607415],
                  [-40.669795605989975, -20.73869809128187]]]),
            {
              "reference": 11,
              "system:index": "164"
            })]),
    flor = /* color: #ffb337 */ee.FeatureCollection(
        [ee.Feature(
            ee.Geometry.Polygon(
                [[[-40.62406697128952, -19.825308032423845],
                  [-40.62569775437058, -19.82587323657689],
                  [-40.6270710453862, -19.82490431394098],
                  [-40.62792935227097, -19.82684215330538],
                  [-40.624152801978, -19.826680667594218]]]),
            {
              "reference": 3,
              "system:index": "0"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-40.736173106775674, -19.898536252278415],
                  [-40.737117244348916, -19.897406359714864],
                  [-40.73784680520097, -19.898294133122313]]]),
            {
              "reference": 3,
              "system:index": "1"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-40.62165703005103, -19.92542244476687],
                  [-40.61955417818336, -19.922477137189198],
                  [-40.623073236410896, -19.924857595512037]]]),
            {
              "reference": 3,
              "system:index": "2"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-41.01349163311841, -20.513716821602216],
                  [-41.0133628870857, -20.512591385180336],
                  [-41.0143713976753, -20.50702437267722],
                  [-41.01383495587232, -20.513957985473652]]]),
            {
              "reference": 3,
              "system:index": "3"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-40.87408930478653, -20.491806987150042],
                  [-40.861386362892, -20.488912577243315],
                  [-40.866450373512116, -20.488028163318074]]]),
            {
              "reference": 3,
              "system:index": "4"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-40.686930665994964, -20.486120810074212],
                  [-40.681437501932464, -20.48885447063479],
                  [-40.68298245432504, -20.487005235000012]]]),
            {
              "reference": 3,
              "system:index": "5"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-40.60400446434535, -20.439900624912394],
                  [-40.60177286644496, -20.437085664501993],
                  [-40.60554941673793, -20.438694219618867]]]),
            {
              "reference": 3,
              "system:index": "6"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-39.001634326455445, -15.979157637281709],
                  [-39.00403758573279, -15.969255669871663],
                  [-39.00832912015662, -15.969585743343629]]]),
            {
              "reference": 3,
              "system:index": "7"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-39.00094768094763, -16.0052304733015],
                  [-39.00781413602576, -16.009685617639455],
                  [-39.00403758573279, -16.01562565547129]]]),
            {
              "reference": 3,
              "system:index": "8"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-39.13071961819307, -15.934537843155253],
                  [-39.11904664456026, -15.937178873118174],
                  [-39.11218018948213, -15.906804931039025]]]),
            {
              "reference": 3,
              "system:index": "9"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-40.02303183456525, -16.961119173659863],
                  [-40.0257784165965, -16.967358465273115],
                  [-40.020285252534, -16.968671973937635]]]),
            {
              "reference": 3,
              "system:index": "10"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-40.107440847537156, -17.613548220987834],
                  [-40.11053075232231, -17.609621448405886],
                  [-40.11362065710747, -17.615838798872343]]]),
            {
              "reference": 3,
              "system:index": "11"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-40.492236412296364, -17.71148810484249],
                  [-40.4942963488198, -17.70461993541547],
                  [-40.4997895128823, -17.70952579754529]]]),
            {
              "reference": 3,
              "system:index": "12"
            })]),
    agric = /* color: #0c0c05 */ee.FeatureCollection(
        [ee.Feature(
            ee.Geometry.Polygon(
                [[[-40.953623409800066, -20.182866739943442],
                  [-40.95351612143947, -20.18457863821636],
                  [-40.952185745768084, -20.182947300283754]]]),
            {
              "reference": 21,
              "system:index": "0"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-40.96654092841579, -20.190278116940686],
                  [-40.96654092841579, -20.19070103814876],
                  [-40.965618248514666, -20.19043922991722],
                  [-40.96572553687526, -20.189955890487813]]]),
            {
              "reference": 21,
              "system:index": "1"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-39.86416221528385, -16.422064856949167],
                  [-39.864505538037754, -16.42437006201028],
                  [-39.853519209912754, -16.42634593030298]]]),
            {
              "reference": 21,
              "system:index": "2"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-39.157154798600004, -16.445093733216826],
                  [-39.14968752870254, -16.437026256486043],
                  [-39.15698313722305, -16.43669696460188]]]),
            {
              "reference": 21,
              "system:index": "3"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-39.346814755402654, -17.52582787999601],
                  [-39.34484064956769, -17.533275762206383],
                  [-39.33136523147687, -17.52844695035852]]]),
            {
              "reference": 21,
              "system:index": "4"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-39.395835197696755, -17.88588388775053],
                  [-39.38905457330711, -17.870200155280273],
                  [-39.40321663690574, -17.869955085973796]]]),
            {
              "reference": 21,
              "system:index": "5"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-39.8150596339524, -19.21013383929377],
                  [-39.81540295670631, -19.244982280527903],
                  [-39.798751803141855, -19.234771642615218]]]),
            {
              "reference": 21,
              "system:index": "6"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-39.879604311686776, -19.28128162438231],
                  [-39.859176607829355, -19.249358073764753],
                  [-39.8890456874192, -19.24757535727232]]]),
            {
              "reference": 21,
              "system:index": "7"
            })]),
    reflo = /* color: #ff4607 */ee.FeatureCollection(
        [ee.Feature(
            ee.Geometry.Polygon(
                [[[-40.90645224417912, -20.17856654783446],
                  [-40.9054222759174, -20.179734700917955],
                  [-40.905336445228926, -20.178687391662795]]]),
            {
              "reference": 9,
              "system:index": "0"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-40.90979964102971, -20.17377300043426],
                  [-40.90876967276799, -20.173732717898968],
                  [-40.9085550960468, -20.17300763048438]]]),
            {
              "reference": 9,
              "system:index": "1"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-40.89799792136418, -20.169301575495496],
                  [-40.898899143593184, -20.168133344256244],
                  [-40.898384159462324, -20.16974469540094]]]),
            {
              "reference": 9,
              "system:index": "2"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-40.892680168734216, -20.179162005837767],
                  [-40.89092063962045, -20.17771187813036],
                  [-40.8925514227015, -20.178235536913938]]]),
            {
              "reference": 9,
              "system:index": "3"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-40.87727356015267, -20.1774701888678],
                  [-40.87834644375863, -20.17714793593494],
                  [-40.87791729031625, -20.177953567018246]]]),
            {
              "reference": 9,
              "system:index": "4"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-40.88259506283822, -20.18242474386114],
                  [-40.88353920041146, -20.182303902929945],
                  [-40.88255214749398, -20.182908106649126]]]),
            {
              "reference": 9,
              "system:index": "5"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-40.87581732961774, -20.227561042716516],
                  [-40.87581732961774, -20.226352979475507],
                  [-40.87654689046979, -20.22739996815999]]]),
            {
              "reference": 9,
              "system:index": "6"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-40.885406620224806, -20.255909204225993],
                  [-40.88373292179951, -20.257640429268974],
                  [-40.88390458317647, -20.25647286101065]]]),
            {
              "reference": 9,
              "system:index": "7"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-40.892444736679884, -20.25429874499426],
                  [-40.89175809117207, -20.25526502253781],
                  [-40.89162934513936, -20.254741622948178]]]),
            {
              "reference": 9,
              "system:index": "8"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-40.617842071112264, -19.948438648510038],
                  [-40.617842071112264, -19.947430134667428],
                  [-40.61912953143941, -19.94892273286596]]]),
            {
              "reference": 9,
              "system:index": "9"
            }),
        ee.Feature(
            ee.Geometry.Polygon(
                [[[-40.62745510822164, -19.947914222115948],
                  [-40.62869965320455, -19.94714774963694],
                  [-40.628828399237264, -19.947954562669647]]]),
            {
              "reference": 9,
              "system:index": "10"
            })]),
    duvida = /* color: #f00722 */ee.Geometry.MultiPoint(
        [[-39.86004234223697, -16.41778368931455],
         [-40.534835787516855, -19.504086368349878]]),
    reg03 = /* color: #98ff00 */ee.FeatureCollection(
        [ee.Feature(
            ee.Geometry.Polygon(
                [[[-50.18770541072362, -29.480423538181547],
                  [-50.22615755916112, -29.367985919370593],
                  [-50.186296618532936, -29.37395630120626],
                  [-50.12312009401036, -29.317679070772268],
                  [-50.105994595293936, -29.24763587221266],
                  [-50.023547608564066, -29.182323109831668],
                  [-49.94875277400487, -29.111547766171764],
                  [-49.92403353572362, -29.01311643158764],
                  [-49.92128695369237, -28.864692143010373],
                  [-49.94463861746968, -28.842426611814552],
                  [-49.93776644587987, -28.78949770830127],
                  [-49.83614291072362, -28.726894576603055],
                  [-49.74001253962987, -28.681122407980656],
                  [-49.66036166072362, -28.626892643867677],
                  [-49.635598858290706, -28.599761782392097],
                  [-49.642458639024994, -28.54880703048439],
                  [-49.545691860918936, -28.493609591698387],
                  [-49.52783907771581, -28.43324511254405],
                  [-49.535389806319195, -28.35707777896648],
                  [-49.49694002986425, -28.278472053343766],
                  [-49.38845003962987, -28.16775486398861],
                  [-49.43755772352447, -28.12052500570711],
                  [-49.45368136287206, -28.085398937387115],
                  [-49.54500521541112, -28.01571040129203],
                  [-49.5807068609508, -28.049352298457865],
                  [-49.61641634822362, -28.03934896556342],
                  [-49.69881380916112, -28.022378214269747],
                  [-49.75374544978612, -27.97812046252627],
                  [-49.83614291072362, -27.932631248312674],
                  [-49.87459963652775, -27.92292854240927],
                  [-49.90480746150487, -27.898046632468557],
                  [-49.919227017168936, -27.878625861573582],
                  [-49.903605019036455, -27.869974512992282],
                  [-49.89622594688502, -27.845539512729474],
                  [-49.93227328181737, -27.83066592396974],
                  [-50.02497042537206, -27.788759516686138],
                  [-50.07784212947362, -27.765066137719273],
                  [-50.13277377009862, -27.709153628987263],
                  [-50.14925326228612, -27.658078036126565],
                  [-50.204359324369435, -27.613893571980547],
                  [-50.253797800931935, -27.601724285136754],
                  [-50.308729441556935, -27.5579036650286],
                  [-50.300489695463185, -27.497012670570196],
                  [-50.37121418276787, -27.47142840031061],
                  [-50.422025950346, -27.554859916482805],
                  [-50.511976511869435, -27.6333616188365],
                  [-50.572401316556935, -27.655259032738293],
                  [-50.685011179838185, -27.647960381823754],
                  [-50.778394968900685, -27.699040704707386],
                  [-50.816847117338185, -27.716062170138652],
                  [-50.852552683744435, -27.66985487297957],
                  [-50.937696726713185, -27.62849493166505],
                  [-50.976148875150685, -27.572512483393297],
                  [-50.945936472806935, -27.419023027738984],
                  [-50.907484324369435, -27.326338756375126],
                  [-51.020094187650685, -27.28729059309292],
                  [-51.135450632963185, -27.240903063647018],
                  [-51.640821726713185, -27.362933925392294],
                  [-51.71206273331423, -27.529079592506843],
                  [-51.805616648588185, -27.81570594775508],
                  [-51.8008101300335, -27.95954192066465],
                  [-51.80973652163506, -28.135888780410024],
                  [-51.73835206599052, -28.19096962071969],
                  [-51.709486277494435, -28.24966333580644],
                  [-51.632581980619435, -28.424324860824413],
                  [-51.69918659487725, -28.563123299509197],
                  [-51.651808054838185, -28.732450629868833],
                  [-51.492506297025685, -28.795050430633186],
                  [-51.390882761869435, -28.790236394529817],
                  [-51.289259226713185, -28.845584383313458],
                  [-51.138197214994435, -28.876855011865903],
                  [-51.031080515775685, -28.896093799081292],
                  [-51.058546336088185, -29.047474552159663],
                  [-51.0475579894909, -29.148244134150982],
                  [-51.064039500150685, -29.19863349488617],
                  [-50.95554950991631, -29.2543621636806],
                  [-50.89135933401514, -29.25468757701843],
                  [-50.78594806948662, -29.281316756990687],
                  [-50.871778757963185, -29.356751786619615],
                  [-50.83813312808037, -29.384277654215957],
                  [-50.79727270884503, -29.378908487163066],
                  [-50.75967911388331, -29.354073988739447],
                  [-50.706983836088185, -29.3687204695908],
                  [-50.638319285306935, -29.45246183969778],
                  [-50.60673359194756, -29.465614922526917],
                  [-50.437818797025685, -29.50745429031137],
                  [-50.36228931522345, -29.503286688376544],
                  [-50.308729441556935, -29.512234832102227],
                  [-50.220838816556935, -29.505063934758628]]]),
            {
              "system:index": "0"
            })]);

// Define the region ID (reg_03)
var regiaoID = 'reg_03'; // old 11

// Define whether to collect data (false)
var coleta = false;   // true or false

// Define the years to process (2016-2023)
var anos = [2016,2017,2018,2019,2020,2021,2022,2023]

// If collecting data, only process 2023
if (coleta) {var anos = [2023]}

// Define the number of trees for the Random Forest classifier (100)
var RFtrees = 100;

// If collecting data, use 200 trees
if (coleta) {var RFtrees = 200}

// Define the output version (1)
var versao_out = 1;

// Define the version of the point data (S2_v1)
var versao_pt = 'S2_v1';

// Define the stable version (3)
var versao_estavel = '3'

// Define the input directory for point data
var dir_pt_in = 'projects/mapbiomas-workspace/AMOSTRAS/col9/MATA_ATLANTICA/teste/';

// Load the 250,000 biomes feature collection
var bioma250mil = ee.FeatureCollection('projects/mapbiomas-workspace/AUXILIAR/biomas_IBGE_250mil');

// Filter the collection to only include the Atlantic Forest biome
var bioma250mil_MA_vetor = bioma250mil.filterMetadata('Bioma','equals', 'Mata Atlântica');

// Load the biomes raster image
var biomes = ee.Image('projects/mapbiomas-workspace/AUXILIAR/biomas-raster-41');

// Mask the biomes image to only include the Atlantic Forest biome
var bioma250mil_MA = biomes.mask(biomes.eq(2));

// Add the Atlantic Forest biome layer to the map
Map.addLayer(bioma250mil_MA,{},'layer bioma',false)

// Import the palettes module
var palettes = require('users/mapbiomas/modules:Palettes.js');
// Define the visualization parameters for the classification
var vis = {
    'min': 0,
    'max': 62,
    'palette': palettes.get('classification7')
};

// Load the Atlantic Forest regions feature collection
var regioesCollection = ee.FeatureCollection('projects/mapbiomas-workspace/AUXILIAR/Mata_Atlantica_col6_PLANET');

// Define the visualization parameters for the median composite
var visParMedian2 = {bands: ['swir1_median', 'nir_median', 'red_median'],gain: [0.08, 0.06, 0.2],gamma: 0.85}

// Define the biome name (MATAATLANTICA)
var bioma = "MATAATLANTICA";

// Define the output directory
var dirout = 'projects/mapbiomas-workspace/COLECAO7/classificacao-ma/';

// Load the S2 cluster image
var S2_cluster = ee.Image('projects/mapbiomas-workspace/AMOSTRAS/S2_2024/MATA_ATLANTICA/mosaicos_MA_S2_clusters_2106_2023')

// Filter the regions collection to only include the specified region ID
var limite = regioesCollection.filterMetadata('reg_id', "equals", regiaoID);
//var limite = reg_04_rev

// Load the stable map from collection 6
var mapa_estavel_col6 = ee.Image('projects/mapbiomas-workspace/AMOSTRAS/col7/MATA_ATLANTICA/MA_amostras_estaveis85a20_col6_v1')
// Add the stable map layer to the map
Map.addLayer(mapa_estavel_col6, vis, 'mapa_estavel_col6', false);

// Create a blank image
var blank = ee.Image(0).mask(0);
// Outline the region boundary
var outline = blank.paint(limite, 'AA0000', 2); 
// Define the visualization parameters for the outline
var visPar = {'palette':'000000','opacity': 0.6};
// Add the outline layer to the map
Map.addLayer(outline, visPar, regiaoID, false);

// Define a function to shuffle a feature collection
var shuffle = function (collection, seed) {
    // Add a random column to the collection
    collection = collection.randomColumn('random', seed || 1)
        // Sort the collection by the random column
        .sort('random', true)
        // Map over the collection and set a new ID based on the random value
        .map(function (feature) {
                var rescaled = ee.Number(feature.get('random')).multiply(1000000000).round();
                return feature.set('new_id', rescaled)});
    // Get a list of the new IDs
    var randomIdList = ee.List(collection.reduceColumns(ee.Reducer.toList(), ['new_id']).get('list'));
    // Create a sequential list of IDs
    var sequentialIdList = ee.List.sequence(1, collection.size());
    // Remap the collection using the new and sequential IDs
    var shuffled = collection.remap(randomIdList, sequentialIdList, 'new_id');
    // Return the shuffled collection
    return shuffled;
};

// Define the visualization parameters for the hand-labeled data
var vis_hand = {
    'min': 0,
    'max': 60,
    'palette': 'blue,white,green,orange,red,brown'
};

// Loop through each year
for (var i_ano=0;i_ano<anos.length; i_ano++){
  // Get the current year
  var ano = anos[i_ano];

  // Define the asset path for the Sentinel-2 mosaics
  var asset = 'projects/mapbiomas-mosaics/assets/SENTINEL/BRAZIL/mosaics-3';
  // Define the band names to use for classification
  var bandNames = ee.List([
  //  THE 60 MOST IMPORTANT BANDS FOR THIS REGION
     'longitude','spri_median','afvi_median_wet','gli_median_dry','green_median_texture_'+ano,'gli_median_wet','latitude','ui_median','swir2_median_wet','afvi_median_dry','red_median_dry','red_edge_1_median','osavi_median_wet','gemi_median_dry','red_edge_4_stdDev','red_edge_3_median','awei_median_wet','ndvi_median_dry_'+ano,'red_edge_1_median_wet','ndwi_median_wet','bsi_median_1','rvi_median_wet','red_edge_2_median','gvmi_median_dry','spri_median_1','ratio_median_wet','ndwi_median_'+ano,'red_edge_3_median_wet','ndvi_median_wet_'+ano,'iia_median','brightness_median_dry','wetness_median_wet','nddi_median_wet','nddi_median','ri_median_wet','evi_median_wet','brightness_median','ratio_median_dry','gvmi_median','ndwi_median','gcvi_median','rvi_median_1','gvmi_median_wet_1','swir1_median','evi_median','red_median','gcvi_median_wet','spri_median_wet','green_median_wet','mbi_median_dry','green_median_texture','shape_median','rvi_median','green_median_dry','blue_median','nddi_median_dry','green_median','shape_median_wet','ri_median','gli_median',
  // ALL 143 BANDS TO FEATURE IMPORTANCE
  //    'blue_median','afvi_median','afvi_median_dry','afvi_median_wet','avi_median','avi_median_dry','avi_median_wet','awei_median','awei_median_dry','awei_median_wet','blue_median_dry','blue_median_wet','blue_stdDev','brba_median','brba_median_dry','brba_median_wet','brightness_median','brightness_median_dry','brightness_median_wet','bsi_median','bsi_median_1','bsi_median_2','clusters_2023','co2flux_median','cvi_median','cvi_median_dry','cvi_median_wet','dswi5_median','dswi5_median_dry','dswi5_median_wet','evi_median','evi_median_dry','evi_median_wet','gcvi_median','gcvi_median_dry','gcvi_median_wet','gemi_median','gemi_median_dry','gemi_median_wet','gli_median','gli_median_dry','gli_median_wet','green_median','green_median_dry','green_median_texture','green_median_texture_2023','green_median_wet','green_min','green_stdDev','gvmi_median','gvmi_median_1','gvmi_median_dry','gvmi_median_dry_1','gvmi_median_wet','gvmi_median_wet_1','iia_median','iia_median_dry','iia_median_wet','lai_median','latitude','longitude','lswi_median','lswi_median_dry','lswi_median_wet','mbi_median','mbi_median_dry','mbi_median_wet','msi_median','msi_median_dry','msi_median_wet','nddi_median','nddi_median_dry','nddi_median_wet','ndvi_median','ndvi_median_dry','ndvi_median_dry_2023','ndvi_median_wet','ndvi_median_wet_2023','ndwi_median','ndwi_median_2023','ndwi_median_dry','ndwi_median_wet','nir_median','nir_median_contrast','nir_median_dry','nir_median_dry_contrast','nir_median_wet','nir_stdDev','osavi_median','osavi_median_dry','osavi_median_wet','ratio_median','ratio_median_dry','ratio_median_wet','red_edge_1_median','red_edge_1_median_dry','red_edge_1_median_wet','red_edge_1_stdDev','red_edge_2_median','red_edge_2_median_dry','red_edge_2_median_wet','red_edge_2_stdDev','red_edge_3_median','red_edge_3_median_dry','red_edge_3_median_wet','red_edge_3_stdDev','red_edge_4_median','red_edge_4_median_dry','red_edge_4_median_wet','red_edge_4_stdDev','red_median','red_median_contrast','red_median_dry','red_median_dry_contrast','red_median_wet','red_min','red_stdDev','ri_median','ri_median_dry','ri_median_wet','rvi_median','rvi_median_1','rvi_median_wet','shape_median','shape_median_dry','shape_median_wet','spri_median','spri_median_1','spri_median_wet','swir1_median','swir1_median_dry','swir1_median_wet','swir1_stdDev','swir2_median','swir2_median_dry','swir2_median_wet','swir2_stdDev','ui_median','ui_median_dry','ui_median_wet','wetness_median','wetness_median_dry','wetness_median_wet',
  ])

  // Filter the Sentinel-2 mosaics collection by version, year, and biome
  var collection = ee.ImageCollection(asset)
        .filter(ee.Filter.eq('version', '3'))
        .filter(ee.Filter.eq('year', ano))
        .filter(ee.Filter.inList('biome', [
            'MATAATLANTICA',
        ])); 

  // Create a mosaic of the filtered collection
  var mosaicoTotal = collection.mosaic()

  // Import the function to add indices for the Caatinga biome
  var addIndexCaatinga = require('users/marcosrosaUSP/MapBiomas_col9_MataAtlan:Mata_Atlantica_SENTINEL2/processa_Bandas_Sentinel2_CAATINGA');

  // Add the Caatinga indices to the mosaic
  mosaicoTotal = addIndexCaatinga.get(mosaicoTotal);

  // Add bands from the S2 cluster image to the mosaic
  mosaicoTotal = mosaicoTotal.addBands(S2_cluster.select([
    'clusters_'+ano, 'ndvi_median_dry_'+ano,'ndvi_median_wet_'+ano,'ndwi_median_'+ano, 'green_median_texture_'+ano
    ]))
    
  // Add the mosaic layer to the map
  Map.addLayer(mosaicoTotal, {'bands': ['swir1_median', 'nir_median', 'red_median'],
    'gain': [0.08, 0.07, 0.2],'gamma': 0.85}, 'Sentinel 2 '+ano, false);
  //print(mosaicoTotal)
  //var BDamostras = ee.FeatureCollection('projects/mapbiomas-workspace/AMOSTRAS/col9/MATA_ATLANTICA/teste/REGIONs_'+regiaoID+'_'+ano)

  // Load the training points for the current year and region
  var BDamostras = ee.FeatureCollection('projects/mapbiomas-workspace/AMOSTRAS/S2_2024/MATA_ATLANTICA/pontos_train_v1_'+ano)
                    .filterMetadata('reg_id', 'equals', regiaoID)

    // Filter the training points by reference class
    var BDflo = BDamostras.filterMetadata("reference", "equals", 3)
    var BDsav = BDamostras.filterMetadata("reference", "equals", 4)//.limit(100)
    var BDreflo = BDamostras.filterMetadata("reference", "equals", 9)
    var BDvarzea = BDamostras.filterMetadata("reference", "equals", 11)
    var BDcampo = BDamostras.filterMetadata("reference", "equals", 12)
    var BDOutroNFlo = BDamostras.filterMetadata("reference", "equals", 13)
    var BDagro = BDamostras.filterMetadata("reference", "equals", 21)
    // BDagro = shuffle(BDagro, 2).limit(1000)
    var BDNaoVeg = BDamostras.filterMetadata("reference", "equals", 22)
    var BDAflora = BDamostras.filterMetadata("reference", "equals", 29)
    var BDagua = BDamostras.filterMetadata("reference", "equals", 33)

  // Complementary samples
  // Merge the training data sets for different land cover classes
  var amostraTotal = varzea.merge(aflora).merge(restinga).merge(flor).merge(varzea).merge(agua).merge(agric).merge(reflo)
  
  // Create an image from the complementary samples
  var amostraTotalimg = amostraTotal.reduceToImage({properties: ['reference'],reducer: ee.Reducer.first()})
  // Rename the band
  amostraTotalimg = amostraTotalimg.select([0],['reference'])
  
  // Sample the mosaic using the complementary samples
  var training_flo = mosaicoTotal.select(bandNames).addBands(amostraTotalimg).sample({'numPixels': 200, 'region': flor.filterBounds(limite), 'scale': 10, 'seed': 1});
  var training_nflo = mosaicoTotal.select(bandNames).addBands(amostraTotalimg).sample({'numPixels': 1100, 'region': restinga.filterBounds(limite), 'scale': 10, 'seed': 1});
  // var training_sav = mosaicoTotal.select(bandNames).addBands(amostraTotalimg).sample({'numPixels': 1000, 'region': sav.filterBounds(limite), 'scale': 10, 'seed': 1});
  var training_afl = mosaicoTotal.select(bandNames).addBands(amostraTotalimg).sample({'numPixels': 400, 'region': aflora.filterBounds(limite), 'scale': 10, 'seed': 1});
  var training_var = mosaicoTotal.select(bandNames).addBands(amostraTotalimg).sample({'numPixels': 1200, 'region': varzea.filterBounds(limite), 'scale': 10, 'seed': 1});
  var training_agu = mosaicoTotal.select(bandNames).addBands(amostraTotalimg).sample({'numPixels': 200, 'region': agua.filterBounds(limite), 'scale': 10, 'seed': 1});
  // var training_cam = mosaicoTotal.select(bandNames).addBands(amostraTotalimg).sample({'numPixels': 500, 'region': campo.filterBounds(limite), 'scale': 10, 'seed': 1});
  // var training_nflo = mosaicoTotal.select(bandNames).addBands(amostraTotalimg).sample({'numPixels': 200, 'region': n_flo.filterBounds(limite), 'scale': 10, 'seed': 1});
  var training_agr = mosaicoTotal.select(bandNames).addBands(amostraTotalimg).sample({'numPixels': 100, 'region': agric.filterBounds(limite), 'scale': 10, 'seed': 1});
  var training_ref = mosaicoTotal.select(bandNames).addBands(amostraTotalimg).sample({'numPixels': 150, 'region': reflo.filterBounds(limite), 'scale': 10, 'seed': 1});

// If collecting data, print the size of each training set
if (coleta) {
//print('BDflo',BDflo.size())
//print('BDreflo',BDreflo.size())
//print('BDsav',BDsav.size())
//print('BDvar',BDvarzea.size())
//print('BDcam',BDcampo.size())
//print('BDOut',BDOutroNFlo.size())
//print('BDAfl',BDAflora.size())
//print('BDagr',BDagro.size())
//print('BDNao',BDNaoVeg.size())
//print('BDagu',BDagua.size())
//  print('training_agr',training_agr.size())
//  print('training_cam',training_cam.size())
print('training_flo',training_flo.size())
//print(training_sav.size())
//print("training_afl",training_afl.size())
print("training_agu",training_agu.size())
print("training_var",training_var.size())
//print(training_cam.size())
print('training_agr',training_agr.size())
print('training_nflo',training_nflo.size())
}

  // Merge all training points into a single feature collection
  var training = BDflo.merge(BDreflo).merge(BDcampo)//.merge(BDsav).merge(BDOutroNFlo).merge(BDAflora)
                      .merge(BDagro).merge(BDNaoVeg).merge(BDagua)
                      //complementares
                      .merge(training_afl).merge(training_var).merge(training_nflo).merge(training_flo)
                      .merge(training_agr).merge(training_ref)//.merge(training_agu)//
                      .merge(training_afl)
                      

  // Train a Random Forest classifier
  var classifierRF = ee.Classifier.smileRandomForest({numberOfTrees: RFtrees, variablesPerSplit:1}).train(training, 'reference', bandNames);

  // If collecting data, print the classifier explanation
  if (coleta) {print(classifierRF.explain())}

  // Train a Gradient Tree Boost classifier
  var classifierGTB = ee.Classifier.smileGradientTreeBoost({numberOfTrees: 30, shrinkage: 0.1, samplingRate: 0.8, loss: 'LeastSquares'}).train(training, 'reference', bandNames);

  // print(classifier.explain())
  // Classify the mosaic using the Random Forest classifier
  var classifiedRF = mosaicoTotal.classify(classifierRF).mask(mosaicoTotal.select('blue_median'));

  // Classify the mosaic using the Gradient Tree Boost classifier
  var classifiedGTB = mosaicoTotal.classify(classifierGTB).mask(mosaicoTotal.select('blue_median'));

  // Rename the classification band and clip the image to the region boundary
  classifiedRF = classifiedRF.select(['classification'],['classification_'+ano]).clip(limite.geometry()).toInt8()
  //  classifiedGTB = classifiedGTB.select(['classification'],['classification_'+ano]).clip(limite.geometry()).toInt8()

  // If collecting data, add the classified images to the map
  if (coleta) {  
    Map.addLayer(classifiedRF, vis, 'RF'+ano+"_"+regiaoID, false);
//    Map.addLayer(classifiedGTB, vis, 'GTB'+ano+"_"+regiaoID, false);
  }

  // If this is the first year, initialize the combined classification image
  if (i_ano == 0){ var classified16a23RF = classifiedRF;}//  var classified16a23GTB = classifiedGTB}  
  // Otherwise, add the current year's classification to the combined image
  else {classified16a23RF = classified16a23RF.addBands(classifiedRF);}// classified16a23GTB = classified16a23GTB.addBands(classifiedGTB)}
}

// If collecting data, do nothing
if (coleta) {}
   // Otherwise, export the combined classification image to an asset
   else 
   {
     // Set metadata for the combined classification image
     classified16a23RF = classified16a23RF
     .set('territory', 'BRAZIL')
     .set('biome', 'MATA ATÂNTICA')
     .set('source', 'arcplan')
     .set('version', '1')
     .set('collection_id',versao_out)

//     classified16a23GTB = classified16a23GTB
//     .set('territory', 'BRAZIL')
//     .set('biome', 'MATA ATÂNTICA')
//     .set('source', 'arcplan')
//     .set('version', '1')
//     .set('collection_id',versao_out)
     
    // Export the Random Forest classification to an asset
    Export.image.toAsset({
       "image": classified16a23RF.toInt8(),
       "description": regiaoID+'-'+'RF_SENTINEL2_v'+versao_out,
       "assetId": dirout + regiaoID+'-'+'RF_SENTINEL2_v'+versao_out,
       "scale": 10,
       "pyramidingPolicy": {
           '.default': 'mode'
       },
       "maxPixels": 1e13,
       "region": limite
     });    
     
//    // Export the Gradient Tree Boost classification to an asset
//    Export.image.toAsset({
//       "image": classified16a23GTB.toInt8(),
//       "description": regiaoID+'-'+'GTB_SENTINEL2_v'+versao_out,
//       "assetId": dirout + regiaoID+'-'+'GTB_SENTINEL2_v'+versao_out,
//       "scale": 10,
//       "pyramidingPolicy": {
//           '.default': 'mode'
//       },
//       "maxPixels": 1e13,
//       "region": limite
//     });    
}
